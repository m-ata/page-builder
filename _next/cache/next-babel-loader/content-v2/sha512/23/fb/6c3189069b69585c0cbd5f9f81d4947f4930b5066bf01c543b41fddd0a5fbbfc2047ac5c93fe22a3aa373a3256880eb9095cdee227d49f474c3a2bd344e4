{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/@webcms-ui/core/signer-pad/index.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { Edit, Visibility } from '@material-ui/icons';\nimport SignatureCanvas from 'react-signature-canvas';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport WebCmsGlobal from 'components/webcms-global';\nimport { useSnackbar } from 'notistack';\nimport { Delete, Upload, ViewList } from '@webcms/orest';\nimport { dataURLtoFile, OREST_ENDPOINT } from 'model/orest/constants';\n\nvar FileViewer = function FileViewer(_ref) {\n  var label = _ref.label,\n      open = _ref.open,\n      handleClose = _ref.handleClose,\n      fileUrl = _ref.fileUrl,\n      closeButtonText = _ref.closeButtonText;\n  return __jsx(Dialog, {\n    fullWidth: true,\n    maxWidth: \"xs\",\n    open: open,\n    onClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, __jsx(DialogTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, label), __jsx(DialogContent, {\n    dividers: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }\n  }, fileUrl ? __jsx(\"img\", {\n    src: fileUrl,\n    style: {\n      width: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 28\n    }\n  }) : 'Not file'), __jsx(DialogActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, closeButtonText)));\n};\n\n_c = FileViewer;\n\nvar SignerPadDialog = function SignerPadDialog(_ref2) {\n  _s();\n\n  var disabled = _ref2.disabled,\n      label = _ref2.label,\n      open = _ref2.open,\n      handleClose = _ref2.handleClose,\n      onCallback = _ref2.onCallback,\n      saveButtonText = _ref2.saveButtonText,\n      closeButtonText = _ref2.closeButtonText;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState(null),\n      trimmedDataURL = _useState[0],\n      setTrimmedDataURL = _useState[1];\n\n  var _useState2 = useState(false),\n      sigPad = _useState2[0],\n      setSigPad = _useState2[1];\n\n  useEffect(function () {\n    if (typeof onCallback === \"function\") {\n      onCallback(trimmedDataURL);\n    }\n  }, [trimmedDataURL]);\n\n  var handleSave = function handleSave() {\n    setTrimmedDataURL(sigPad.getTrimmedCanvas().toDataURL('image/png'));\n  };\n\n  var handleClear = function handleClear() {\n    sigPad.clear();\n  };\n\n  return __jsx(Dialog, {\n    fullWidth: true,\n    maxWidth: \"xs\",\n    open: open,\n    onClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, __jsx(DialogTitle, {\n    id: \"max-width-dialog-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, label), __jsx(DialogContent, {\n    dividers: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(SignatureCanvas, {\n    ref: function ref(_ref3) {\n      return setSigPad(_ref3);\n    },\n    penColor: \"black\",\n    canvasProps: {\n      width: 350,\n      height: 200,\n      style: {\n        border: '1px dashed #2196F3',\n        margin: '0 auto',\n        display: 'block'\n      },\n      className: 'sigCanvas'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }), __jsx(Button, {\n    disabled: disabled,\n    style: {\n      position: 'relative',\n      top: 5,\n      left: 22\n    },\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleClear();\n    },\n    disableElevation: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, t('str_clear'))), __jsx(DialogActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    disabled: disabled,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, closeButtonText), __jsx(Button, {\n    onClick: function onClick() {\n      return handleSave();\n    },\n    color: \"primary\",\n    disabled: disabled,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, saveButtonText)));\n};\n\n_s(SignerPadDialog, \"OUuB7W1Py4OntS4n/jKsJ6j9Z2o=\", false, function () {\n  return [useTranslation];\n});\n\n_c2 = SignerPadDialog;\n\nvar SignerPad = function SignerPad(_ref4) {\n  _s2();\n\n  var id = _ref4.id,\n      name = _ref4.name,\n      label = _ref4.label,\n      required = _ref4.required,\n      disabled = _ref4.disabled,\n      fullWidth = _ref4.fullWidth,\n      size = _ref4.size,\n      variant = _ref4.variant,\n      error = _ref4.error,\n      helperText = _ref4.helperText,\n      optionLabel = _ref4.optionLabel,\n      optionKey = _ref4.optionKey,\n      defValue = _ref4.defValue,\n      trgQueryKey = _ref4.trgQueryKey,\n      onUpdateCallBack = _ref4.onUpdateCallBack;\n\n  var _useTranslation2 = useTranslation(),\n      t = _useTranslation2.t;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS;\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var useToken = useSelector(function (state) {\n    var _state$orest, _state$orest$currentU;\n\n    return (state === null || state === void 0 ? void 0 : (_state$orest = state.orest) === null || _state$orest === void 0 ? void 0 : (_state$orest$currentU = _state$orest.currentUser) === null || _state$orest$currentU === void 0 ? void 0 : _state$orest$currentU.auth.access_token) || false;\n  });\n\n  var _useState3 = useState(false),\n      openSignerPadDialog = _useState3[0],\n      setOpenSignerPadDialog = _useState3[1];\n\n  var _useState4 = useState(false),\n      openViewerDialog = _useState4[0],\n      setOpenViewerDialog = _useState4[1];\n\n  var _useState5 = useState(false),\n      fileUrl = _useState5[0],\n      setFileUrl = _useState5[1];\n\n  var _useState6 = useState(false),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var getIsFileExists = function getIsFileExists(code, mid) {\n    return ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RAFILE,\n      token: useToken,\n      params: {\n        query: \"code::\".concat(code, \",masterid::\").concat(mid),\n        limit: 1,\n        allhotels: true\n      }\n    }).then(function (rafileViewListResponse) {\n      var _rafileViewListRespon;\n\n      if (rafileViewListResponse.status === 200 && (rafileViewListResponse === null || rafileViewListResponse === void 0 ? void 0 : (_rafileViewListRespon = rafileViewListResponse.data) === null || _rafileViewListRespon === void 0 ? void 0 : _rafileViewListRespon.data.length) > 0) {\n        return rafileViewListResponse.data.data[0];\n      } else {\n        return false;\n      }\n    })[\"catch\"](function () {\n      return false;\n    });\n  };\n\n  var handleFileUpload = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(useFile) {\n      var fileUpload, fileDelete, fileIsExists, fileIsUpload;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              fileUpload = function fileUpload(code, mid, trgQueryKey, file) {\n                var signFile = dataURLtoFile(file, \"\".concat(optionLabel, \"-\").concat(mid, \".png\"));\n                return Upload({\n                  apiUrl: GENERAL_SETTINGS.OREST_URL,\n                  token: useToken,\n                  params: {\n                    code: code,\n                    masterid: mid,\n                    orsactive: true,\n                    hotelrefno: trgQueryKey\n                  },\n                  files: [signFile]\n                }).then(function (fileUploadResponse) {\n                  if (fileUploadResponse.status === 200 && fileUploadResponse.data.count > 0) {\n                    return fileUploadResponse.data.data.url.replace('/var/otello', '').replace('/public', '');\n                  } else {\n                    return false;\n                  }\n                })[\"catch\"](function () {\n                  return false;\n                });\n              };\n\n              fileDelete = function fileDelete(gid, hotelrefno) {\n                return Delete({\n                  apiUrl: GENERAL_SETTINGS.OREST_URL,\n                  endpoint: OREST_ENDPOINT.RAFILE,\n                  token: useToken,\n                  gid: gid,\n                  params: {\n                    hotelrefno: hotelrefno\n                  }\n                }).then(function (rafileDeleteResponse) {\n                  return rafileDeleteResponse.status === 200;\n                })[\"catch\"](function () {\n                  return false;\n                });\n              };\n\n              setIsLoading(true);\n              _context.next = 5;\n              return getIsFileExists(optionKey, defValue);\n\n            case 5:\n              fileIsExists = _context.sent;\n\n              if (!fileIsExists) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.next = 9;\n              return fileDelete(fileIsExists.gid, fileIsExists.hotelrefno);\n\n            case 9:\n              _context.next = 11;\n              return fileUpload(optionKey, defValue, trgQueryKey, useFile);\n\n            case 11:\n              fileIsUpload = _context.sent;\n\n              if (fileIsUpload) {\n                onUpdateCallBack();\n                enqueueSnackbar(t('str_fileSuccessfullyUploaded'), {\n                  variant: 'info'\n                });\n                setOpenSignerPadDialog(false);\n              } else {\n                onUpdateCallBack();\n                enqueueSnackbar(t('str_unexpectedProblem'), {\n                  variant: 'info'\n                });\n              }\n\n              setIsLoading(false);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleFileUpload(_x) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var handleOpenFile = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var fileIsExists;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getIsFileExists(optionKey, defValue);\n\n            case 2:\n              fileIsExists = _context2.sent;\n\n              if (fileIsExists) {\n                setFileUrl(GENERAL_SETTINGS.STATIC_URL + fileIsExists.url.replace('/var/otello', '').replace('/public', ''));\n                setOpenViewerDialog(true);\n              } else {\n                enqueueSnackbar(t('str_fileDoesntExist'), {\n                  variant: 'info'\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleOpenFile() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, __jsx(TextField, {\n    id: id,\n    name: name,\n    label: label,\n    required: required,\n    disabled: disabled,\n    fullWidth: fullWidth,\n    size: size,\n    variant: variant,\n    error: error,\n    helperText: helperText,\n    InputLabelProps: {\n      shrink: false\n    },\n    InputProps: {\n      readOnly: true,\n      endAdornment: __jsx(InputAdornment, {\n        position: \"end\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 25\n        }\n      }, __jsx(IconButton, {\n        title: t('str_upload'),\n        disabled: disabled,\n        onClick: function onClick() {\n          return setOpenSignerPadDialog(true);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 29\n        }\n      }, __jsx(Edit, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 33\n        }\n      })), __jsx(IconButton, {\n        title: t('str_view'),\n        disabled: disabled,\n        onClick: function onClick() {\n          return handleOpenFile();\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      }, __jsx(Visibility, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 33\n        }\n      })))\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }), __jsx(SignerPadDialog, {\n    disabled: isLoading,\n    label: label,\n    saveButtonText: t('str_save'),\n    closeButtonText: t('str_close'),\n    open: openSignerPadDialog,\n    handleClose: function handleClose() {\n      return setOpenSignerPadDialog(false);\n    },\n    onCallback: function onCallback(useFile) {\n      return useFile && handleFileUpload(useFile);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }), __jsx(FileViewer, {\n    label: label,\n    closeButtonText: t('str_close'),\n    open: openViewerDialog,\n    fileUrl: fileUrl,\n    handleClose: function handleClose() {\n      return setOpenViewerDialog(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }));\n};\n\n_s2(SignerPad, \"8dUQI4al1z0HyPGfbyVWivQ5/us=\", false, function () {\n  return [useTranslation, useSnackbar, useSelector];\n});\n\n_c3 = SignerPad;\nexport default SignerPad;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"FileViewer\");\n$RefreshReg$(_c2, \"SignerPadDialog\");\n$RefreshReg$(_c3, \"SignerPad\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/@webcms-ui/core/signer-pad/index.js"],"names":["React","useContext","useEffect","useState","useSelector","Button","Dialog","DialogActions","DialogContent","DialogTitle","IconButton","InputAdornment","TextField","Edit","Visibility","SignatureCanvas","useTranslation","WebCmsGlobal","useSnackbar","Delete","Upload","ViewList","dataURLtoFile","OREST_ENDPOINT","FileViewer","label","open","handleClose","fileUrl","closeButtonText","width","SignerPadDialog","disabled","onCallback","saveButtonText","t","trimmedDataURL","setTrimmedDataURL","sigPad","setSigPad","handleSave","getTrimmedCanvas","toDataURL","handleClear","clear","ref","height","style","border","margin","display","className","position","top","left","SignerPad","id","name","required","fullWidth","size","variant","error","helperText","optionLabel","optionKey","defValue","trgQueryKey","onUpdateCallBack","GENERAL_SETTINGS","enqueueSnackbar","useToken","state","orest","currentUser","auth","access_token","openSignerPadDialog","setOpenSignerPadDialog","openViewerDialog","setOpenViewerDialog","setFileUrl","isLoading","setIsLoading","getIsFileExists","code","mid","apiUrl","OREST_URL","endpoint","RAFILE","token","params","query","limit","allhotels","then","rafileViewListResponse","status","data","length","handleFileUpload","useFile","fileUpload","file","signFile","masterid","orsactive","hotelrefno","files","fileUploadResponse","count","url","replace","fileDelete","gid","rafileDeleteResponse","fileIsExists","fileIsUpload","handleOpenFile","STATIC_URL","shrink","readOnly","endAdornment"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    InputAdornment,\n    TextField,\n} from '@material-ui/core'\nimport { Edit, Visibility } from '@material-ui/icons'\nimport SignatureCanvas from 'react-signature-canvas'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport WebCmsGlobal from 'components/webcms-global'\nimport { useSnackbar } from 'notistack'\nimport { Delete, Upload, ViewList } from '@webcms/orest'\nimport { dataURLtoFile, OREST_ENDPOINT } from 'model/orest/constants'\n\nconst FileViewer = ({label, open, handleClose, fileUrl, closeButtonText}) => {\n    return (\n        <Dialog fullWidth={true} maxWidth=\"xs\" open={open} onClose={handleClose}>\n            <DialogTitle>{label}</DialogTitle>\n            <DialogContent dividers>\n                {fileUrl ? <img src={fileUrl} style={{ width:'100%' }} />: 'Not file'}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    {closeButtonText}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nconst SignerPadDialog = ({disabled, label, open, handleClose, onCallback, saveButtonText, closeButtonText}) => {\n    const { t } = useTranslation()\n    const [trimmedDataURL, setTrimmedDataURL] = useState(null)\n    const [sigPad, setSigPad] = useState(false)\n\n    useEffect(() => {\n        if(typeof onCallback === \"function\"){\n            onCallback(trimmedDataURL)\n        }\n    }, [trimmedDataURL])\n\n    const handleSave = () => {\n        setTrimmedDataURL(sigPad.getTrimmedCanvas().toDataURL('image/png'))\n    }\n\n    const handleClear = () => {\n        sigPad.clear()\n    }\n\n    return (\n        <Dialog fullWidth={true} maxWidth=\"xs\" open={open} onClose={handleClose}>\n            <DialogTitle id=\"max-width-dialog-title\">{label}</DialogTitle>\n            <DialogContent dividers>\n                <SignatureCanvas\n                    ref={(ref) => setSigPad(ref)}\n                    penColor='black'\n                    canvasProps={{\n                        width: 350,\n                        height: 200,\n                        style: {\n                            border: '1px dashed #2196F3',\n                            margin: '0 auto',\n                            display: 'block',\n                        }, className: 'sigCanvas',\n                    }} />\n                <Button disabled={disabled} style={{ position: 'relative', top: 5, left: 22 }} variant=\"contained\" color=\"primary\" onClick={()=> handleClear()} disableElevation>\n                    {t('str_clear')}\n                </Button>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\" disabled={disabled}>\n                    {closeButtonText}\n                </Button>\n                <Button onClick={() => handleSave()} color=\"primary\" disabled={disabled}>\n                    {saveButtonText}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nconst SignerPad = ({ id, name, label, required, disabled, fullWidth, size, variant, error, helperText, optionLabel, optionKey, defValue, trgQueryKey, onUpdateCallBack }) => {\n    const { t } = useTranslation()\n    const { GENERAL_SETTINGS } = useContext(WebCmsGlobal)\n    const { enqueueSnackbar } = useSnackbar()\n    const useToken = useSelector((state) => state?.orest?.currentUser?.auth.access_token || false)\n    const [ openSignerPadDialog, setOpenSignerPadDialog ] = useState(false)\n    const [ openViewerDialog, setOpenViewerDialog ] = useState(false)\n    const [ fileUrl, setFileUrl ] = useState(false)\n    const [ isLoading, setIsLoading ] = useState(false)\n\n    const getIsFileExists = (code, mid) => {\n        return ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: useToken,\n            params: {\n                query: `code::${code},masterid::${mid}`,\n                limit: 1,\n                allhotels: true,\n            },\n        }).then((rafileViewListResponse) => {\n            if (rafileViewListResponse.status === 200 && rafileViewListResponse?.data?.data.length > 0) {\n                return rafileViewListResponse.data.data[0]\n            } else {\n                return false\n            }\n        }).catch(() => {\n            return false\n        })\n    }\n\n    const handleFileUpload = async (useFile) => {\n        const fileUpload = (code, mid, trgQueryKey, file) => {\n            const signFile = dataURLtoFile(file, `${optionLabel}-${mid}.png`)\n            return Upload({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                token: useToken,\n                params: {\n                    code: code,\n                    masterid: mid,\n                    orsactive: true,\n                    hotelrefno: trgQueryKey\n                },\n                files: [signFile],\n            }).then((fileUploadResponse) => {\n                if (fileUploadResponse.status === 200 && fileUploadResponse.data.count > 0) {\n                    return fileUploadResponse.data.data.url.replace('/var/otello', '').replace('/public', '')\n                } else {\n                    return false\n                }\n            }).catch(() => {\n                return false\n            })\n        }\n\n        const fileDelete = (gid, hotelrefno) => {\n            return Delete({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token: useToken,\n                gid: gid,\n                params: {\n                    hotelrefno: hotelrefno,\n                },\n            }).then((rafileDeleteResponse) => {\n                return rafileDeleteResponse.status === 200\n            }).catch(() => {\n                return false\n            })\n        }\n\n        setIsLoading(true)\n        const fileIsExists = await getIsFileExists(optionKey, defValue)\n        if(fileIsExists){\n            await fileDelete(fileIsExists.gid, fileIsExists.hotelrefno)\n        }\n\n        const fileIsUpload = await fileUpload(optionKey, defValue, trgQueryKey, useFile)\n        if(fileIsUpload){\n            onUpdateCallBack()\n            enqueueSnackbar(t('str_fileSuccessfullyUploaded'), { variant: 'info' })\n            setOpenSignerPadDialog(false)\n        }else{\n            onUpdateCallBack()\n            enqueueSnackbar(t('str_unexpectedProblem'), { variant: 'info' })\n        }\n        setIsLoading(false)\n    }\n\n    const handleOpenFile = async () => {\n        const fileIsExists = await getIsFileExists(optionKey, defValue)\n        if(fileIsExists){\n            setFileUrl(GENERAL_SETTINGS.STATIC_URL + fileIsExists.url.replace('/var/otello', '').replace('/public', ''))\n            setOpenViewerDialog(true)\n        }else {\n            enqueueSnackbar(t('str_fileDoesntExist'), { variant: 'info' })\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <TextField\n                id={id}\n                name={name}\n                label={label}\n                required={required}\n                disabled={disabled}\n                fullWidth={fullWidth}\n                size={size}\n                variant={variant}\n                error={error}\n                helperText={helperText}\n                InputLabelProps={{\n                    shrink: false,\n                }}\n                InputProps={{\n                    readOnly: true,\n                    endAdornment: (\n                        <InputAdornment position=\"end\">\n                            <IconButton title={t('str_upload')} disabled={disabled} onClick={()=> setOpenSignerPadDialog(true)}>\n                                <Edit />\n                            </IconButton>\n                            <IconButton title={t('str_view')} disabled={disabled} onClick={() => handleOpenFile()}>\n                                <Visibility />\n                            </IconButton>\n                        </InputAdornment>\n                    ),\n                }}\n            />\n            <SignerPadDialog\n                disabled={isLoading}\n                label={label}\n                saveButtonText={t('str_save')}\n                closeButtonText={t('str_close')}\n                open={openSignerPadDialog}\n                handleClose={()=> setOpenSignerPadDialog(false)}\n                onCallback={(useFile) => useFile && handleFileUpload(useFile)}\n            />\n            <FileViewer\n                label={label}\n                closeButtonText={t('str_close')}\n                open={openViewerDialog}\n                fileUrl={fileUrl}\n                handleClose={()=> setOpenViewerDialog(false)}\n            />\n        </React.Fragment>\n    )\n}\n\nexport default SignerPad"]},"metadata":{},"sourceType":"module"}