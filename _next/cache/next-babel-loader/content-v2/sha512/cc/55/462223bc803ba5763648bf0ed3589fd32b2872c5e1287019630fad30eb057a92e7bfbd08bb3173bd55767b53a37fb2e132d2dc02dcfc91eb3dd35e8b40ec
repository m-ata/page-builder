{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/guest/account/AccountKiosk/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GuestLayout from 'components/layout/containers/GuestLayout';\nimport AccountBanner from 'components/layout/components/AccountBanner';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport { BottomNavigation, BottomNavigationAction, Icon } from '@material-ui/core';\nimport Home from './components/Home';\nimport Map from './components/Map';\nimport Faqs from './components/Faqs';\nimport Events from 'components/guest/public/Events';\nimport { IdleTimeoutManager } from \"idle-timer-manager\";\nimport { useOrestAction } from 'model/orest';\nimport { useSelector } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport { useRouter } from \"next/router\";\nimport { connect } from 'react-redux';\nimport LanguageSelectionDialog from './components/LanguageSelectionDialog';\nconst useStyles = makeStyles({\n  root: {\n    position: 'fixed',\n    width: '100%',\n    bottom: 0,\n    boxShadow: '0 -1px 8px 3px #5858584f',\n    height: 85\n  },\n  buttonRoot: {},\n  buttonLabel: {\n    fontSize: '1rem!important'\n  }\n});\n\nconst AccountKiosk = props => {\n  const {\n    state\n  } = props;\n  const classes = useStyles();\n  const {\n    0: value,\n    1: setValue\n  } = useState(0);\n  const {\n    t\n  } = useTranslation();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    deleteOrestCurrentUserInfo\n  } = useOrestAction();\n  const router = useRouter();\n  const loginto = router.query.loginto ? Number(router.query.loginto) : false;\n  const isLogin = useSelector(state => state.orest.currentUser && state.orest.currentUser.auth) ? true : false; //const useKioskStyle = ``\n\n  useEffect(() => {\n    /*\n    const useStyle = document.createElement('style')\n    document.head.appendChild(useStyle)\n    useStyle.sheet.insertRule(useKioskStyle)\n    */\n    const screenActionControl = new IdleTimeoutManager({\n      timeout: loginto || state.loginTo,\n      events: ['mousemove', 'mousedown', 'scroll', 'keydown', 'click'],\n      onExpired: () => {\n        enqueueSnackbar(t('str_sessionTimeoutLoginAgain'), {\n          variant: 'info'\n        });\n        deleteOrestCurrentUserInfo();\n        window.location.href = `/guest?kiosk=true${loginto ? `&loginto=${loginto}` : ''}`;\n      }\n    });\n    return () => {\n      screenActionControl.clear();\n    };\n  }, []);\n  let guestMenu = [{\n    componentId: 'SERVICES',\n    name: 'str_services',\n    hashCode: 'services',\n    iconName: 'room_service',\n    onlylogin: false\n  }, {\n    componentId: 'MAP',\n    name: 'str_map',\n    hashCode: 'info',\n    iconName: 'map',\n    onlylogin: false\n  }, {\n    componentId: 'FAQ',\n    name: 'str_faq',\n    hashCode: 'faq',\n    iconName: 'help',\n    onlylogin: false\n  }, {\n    componentId: 'EVENTS',\n    name: 'str_events',\n    hashCode: 'events',\n    iconName: 'event_available',\n    onlylogin: true\n  }];\n\n  const renderMenuComponent = menuItem => {\n    let component;\n\n    switch (menuItem.componentId) {\n      case 'SERVICES':\n        component = __jsx(Home, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }\n        });\n        break;\n\n      case 'MAP':\n        component = __jsx(Map, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }\n        });\n        break;\n\n      case 'FAQ':\n        component = __jsx(Faqs, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }\n        });\n        break;\n\n      case 'EVENTS':\n        component = __jsx(Events, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }\n        });\n        break;\n    }\n\n    return component;\n  };\n\n  return __jsx(GuestLayout, {\n    isKiosk: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, __jsx(LanguageSelectionDialog, {\n    open: !state.useKioskLanguage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }), isLogin && __jsx(AccountBanner, {\n    isKiosk: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    style: {\n      paddingTop: 40,\n      paddingBottom: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, renderMenuComponent(guestMenu[value])), __jsx(BottomNavigation, {\n    value: value,\n    onChange: (event, newValue) => setValue(newValue),\n    showLabels: true,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, guestMenu.map((item, i) => {\n    return __jsx(BottomNavigationAction, {\n      key: i,\n      classes: {\n        root: classes.buttonRoot,\n        selected: classes.buttonSelected,\n        label: classes.buttonLabel\n      },\n      label: t(item.name),\n      icon: __jsx(Icon, {\n        fontSize: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 31\n        }\n      }, item.iconName),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    });\n  })));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.guest\n  };\n};\n\nexport default connect(mapStateToProps, null)(AccountKiosk);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/guest/account/AccountKiosk/index.js"],"names":["React","useEffect","useState","makeStyles","GuestLayout","AccountBanner","useTranslation","BottomNavigation","BottomNavigationAction","Icon","Home","Map","Faqs","Events","IdleTimeoutManager","useOrestAction","useSelector","useSnackbar","useRouter","connect","LanguageSelectionDialog","useStyles","root","position","width","bottom","boxShadow","height","buttonRoot","buttonLabel","fontSize","AccountKiosk","props","state","classes","value","setValue","t","enqueueSnackbar","deleteOrestCurrentUserInfo","router","loginto","query","Number","isLogin","orest","currentUser","auth","screenActionControl","timeout","loginTo","events","onExpired","variant","window","location","href","clear","guestMenu","componentId","name","hashCode","iconName","onlylogin","renderMenuComponent","menuItem","component","useKioskLanguage","paddingTop","paddingBottom","event","newValue","map","item","i","selected","buttonSelected","label","mapStateToProps","formReducer","guest"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport GuestLayout from 'components/layout/containers/GuestLayout'\nimport AccountBanner from 'components/layout/components/AccountBanner'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport { BottomNavigation, BottomNavigationAction, Icon } from '@material-ui/core'\nimport Home from './components/Home'\nimport Map from './components/Map'\nimport Faqs from './components/Faqs'\nimport Events from 'components/guest/public/Events'\nimport { IdleTimeoutManager } from \"idle-timer-manager\"\nimport { useOrestAction } from 'model/orest'\nimport { useSelector } from 'react-redux'\nimport { useSnackbar } from 'notistack'\nimport { useRouter } from \"next/router\"\nimport { connect } from 'react-redux'\nimport LanguageSelectionDialog from './components/LanguageSelectionDialog'\n\nconst useStyles = makeStyles({\n    root: {\n        position: 'fixed',\n        width: '100%',\n        bottom: 0,\n        boxShadow: '0 -1px 8px 3px #5858584f',\n        height: 85\n    },\n    buttonRoot: {\n\n    },\n    buttonLabel: {\n        fontSize: '1rem!important'\n    }\n});\n\nconst AccountKiosk = (props) =>{\n    const { state } = props\n    const classes = useStyles();\n    const [value, setValue] = useState(0)\n    const { t } = useTranslation()\n    const { enqueueSnackbar } = useSnackbar()\n    const { deleteOrestCurrentUserInfo } = useOrestAction()\n    const router = useRouter()\n    const loginto = router.query.loginto ? Number(router.query.loginto) : false\n    const isLogin = useSelector((state) => state.orest.currentUser && state.orest.currentUser.auth) ? true : false\n    //const useKioskStyle = ``\n\n    useEffect(() => {\n      /*\n      const useStyle = document.createElement('style')\n      document.head.appendChild(useStyle)\n      useStyle.sheet.insertRule(useKioskStyle)\n      */\n\n        const screenActionControl = new IdleTimeoutManager({\n            timeout: loginto || state.loginTo,\n            events: ['mousemove', 'mousedown', 'scroll', 'keydown', 'click'],\n            onExpired: () => {\n                enqueueSnackbar(t('str_sessionTimeoutLoginAgain'), { variant: 'info' })\n                deleteOrestCurrentUserInfo()\n                window.location.href = `/guest?kiosk=true${loginto ? `&loginto=${loginto}` : ''}`\n            },\n        })\n\n        return () => {\n            screenActionControl.clear()\n        }\n    }, [])\n\n    let guestMenu = [\n        {\n            componentId: 'SERVICES',\n            name: 'str_services',\n            hashCode: 'services',\n            iconName: 'room_service',\n            onlylogin: false,\n        },\n        {\n            componentId: 'MAP',\n            name: 'str_map',\n            hashCode: 'info',\n            iconName: 'map',\n            onlylogin: false,\n        },\n        {\n            componentId: 'FAQ',\n            name: 'str_faq',\n            hashCode: 'faq',\n            iconName: 'help',\n            onlylogin: false,\n        },\n        {\n            componentId: 'EVENTS',\n            name: 'str_events',\n            hashCode: 'events',\n            iconName: 'event_available',\n            onlylogin: true,\n        }\n    ]\n\n    const renderMenuComponent = (menuItem) => {\n        let component\n        switch (menuItem.componentId) {\n            case 'SERVICES':\n                component = <Home />\n                break\n            case 'MAP':\n                component = <Map />\n                break\n            case 'FAQ':\n                component = <Faqs />\n                break\n            case 'EVENTS':\n                component = <Events />\n                break\n        }\n\n        return component\n    }\n\n    return (\n        <GuestLayout isKiosk={true}>\n            <LanguageSelectionDialog open={!state.useKioskLanguage}/>\n            {isLogin && <AccountBanner isKiosk={true}/>}\n            <div style={{ paddingTop: 40, paddingBottom: 100 }}>\n                {renderMenuComponent(guestMenu[value])}\n            </div>\n            <BottomNavigation\n                value={value}\n                onChange={(event, newValue) => setValue(newValue)}\n                showLabels\n                className={classes.root}\n            >{guestMenu.map((item, i) => {\n                return (\n                    <BottomNavigationAction\n                        key={i}\n                        classes={{\n                            root: classes.buttonRoot,\n                            selected: classes.buttonSelected,\n                            label: classes.buttonLabel\n                        }}\n                        label={t(item.name)}\n                        icon={<Icon fontSize='large'>{item.iconName}</Icon>}\n                    />\n                )\n            })}\n            </BottomNavigation>\n        </GuestLayout>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.guest,\n    }\n}\n\nexport default connect(mapStateToProps, null)(AccountKiosk)\n"]},"metadata":{},"sourceType":"module"}