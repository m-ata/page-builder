{"ast":null,"code":"import _toConsumableArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/components/page/sections/card-type-slider/EditCardSlider.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Delete, Insert, Patch, UseOrest, ViewList } from \"@webcms/orest\";\nimport { FIELDTYPE, isErrorMsg, OREST_ENDPOINT, OREST_UPLOAD, REQUEST_METHOD_CONST } from \"../../../../../../../model/orest/constants\";\nimport { toast } from \"react-toastify\";\nimport WebCmsGlobal from \"components/webcms-global\";\nimport { useRouter } from \"next/router\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { COLORS, DELETE_SUCCESS, PERCENTAGE_VALUES, SAVED_SUCCESS, UPLOAD_SUCCESS } from \"../../../../constants\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { Button, Card, Container, Divider, FormControl, FormControlLabel, IconButton, Paper, Radio, RadioGroup, TextField, Typography } from \"@material-ui/core\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport validator from \"validator\";\nimport { DropzoneDialog } from \"material-ui-dropzone\";\nimport LoadingSpinner from \"../../../../../../LoadingSpinner\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport RemoveCircleIcon from \"@material-ui/icons/RemoveCircle\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { PercentageSlider } from \"../../../../../../../model/slider\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { getSliderImages, patchListSliderImage } from \"../../../../helpers/slider\";\nimport InputColor from \"react-input-color\";\nimport TextEditor from \"../text-editor\";\nimport BorderColorSharpIcon from \"@material-ui/icons/BorderColorSharp\";\nimport { toSelfName } from './../../../../../../../lib/helpers/useFunction';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    submit: {\n      marginRight: theme.spacing(3),\n      marginTop: theme.spacing(1),\n      borderRadius: 20,\n      \"float\": \"right\"\n    },\n    paperBlock: {\n      height: 350,\n      border: \"2px solid \".concat(COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary),\n      overflow: \"auto\"\n    },\n    disableEvent: {\n      pointerEvents: \"none\",\n      opacity: 0.5\n    },\n    uploadButton: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n      borderRadius: 20,\n      \"float\": 'right'\n    },\n    card: {\n      height: 200,\n      width: 320,\n      margin: theme.spacing(1),\n      cursor: \"pointer\"\n    },\n    alignText: {\n      textAlign: \"right\",\n      color: \"red\"\n    },\n    text: {\n      marginTop: 16,\n      fontWeight: \"bold\",\n      fontSize: 15\n    }\n  };\n});\n\nvar EditCardSlider = function EditCardSlider(props) {\n  _s();\n\n  var cardSlider = props.cardSlider,\n      handleCmponent = props.handleCmponent,\n      langCardSlider = props.langCardSlider;\n\n  var _useState = useState({\n    isRequested: false,\n    openDialog: false,\n    title: '',\n    description: '',\n    selectedIndex: null,\n    hoverIndex: null,\n    showDeleteButton: false,\n    itemCount: 1,\n    sliderID: null,\n    sliderImages: [],\n    selectedImage: null,\n    isCta: false,\n    ctaTitle: '',\n    ctaLink: '',\n    cta: '',\n    isOptimizeImages: false,\n    quality: 50,\n    ctaLinkType: '',\n    pageData: [],\n    langCardSliderData: [],\n    textColor: cardSlider !== null && cardSlider !== void 0 && cardSlider.textColor ? cardSlider.textColor : '#000000',\n    buttonColor: cardSlider !== null && cardSlider !== void 0 && cardSlider.buttonColor ? cardSlider.buttonColor : '#000000',\n    isDialogOpen: false,\n    editorValue: '',\n    dialogType: ''\n  }),\n      localState = _useState[0],\n      setLocalState = _useState[1];\n\n  var isRequested = localState.isRequested,\n      openDialog = localState.openDialog,\n      description = localState.description,\n      title = localState.title,\n      selectedIndex = localState.selectedIndex,\n      hoverIndex = localState.hoverIndex,\n      showDeleteButton = localState.showDeleteButton,\n      itemCount = localState.itemCount,\n      sliderID = localState.sliderID,\n      sliderImages = localState.sliderImages,\n      selectedImage = localState.selectedImage,\n      isCta = localState.isCta,\n      ctaLink = localState.ctaLink,\n      ctaTitle = localState.ctaTitle,\n      cta = localState.cta,\n      quality = localState.quality,\n      isOptimizeImages = localState.isOptimizeImages,\n      ctaLinkType = localState.ctaLinkType,\n      pageData = localState.pageData,\n      langCardSliderData = localState.langCardSliderData,\n      buttonColor = localState.buttonColor,\n      textColor = localState.textColor,\n      isDialogOpen = localState.isDialogOpen,\n      dialogType = localState.dialogType,\n      editorValue = localState.editorValue;\n  var state = useSelector(function (state) {\n    return state.formReducer.pageBuilder;\n  });\n  var classes = useStyles();\n  var router = useRouter();\n  var companyId = router.query.companyID;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS,\n      token = _useContext.token;\n\n  var authToken = token || router.query.authToken;\n  useEffect(function () {\n    //getting data from rafile\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RAFILE,\n      token: authToken,\n      params: {\n        hotelrefno: Number(companyId),\n        query: \"filetype::WEBPAGE,istemplate::false}\"\n      }\n    }).then(function (res) {\n      var _res$data;\n\n      if (res.status === 200 && res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && _res$data.data) {\n        setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            pageData: res.data.data\n          });\n        });\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n  }, []);\n  useEffect(function () {\n    if ((state === null || state === void 0 ? void 0 : state.langCode) === (state === null || state === void 0 ? void 0 : state.defaultLang)) {\n      handleCmponent({\n        service: \"hcmitemsld\",\n        type: \"card-slider\",\n        gid: cardSlider === null || cardSlider === void 0 ? void 0 : cardSlider.gid,\n        width: cardSlider === null || cardSlider === void 0 ? void 0 : cardSlider.width,\n        id: cardSlider === null || cardSlider === void 0 ? void 0 : cardSlider.id,\n        textColor: textColor,\n        buttonColor: buttonColor\n      });\n    } else {\n      handleCmponent({\n        cardSlider: langCardSliderData\n      });\n    }\n  }, [sliderImages, title, description, cta, langCardSliderData, textColor, buttonColor]);\n  useEffect(function () {\n    if (cardSlider !== null && cardSlider !== void 0 && cardSlider.gid) {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          isRequested: true\n        });\n      });\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n        token: authToken,\n        params: {\n          query: \"gid:\".concat(cardSlider.gid),\n          hotelrefno: Number(companyId)\n        }\n      }).then( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n          var _res$data3, _res$data3$data$, sldImages, updatedImages, retErr;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!((res === null || res === void 0 ? void 0 : res.status) === 200)) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  setLocalState(function (prev) {\n                    var _res$data2, _res$data2$data$;\n\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      sliderID: res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$data$ = _res$data2.data[0]) === null || _res$data2$data$ === void 0 ? void 0 : _res$data2$data$.id\n                    });\n                  });\n                  _context.next = 4;\n                  return getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$data$ = _res$data3.data[0]) === null || _res$data3$data$ === void 0 ? void 0 : _res$data3$data$.id);\n\n                case 4:\n                  sldImages = _context.sent;\n                  sldImages.sort(function (a, b) {\n                    return a.orderno > b.orderno ? 1 : -1;\n                  });\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      isRequested: false\n                    });\n                  });\n\n                  if (sldImages) {\n                    updatedImages = [];\n                    sldImages.map(function (data) {\n                      updatedImages.push(data);\n                    });\n                    setLocalState(function (prev) {\n                      return _objectSpread(_objectSpread({}, prev), {}, {\n                        sliderImages: updatedImages,\n                        itemCount: updatedImages.length + 1,\n                        openDialog: false\n                      });\n                    });\n                    handleSelectedImage(1, updatedImages[0]);\n                  } else {\n                    toast.warn('Something went wrong while fetching images. Please check network tab.', {\n                      position: toast.POSITION.TOP_RIGHT\n                    });\n                  }\n\n                  _context.next = 13;\n                  break;\n\n                case 10:\n                  retErr = isErrorMsg(res);\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      isRequested: false\n                    });\n                  });\n                  toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n\n                case 13:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n  }, [cardSlider]);\n  useEffect(function () {\n    if (ctaTitle && ctaLink) {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          cta: \"<a target=\\\"_blank\\\" href=\\\"\".concat(ctaLink, \"\\\" > \").concat(ctaTitle, \" </a>\")\n        });\n      });\n    }\n  }, [ctaTitle, ctaLink]);\n  useEffect(function () {\n    if (langCardSlider !== null && langCardSlider !== void 0 && langCardSlider.cardSlider) {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          langCardSliderData: langCardSlider.cardSlider\n        });\n      });\n    }\n  }, [langCardSlider]);\n\n  var handleSelectedImage = function handleSelectedImage(index, image) {\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        selectedIndex: index,\n        selectedImage: image\n      });\n    });\n\n    if ((state === null || state === void 0 ? void 0 : state.langCode) === (state === null || state === void 0 ? void 0 : state.defaultLang)) {\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMIMG,\n        token: authToken,\n        params: {\n          query: \"gid:\".concat(image.gid),\n          sort: 'orderno',\n          hotelrefno: Number(companyId)\n        }\n      }).then(function (res) {\n        if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n          var _res$data4, _res$data4$data;\n\n          if ((res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$data = _res$data4.data) === null || _res$data4$data === void 0 ? void 0 : _res$data4$data.length) > 0) {\n            setLocalState(function (prev) {\n              var _res$data$data$, _res$data$data$2, _res$data$data$3, _res$data$data$4, _res$data$data$5;\n\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                title: (_res$data$data$ = res.data.data[0]) !== null && _res$data$data$ !== void 0 && _res$data$data$.title ? (_res$data$data$2 = res.data.data[0]) === null || _res$data$data$2 === void 0 ? void 0 : _res$data$data$2.title : '',\n                description: (_res$data$data$3 = res.data.data[0]) !== null && _res$data$data$3 !== void 0 && _res$data$data$3.description ? (_res$data$data$4 = res.data.data[0]) === null || _res$data$data$4 === void 0 ? void 0 : _res$data$data$4.description : '',\n                cta: (_res$data$data$5 = res.data.data[0]) === null || _res$data$data$5 === void 0 ? void 0 : _res$data$data$5.cta\n              });\n            });\n\n            if (res.data.data[0].cta) {\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  isCta: true\n                });\n              });\n              var matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n              if ((matchs === null || matchs === void 0 ? void 0 : matchs.length) > 0) {\n                var cta_title = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    ctaLink: matchs[0],\n                    ctaTitle: cta_title,\n                    ctaLinkType: 'external'\n                  });\n                });\n              } else {\n                var _res$data$data$0$cta$;\n\n                var ctaGid = (_res$data$data$0$cta$ = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _res$data$data$0$cta$ === void 0 ? void 0 : _res$data$data$0$cta$.split(' ')[0];\n\n                var _cta_title = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    ctaLink: ctaGid,\n                    ctaTitle: _cta_title,\n                    ctaLinkType: 'internal'\n                  });\n                });\n              }\n            } else {\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  ctaLink: '',\n                  ctaTitle: '',\n                  isCta: false\n                });\n              });\n            }\n          }\n        } else {\n          var retErr = isErrorMsg(res);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    } else {\n      if ((langCardSliderData === null || langCardSliderData === void 0 ? void 0 : langCardSliderData.length) > 0) {\n        var _langCardSliderData3;\n\n        setLocalState(function (prev) {\n          var _langCardSliderData, _langCardSliderData2;\n\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            title: (_langCardSliderData = langCardSliderData[index - 1]) === null || _langCardSliderData === void 0 ? void 0 : _langCardSliderData.title,\n            description: (_langCardSliderData2 = langCardSliderData[index - 1]) === null || _langCardSliderData2 === void 0 ? void 0 : _langCardSliderData2.description\n          });\n        });\n\n        if ((_langCardSliderData3 = langCardSliderData[index - 1]) !== null && _langCardSliderData3 !== void 0 && _langCardSliderData3.cta) {\n          setLocalState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              isCta: true\n            });\n          });\n          var matchs = langCardSliderData[index - 1].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n          if ((matchs === null || matchs === void 0 ? void 0 : matchs.length) > 0) {\n            var cta_title = langCardSliderData[index - 1].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                ctaLink: matchs[0],\n                ctaTitle: cta_title,\n                ctaLinkType: 'external'\n              });\n            });\n          } else {\n            var _langCardSliderData$c;\n\n            var ctaGid = (_langCardSliderData$c = langCardSliderData[index - 1].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _langCardSliderData$c === void 0 ? void 0 : _langCardSliderData$c.split(' ')[0];\n\n            var _cta_title2 = langCardSliderData[index - 1].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                ctaLink: ctaGid,\n                ctaTitle: _cta_title2,\n                ctaLinkType: 'internal'\n              });\n            });\n          }\n        } else {\n          setLocalState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              ctaLink: '',\n              ctaTitle: '',\n              isCta: false\n            });\n          });\n        }\n      } else {\n        var _langCardSlider$cardS3;\n\n        setLocalState(function (prev) {\n          var _langCardSlider$cardS, _langCardSlider$cardS2;\n\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            title: langCardSlider === null || langCardSlider === void 0 ? void 0 : (_langCardSlider$cardS = langCardSlider.cardSlider[index - 1]) === null || _langCardSlider$cardS === void 0 ? void 0 : _langCardSlider$cardS.title,\n            description: langCardSlider === null || langCardSlider === void 0 ? void 0 : (_langCardSlider$cardS2 = langCardSlider.cardSlider[index - 1]) === null || _langCardSlider$cardS2 === void 0 ? void 0 : _langCardSlider$cardS2.description\n          });\n        });\n\n        if (langCardSlider !== null && langCardSlider !== void 0 && (_langCardSlider$cardS3 = langCardSlider.cardSlider[0]) !== null && _langCardSlider$cardS3 !== void 0 && _langCardSlider$cardS3.cta) {\n          setLocalState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              isCta: true\n            });\n          });\n\n          var _matchs = langCardSlider === null || langCardSlider === void 0 ? void 0 : langCardSlider.cardSlider[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n          if ((_matchs === null || _matchs === void 0 ? void 0 : _matchs.length) > 0) {\n            var _cta_title3 = langCardSlider === null || langCardSlider === void 0 ? void 0 : langCardSlider.cardSlider[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_matchs[0], '').replace('>', '').replace('</a>', '').trim();\n\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                ctaLink: _matchs[0],\n                ctaTitle: _cta_title3,\n                ctaLinkType: 'external'\n              });\n            });\n          } else {\n            var _langCardSlider$cardS4;\n\n            var _ctaGid = langCardSlider === null || langCardSlider === void 0 ? void 0 : (_langCardSlider$cardS4 = langCardSlider.cardSlider[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _langCardSlider$cardS4 === void 0 ? void 0 : _langCardSlider$cardS4.split(' ')[0];\n\n            var _cta_title4 = langCardSlider === null || langCardSlider === void 0 ? void 0 : langCardSlider.cardSlider[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                ctaLink: _ctaGid,\n                ctaTitle: _cta_title4,\n                ctaLinkType: 'internal'\n              });\n            });\n          }\n        } else {\n          setLocalState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              ctaLink: '',\n              ctaTitle: '',\n              isCta: false\n            });\n          });\n        }\n      }\n    }\n  };\n\n  var ImageUpload = function ImageUpload(apiUrl, endPoint, token, masterID, file) {\n    var url = apiUrl + '/' + endPoint + OREST_UPLOAD;\n    var binaryData = [];\n    binaryData.push(file);\n    var formData = new FormData();\n    formData.append('file', new Blob(binaryData, {\n      type: file.type\n    }), toSelfName(file.name));\n    var options = {\n      url: url,\n      method: 'post',\n      headers: {\n        \"Authorization\": \"Bearer \".concat(token),\n        'Content-Type': 'multipart/form-data'\n      },\n      params: {\n        orsactive: true,\n        masterid: masterID,\n        hotelrefno: companyId,\n        quality: quality / 100,\n        scale: quality / 100\n      },\n      data: formData\n    };\n    return axios(options).then(function (response) {\n      return response;\n    })[\"catch\"](function (error) {\n      return error.response || {\n        status: 0\n      };\n    });\n  };\n\n  var asyncUpload = function asyncUpload(file, itemTreated, callback) {\n    if (state.hcmItemId) {\n      setTimeout(function () {\n        Insert({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMIMG,\n          token: authToken,\n          data: {\n            itemid: state.hcmItemId,\n            imgtype: FIELDTYPE.IMG,\n            orderno: itemTreated,\n            sliderid: sliderID,\n            hotelrefno: Number(companyId),\n            imgquality: quality / 100,\n            imgscale: quality / 100\n          }\n        }).then(function (r1) {\n          var _r1$data;\n\n          if (r1.status === 200 && r1 !== null && r1 !== void 0 && (_r1$data = r1.data) !== null && _r1$data !== void 0 && _r1$data.data) {\n            var _r1$data2;\n\n            var updatedImages = _toConsumableArray(sliderImages);\n\n            updatedImages.push(r1 === null || r1 === void 0 ? void 0 : (_r1$data2 = r1.data) === null || _r1$data2 === void 0 ? void 0 : _r1$data2.data);\n            ImageUpload(GENERAL_SETTINGS.OREST_URL, OREST_ENDPOINT.RAFILE, authToken, r1.data.data.mid, file).then(function (r) {\n              if (r.status === 200) {\n                callback();\n              } else {\n                callback();\n              }\n            });\n          } else {\n            callback();\n          }\n        });\n      }, 100);\n    }\n  };\n\n  var handleSaveImage = function handleSaveImage(files) {\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isRequested: true\n      });\n    });\n    var orderNo = itemCount;\n    var requests = files.map(function (file) {\n      return new Promise(function (resolve) {\n        asyncUpload(file, orderNo, resolve);\n        orderNo++;\n      });\n    });\n    Promise.all(requests).then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var sldImages, updatedImages;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID);\n\n            case 2:\n              sldImages = _context2.sent;\n              sldImages.sort(function (a, b) {\n                return a.orderno > b.orderno ? 1 : -1;\n              });\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  isRequested: false\n                });\n              });\n\n              if (sldImages) {\n                updatedImages = [];\n                sldImages.map(function (data) {\n                  updatedImages.push(data);\n                });\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    sliderImages: updatedImages,\n                    itemCount: updatedImages.length + 1,\n                    openDialog: false\n                  });\n                });\n                handleSelectedImage(1, updatedImages[0]);\n                toast.success(UPLOAD_SUCCESS, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              } else {\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    isRequestSend: false\n                  });\n                });\n                toast.warn('Images not found', {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              }\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n  };\n\n  var handleDeleteImage = function handleDeleteImage(gid) {\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isRequested: true\n      });\n    });\n    Delete({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.HCMITEMIMG,\n      token: authToken,\n      gid: gid,\n      params: {\n        hotelrefno: Number(companyId)\n      }\n    }).then( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res) {\n        var sldImages, updatedImages, requestPassed, _iterator, _step, sldImage, updatedSliderImage, retErr;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(res.status === 200)) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                _context3.next = 3;\n                return getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID);\n\n              case 3:\n                sldImages = _context3.sent;\n                sldImages.sort(function (a, b) {\n                  return a.orderno > b.orderno ? 1 : -1;\n                });\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    isRequested: false\n                  });\n                });\n\n                if (sldImages) {\n                  updatedImages = [];\n                  sldImages.map(function (data, index) {\n                    data.orderno = index + 1;\n                    updatedImages.push(data);\n                  });\n                  requestPassed = true;\n                  _iterator = _createForOfIteratorHelper(sldImages);\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      sldImage = _step.value;\n                      updatedSliderImage = patchListSliderImage(GENERAL_SETTINGS.OREST_URL, authToken, companyId, {\n                        orderno: sldImage.orderno\n                      }, {\n                        hotelrefno: Number(companyId)\n                      }, sldImage.gid);\n                      updatedSliderImage ? requestPassed = true : requestPassed = false;\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                  if (requestPassed) {\n                    setLocalState(function (prev) {\n                      return _objectSpread(_objectSpread({}, prev), {}, {\n                        sliderImages: updatedImages,\n                        selectedIndex: 1\n                      });\n                    });\n                    handleSelectedImage(1, updatedImages[0]);\n                  } else {\n                    setLocalState(function (prev) {\n                      return _objectSpread(_objectSpread({}, prev), {}, {\n                        selectedIndex: null\n                      });\n                    });\n                  }\n\n                  toast.success(DELETE_SUCCESS, {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                } else {\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      isRequestSend: false\n                    });\n                  });\n                  toast.warn('Images not found', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                }\n\n                _context3.next = 12;\n                break;\n\n              case 9:\n                retErr = isErrorMsg(res);\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    isRequested: false\n                  });\n                });\n                toast.error(retErr.errorMsg, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  };\n\n  var handleUpdateImage = function handleUpdateImage() {\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isRequested: true\n      });\n    });\n\n    if ((state === null || state === void 0 ? void 0 : state.langCode) === (state === null || state === void 0 ? void 0 : state.defaultLang)) {\n      Patch({\n        // update image\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMIMG,\n        token: authToken,\n        gid: selectedImage === null || selectedImage === void 0 ? void 0 : selectedImage.gid,\n        params: {\n          hotelrefno: Number(companyId)\n        },\n        data: {\n          title: title,\n          description: description,\n          cta: cta\n        }\n      }).then(function (res) {\n        if (res.status === 200) {\n          setLocalState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              isRequested: false\n            });\n          });\n          toast.success(SAVED_SUCCESS, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        } else {\n          setLocalState(function (prev) {\n            return _objectSpread(_objectSpread({}, prev), {}, {\n              isRequested: false\n            });\n          });\n          var retErr = isErrorMsg(res);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    } else {\n      var updatedlangCardSliderData = _toConsumableArray(langCardSliderData);\n\n      updatedlangCardSliderData[selectedIndex - 1] = {\n        title: title,\n        description: description,\n        cta: cta\n      };\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          langCardSliderData: updatedlangCardSliderData\n        });\n      });\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          isRequested: false\n        });\n      });\n      toast.success(SAVED_SUCCESS, {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    }\n  };\n\n  var handleUpdateOrderNo = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(gid, orderNo, orderType) {\n      var tmpSliderImages, tmp, _tmp, requestPassed, _iterator2, _step2, sldImage, updatedSliderImage;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              // update order no of slider images\n              if (orderNo <= 0 || orderNo > sliderImages.length) {\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    selectedIndex: null\n                  });\n                });\n              } else {\n                tmpSliderImages = _toConsumableArray(sliderImages);\n\n                if (orderType === 'increment') {\n                  tmp = tmpSliderImages[orderNo - 1];\n                  tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo - 2];\n                  tmpSliderImages[orderNo - 2] = tmp;\n                } else {\n                  _tmp = tmpSliderImages[orderNo - 1];\n                  tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo];\n                  tmpSliderImages[orderNo] = _tmp;\n                }\n\n                tmpSliderImages.map(function (data, index) {\n                  data.orderno = index + 1;\n                });\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    isRequested: true\n                  });\n                });\n                requestPassed = true;\n                _iterator2 = _createForOfIteratorHelper(tmpSliderImages);\n\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    sldImage = _step2.value;\n                    updatedSliderImage = patchListSliderImage(GENERAL_SETTINGS.OREST_URL, authToken, companyId, {\n                      orderno: sldImage.orderno\n                    }, {\n                      hotelrefno: Number(companyId)\n                    }, sldImage.gid);\n                    updatedSliderImage ? requestPassed = true : requestPassed = false;\n                  }\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n\n                setLocalState(function (prev) {\n                  return _objectSpread(_objectSpread({}, prev), {}, {\n                    isRequested: false\n                  });\n                });\n\n                if (requestPassed) {\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      sliderImages: tmpSliderImages,\n                      itemCount: (tmpSliderImages === null || tmpSliderImages === void 0 ? void 0 : tmpSliderImages.length) + 1\n                    });\n                  });\n                  handleSelectedImage(1, tmpSliderImages[0]);\n                  toast.success('Order No Updated Successfully', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                } else {\n                  toast.error('Something went wrong while updating order no. Please check network tab.', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                }\n              }\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleUpdateOrderNo(_x3, _x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleImageQualityChange = function handleImageQualityChange(value) {\n    if (value >= 10 && value <= 90 && value % 10 === 0) {\n      if (sliderImages.length) {\n        setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            isRequested: true\n          });\n        });\n        var gids = sliderImages.map(function (image) {\n          return {\n            gid: image.gid,\n            imgquality: value / 100,\n            imgscale: value / 100\n          };\n        });\n        UseOrest({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMIMG + '/' + OREST_ENDPOINT.LIST + '/' + OREST_ENDPOINT.PATCH,\n          token: authToken,\n          method: REQUEST_METHOD_CONST.PATCH,\n          data: gids,\n          params: {\n            hotelrefno: Number(companyId)\n          }\n        }).then(function (res) {\n          var _res$data5;\n\n          if ((res === null || res === void 0 ? void 0 : res.status) === 200 && res !== null && res !== void 0 && (_res$data5 = res.data) !== null && _res$data5 !== void 0 && _res$data5.data) {\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                isRequested: false,\n                quality: value\n              });\n            });\n          } else {\n            var retErr = isErrorMsg(res);\n            toast.error(retErr.errorMsg, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        });\n      } else {\n        setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            quality: value\n          });\n        });\n      }\n    }\n  };\n\n  var handleTextEditorValue = function handleTextEditorValue(value) {\n    if (dialogType === 'title') {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          title: value\n        });\n      });\n    }\n\n    if (dialogType === 'description') {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          description: value\n        });\n      });\n    }\n\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isDialogOpen: false,\n        dialogType: '',\n        editorValue: ''\n      });\n    });\n  };\n\n  var handleCancelEditor = function handleCancelEditor() {\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isDialogOpen: false,\n        dialogType: '',\n        editorValue: ''\n      });\n    });\n  };\n\n  var handleDialogOpen = function handleDialogOpen(type) {\n    if (type === 'title') {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          isDialogOpen: true,\n          dialogType: type,\n          editorValue: title\n        });\n      });\n    }\n\n    if (type === 'description') {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          isDialogOpen: true,\n          dialogType: type,\n          editorValue: description\n        });\n      });\n    }\n  };\n\n  if (isRequested) {\n    return __jsx(LoadingSpinner, {\n      size: 50,\n      style: {\n        color: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-end',\n    className: isRequested ? classes.disableEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 624,\n      columnNumber: 17\n    }\n  }, __jsx(FormControlLabel, {\n    className: classes.labelFont,\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    control: __jsx(Checkbox, {\n      size: 'small',\n      checked: isOptimizeImages,\n      onChange: function onChange() {\n        return setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            isOptimizeImages: !isOptimizeImages\n          });\n        });\n      },\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 29\n      }\n    }),\n    label: \"Optimize Images\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 7,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 1,\n    style: {\n      marginTop: 6,\n      marginLeft: 16\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 25\n    }\n  }, __jsx(Typography, {\n    component: 'span',\n    style: {\n      marginLeft: -8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 29\n    }\n  }, \"Text\")), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 644,\n      columnNumber: 25\n    }\n  }, __jsx(InputColor, {\n    onChange: function onChange(color) {\n      return setLocalState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          textColor: color.hex\n        });\n      });\n    },\n    placement: \"right\",\n    initialValue: textColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 29\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    style: {\n      marginTop: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 25\n    }\n  }, __jsx(Typography, {\n    component: 'span',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 29\n    }\n  }, \"Button\")), __jsx(Grid, {\n    item: true,\n    xs: 4,\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 25\n    }\n  }, __jsx(InputColor, {\n    onChange: function onChange(color) {\n      return setLocalState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          buttonColor: color.hex\n        });\n      });\n    },\n    placement: \"right\",\n    initialValue: buttonColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 29\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 25\n    }\n  }, __jsx(Button, {\n    onClick: function onClick() {\n      return setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          openDialog: true\n        });\n      });\n    },\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"upload\",\n    className: classes.uploadButton,\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 29\n    }\n  }, __jsx(CloudUploadIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 33\n    }\n  }), \"UPLOAD\"))))), isOptimizeImages && __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 37\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 29\n    }\n  }, __jsx(PercentageSlider, {\n    marks: PERCENTAGE_VALUES,\n    value: quality,\n    onChange: function onChange(e, value) {\n      return handleImageQualityChange(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 33\n    }\n  }))))), __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    spacing: 3,\n    className: isRequested ? classes.disableEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 17\n    }\n  }, __jsx(Paper, {\n    className: classes.paperBlock,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 21\n    }\n  }, (sliderImages === null || sliderImages === void 0 ? void 0 : sliderImages.length) > 0 && sliderImages.map(function (value, index) {\n    return __jsx(Grid, {\n      key: index,\n      container: true,\n      justify: 'center',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 37\n      }\n    }, __jsx(Grid, {\n      item: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 41\n      }\n    }, __jsx(Card, {\n      className: classes.card,\n      style: {\n        border: index + 1 === selectedIndex ? '2px solid red' : \"1px solid \".concat(COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary)\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 45\n      }\n    }, __jsx(\"div\", {\n      style: {\n        backgroundImage: \"url(\".concat(GENERAL_SETTINGS.STATIC_URL + value.fileurl, \")\"),\n        height: '100%',\n        width: '100%',\n        backgroundSize: 'cover',\n        borderRadius: 5\n      },\n      onMouseEnter: function onMouseEnter() {\n        setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            showDeleteButton: true,\n            hoverIndex: index\n          });\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            showDeleteButton: false,\n            hoverIndex: index\n          });\n        });\n      },\n      onClick: function onClick() {\n        return handleSelectedImage(index + 1, value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 49\n      }\n    }, showDeleteButton && hoverIndex === index && __jsx(IconButton, {\n      disabled: isRequested,\n      component: \"span\",\n      color: 'primary',\n      className: index === sliderImages.length - 1 || (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang) ? classes.disableEvent : '',\n      onClick: function onClick() {\n        return handleUpdateOrderNo(value.gid, value.orderno + 1, 'increment');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 101\n      }\n    }, __jsx(AddCircleIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 61\n      }\n    })), showDeleteButton && hoverIndex === index && __jsx(Typography, {\n      component: \"span\",\n      color: 'primary',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 101\n      }\n    }, value.orderno), showDeleteButton && hoverIndex === index && __jsx(IconButton, {\n      disabled: isRequested,\n      component: \"span\",\n      color: 'primary',\n      className: index === 0 || (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang) ? classes.disableEvent : '',\n      onClick: function onClick() {\n        return handleUpdateOrderNo(value.gid, value.orderno - 1, 'decrement');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 101\n      }\n    }, __jsx(RemoveCircleIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 61\n      }\n    })), showDeleteButton && hoverIndex === index && __jsx(IconButton, {\n      onClick: function onClick() {\n        return handleDeleteImage(value.gid);\n      },\n      disabled: isRequested || (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n      \"aria-label\": \"upload picture\",\n      component: \"span\",\n      style: {\n        \"float\": \"right\"\n      },\n      color: 'primary',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 101\n      }\n    }, __jsx(CancelIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 61\n      }\n    }))))));\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 7,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 17\n    }\n  }, __jsx(Paper, {\n    className: classes.paperBlock,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 21\n    }\n  }, selectedIndex && __jsx(React.Fragment, null, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 33\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 37\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 41\n    }\n  }, __jsx(Typography, {\n    component: 'h6',\n    variant: 'h6',\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 774,\n      columnNumber: 45\n    }\n  }, \"Title\")), __jsx(Grid, {\n    item: true,\n    xs: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 41\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"Edit Title\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleDialogOpen('title');\n    },\n    style: {\n      \"float\": 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 45\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 49\n    }\n  }))))), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 794,\n      columnNumber: 33\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 37\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 796,\n      columnNumber: 41\n    }\n  }, __jsx(Typography, {\n    component: 'h6',\n    variant: 'h6',\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 797,\n      columnNumber: 45\n    }\n  }, \"Description\")), __jsx(Grid, {\n    item: true,\n    xs: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 41\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"Edit Title\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleDialogOpen('description');\n    },\n    style: {\n      \"float\": 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 45\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 49\n    }\n  }))))), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 33\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 818,\n      columnNumber: 37\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 11,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 41\n    }\n  }, __jsx(Typography, {\n    component: 'h6',\n    variant: 'h6',\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 45\n    }\n  }, \"Do you want to add button for image ?\")), __jsx(Grid, {\n    item: true,\n    xs: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 828,\n      columnNumber: 41\n    }\n  }, __jsx(Typography, {\n    component: 'div',\n    style: {\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 829,\n      columnNumber: 45\n    }\n  }, __jsx(Switch, {\n    size: 'small',\n    checked: isCta,\n    onChange: function onChange() {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          cta: '',\n          isCta: !isCta,\n          ctaTitle: '',\n          ctaLink: ''\n        });\n      });\n    },\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    inputProps: {\n      'aria-label': 'secondary checkbox'\n    },\n    color: 'primary',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 49\n    }\n  }))))), isCta && __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 846,\n      columnNumber: 37\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 847,\n      columnNumber: 41\n    }\n  }, __jsx(FormControl, {\n    component: \"fieldset\",\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 45\n    }\n  }, __jsx(RadioGroup, {\n    \"aria-label\": \"link-type\",\n    row: true,\n    value: ctaLinkType,\n    onChange: function onChange(e) {\n      var _e$target = e === null || e === void 0 ? void 0 : e.target,\n          value = _e$target.value;\n\n      setLocalState(function (prev) {\n        var _pageData$;\n\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          ctaLinkType: value,\n          ctaLink: value === 'internal' ? (_pageData$ = pageData[0]) === null || _pageData$ === void 0 ? void 0 : _pageData$.code : ''\n        });\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 49\n    }\n  }, __jsx(FormControlLabel, {\n    value: \"external\",\n    control: __jsx(Radio, {\n      color: 'primary',\n      size: 'small',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 97\n      }\n    }),\n    label: \"External Link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 853,\n      columnNumber: 53\n    }\n  }), __jsx(FormControlLabel, {\n    value: \"internal\",\n    control: __jsx(Radio, {\n      color: 'primary',\n      size: 'small',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 97\n      }\n    }),\n    label: \"Internal Link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 854,\n      columnNumber: 53\n    }\n  })))), __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    spacing: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 858,\n      columnNumber: 41\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 859,\n      columnNumber: 45\n    }\n  }, __jsx(TextField, {\n    size: 'small',\n    id: \"button-title\",\n    variant: \"outlined\",\n    label: 'Title',\n    value: ctaTitle,\n    fullWidth: true,\n    onChange: function onChange(e) {\n      return setLocalState(function (prev) {\n        var _e$target2;\n\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          ctaTitle: e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.value\n        });\n      });\n    },\n    style: {\n      marginTop: 8\n    },\n    helperText: ctaTitle && __jsx(Typography, {\n      variant: \"caption\",\n      className: classes.alignText,\n      display: \"block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 69\n      }\n    }, \"\".concat(ctaTitle === null || ctaTitle === void 0 ? void 0 : ctaTitle.length, \" < 100\")),\n    inputProps: {\n      maxLength: 99\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 860,\n      columnNumber: 49\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 881,\n      columnNumber: 45\n    }\n  }, ctaLinkType === 'external' ? __jsx(TextField, {\n    size: 'small',\n    id: \"button-link\",\n    variant: \"outlined\",\n    label: 'Link',\n    value: ctaLink,\n    error: ctaLink ? !validator.isURL(ctaLink) : false,\n    onChange: function onChange(e) {\n      return setLocalState(function (prev) {\n        var _e$target3;\n\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          ctaLink: e === null || e === void 0 ? void 0 : (_e$target3 = e.target) === null || _e$target3 === void 0 ? void 0 : _e$target3.value\n        });\n      });\n    },\n    style: {\n      marginTop: 8\n    },\n    fullWidth: true,\n    helperText: ctaLink && __jsx(Typography, {\n      variant: \"caption\",\n      className: classes.alignText,\n      display: \"block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 76\n      }\n    }, \"\".concat(ctaLink === null || ctaLink === void 0 ? void 0 : ctaLink.length, \" < 100\")),\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    inputProps: {\n      maxLength: 99\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 57\n    }\n  }) : __jsx(FormControl, {\n    variant: \"outlined\",\n    size: 'small',\n    style: {\n      marginTop: 8\n    },\n    fullWidth: true,\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 910,\n      columnNumber: 57\n    }\n  }, __jsx(Select, {\n    value: ctaLink,\n    onChange: function onChange(e) {\n      var _e$target4 = e === null || e === void 0 ? void 0 : e.target,\n          value = _e$target4.value;\n\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          ctaLink: value\n        });\n      });\n    },\n    label: \"Web Pages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 61\n    }\n  }, pageData.map(function (option, index) {\n    return __jsx(MenuItem, {\n      value: option.code,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 927,\n        columnNumber: 77\n      }\n    }, ' ', option.code, ' ');\n  })))))), __jsx(Divider, {\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 941,\n      columnNumber: 33\n    }\n  }), __jsx(Button, {\n    onClick: handleUpdateImage,\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    className: classes.submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 942,\n      columnNumber: 33\n    }\n  }, \"SUBMIT\"))))), __jsx(DropzoneDialog, {\n    open: openDialog,\n    onSave: handleSaveImage,\n    acceptedFiles: ['image/jpeg', 'image/png', 'image/bmp'],\n    showPreviews: true,\n    maxFileSize: 5000000,\n    filesLimit: 5,\n    onClose: function onClose() {\n      return setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          openDialog: false\n        });\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 957,\n      columnNumber: 13\n    }\n  }), isDialogOpen && __jsx(TextEditor, {\n    handleSaveTextEditor: handleTextEditorValue,\n    handleCancelTextEditor: handleCancelEditor,\n    data: editorValue,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 968,\n      columnNumber: 17\n    }\n  }));\n};\n\n_s(EditCardSlider, \"xgqsKnNJjFIUj8KBNlEm6tpp8Cs=\", false, function () {\n  return [useSelector, useStyles, useRouter];\n});\n\n_c = EditCardSlider;\nexport default EditCardSlider;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCardSlider\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/components/page/sections/card-type-slider/EditCardSlider.js"],"names":["React","useContext","useEffect","useState","Delete","Insert","Patch","UseOrest","ViewList","FIELDTYPE","isErrorMsg","OREST_ENDPOINT","OREST_UPLOAD","REQUEST_METHOD_CONST","toast","WebCmsGlobal","useRouter","makeStyles","COLORS","DELETE_SUCCESS","PERCENTAGE_VALUES","SAVED_SUCCESS","UPLOAD_SUCCESS","Grid","Button","Card","Container","Divider","FormControl","FormControlLabel","IconButton","Paper","Radio","RadioGroup","TextField","Typography","CloudUploadIcon","CancelIcon","Switch","validator","DropzoneDialog","LoadingSpinner","axios","useSelector","AddCircleIcon","RemoveCircleIcon","Checkbox","PercentageSlider","Select","MenuItem","getSliderImages","patchListSliderImage","InputColor","TextEditor","BorderColorSharpIcon","toSelfName","useStyles","theme","submit","marginRight","spacing","marginTop","borderRadius","paperBlock","height","border","secondary","overflow","disableEvent","pointerEvents","opacity","uploadButton","marginBottom","marginLeft","card","width","margin","cursor","alignText","textAlign","color","text","fontWeight","fontSize","EditCardSlider","props","cardSlider","handleCmponent","langCardSlider","isRequested","openDialog","title","description","selectedIndex","hoverIndex","showDeleteButton","itemCount","sliderID","sliderImages","selectedImage","isCta","ctaTitle","ctaLink","cta","isOptimizeImages","quality","ctaLinkType","pageData","langCardSliderData","textColor","buttonColor","isDialogOpen","editorValue","dialogType","localState","setLocalState","state","formReducer","pageBuilder","classes","router","companyId","query","companyID","GENERAL_SETTINGS","token","authToken","apiUrl","OREST_URL","endpoint","RAFILE","params","hotelrefno","Number","then","res","status","data","prev","retErr","error","errorMsg","position","POSITION","TOP_RIGHT","langCode","defaultLang","service","type","gid","id","HCMITEMSLD","sldImages","sort","a","b","orderno","updatedImages","map","push","length","handleSelectedImage","warn","index","image","HCMITEMIMG","matchs","match","cta_title","replace","trim","ctaGid","split","ImageUpload","endPoint","masterID","file","url","binaryData","formData","FormData","append","Blob","name","options","method","headers","orsactive","masterid","scale","response","asyncUpload","itemTreated","callback","hcmItemId","setTimeout","itemid","imgtype","IMG","sliderid","imgquality","imgscale","r1","mid","r","handleSaveImage","files","orderNo","requests","Promise","resolve","all","success","isRequestSend","handleDeleteImage","requestPassed","sldImage","updatedSliderImage","handleUpdateImage","updatedlangCardSliderData","handleUpdateOrderNo","orderType","tmpSliderImages","tmp","handleImageQualityChange","value","gids","LIST","PATCH","handleTextEditorValue","handleCancelEditor","handleDialogOpen","labelFont","prevState","hex","e","backgroundImage","STATIC_URL","fileurl","backgroundSize","target","code","maxLength","isURL","option"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {Delete, Insert, Patch, UseOrest, ViewList} from \"@webcms/orest\";\nimport {\n    FIELDTYPE,\n    isErrorMsg,\n    OREST_ENDPOINT,\n    OREST_UPLOAD,\n    REQUEST_METHOD_CONST\n} from \"../../../../../../../model/orest/constants\";\nimport {toast} from \"react-toastify\";\nimport WebCmsGlobal from \"components/webcms-global\";\nimport {useRouter} from \"next/router\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {COLORS, DELETE_SUCCESS, PERCENTAGE_VALUES, SAVED_SUCCESS, UPLOAD_SUCCESS} from \"../../../../constants\";\nimport Grid from \"@material-ui/core/Grid\";\nimport {\n    Button,\n    Card,\n    Container,\n    Divider, FormControl,\n    FormControlLabel,\n    IconButton,\n    Paper, Radio, RadioGroup,\n    TextField,\n    Typography\n} from \"@material-ui/core\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport validator from \"validator\";\nimport {DropzoneDialog} from \"material-ui-dropzone\";\nimport LoadingSpinner from \"../../../../../../LoadingSpinner\";\nimport axios from \"axios\";\nimport {useSelector} from \"react-redux\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport RemoveCircleIcon from \"@material-ui/icons/RemoveCircle\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport {PercentageSlider} from \"../../../../../../../model/slider\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {getSliderImages, patchListSliderImage} from \"../../../../helpers/slider\";\nimport InputColor from \"react-input-color\";\nimport TextEditor from \"../text-editor\";\nimport BorderColorSharpIcon from \"@material-ui/icons/BorderColorSharp\";\nimport { toSelfName } from './../../../../../../../lib/helpers/useFunction';\n\nconst useStyles = makeStyles(theme => ({\n    submit: {\n        marginRight: theme.spacing(3),\n        marginTop: theme.spacing(1),\n        borderRadius: 20,\n        float: \"right\"\n    },\n    paperBlock: {\n        height: 350,\n        border: `2px solid ${COLORS?.secondary}`,\n        overflow: \"auto\"\n    },\n    disableEvent: {\n        pointerEvents: \"none\",\n        opacity: 0.5\n    },\n    uploadButton: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        marginLeft: theme.spacing(1),\n        borderRadius: 20,\n        float: 'right'\n    },\n    card: {\n        height: 200,\n        width: 320,\n        margin: theme.spacing(1),\n        cursor: \"pointer\"\n    },\n    alignText: {\n        textAlign: \"right\",\n        color: \"red\"\n    },\n    text: {\n        marginTop: 16,\n        fontWeight: \"bold\",\n        fontSize: 15\n    }\n}));\n\nconst EditCardSlider = (props) => {\n\n    const { cardSlider, handleCmponent, langCardSlider } = props;\n\n    const [localState, setLocalState] = useState({\n        isRequested: false,\n        openDialog: false,\n        title: '',\n        description: '',\n        selectedIndex: null,\n        hoverIndex: null,\n        showDeleteButton: false,\n        itemCount: 1,\n        sliderID: null,\n        sliderImages: [],\n        selectedImage: null,\n        isCta: false,\n        ctaTitle: '',\n        ctaLink: '',\n        cta: '',\n        isOptimizeImages: false,\n        quality: 50,\n        ctaLinkType: '',\n        pageData: [],\n        langCardSliderData: [],\n        textColor: cardSlider?.textColor ? cardSlider.textColor : '#000000',\n        buttonColor: cardSlider?.buttonColor ? cardSlider.buttonColor : '#000000',\n        isDialogOpen: false,\n        editorValue: '',\n        dialogType: ''\n    });\n\n    const { isRequested, openDialog, description, title, selectedIndex,\n        hoverIndex, showDeleteButton, itemCount, sliderID, sliderImages,\n        selectedImage, isCta, ctaLink, ctaTitle, cta, quality, isOptimizeImages,\n        ctaLinkType, pageData, langCardSliderData, buttonColor, textColor,\n        isDialogOpen, dialogType, editorValue} = localState;\n\n    const state = useSelector(state => state.formReducer.pageBuilder);\n\n    const classes = useStyles();\n\n    const router = useRouter();\n    const companyId = router.query.companyID;\n    const {GENERAL_SETTINGS, token} = useContext(WebCmsGlobal);\n    const authToken = token || router.query.authToken;\n\n    useEffect(() => {\n        //getting data from rafile\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n                query: `filetype::WEBPAGE,istemplate::false}`,\n            }\n        }).then(res => {\n            if (res.status === 200 && res?.data?.data) {\n                setLocalState(prev => ({...prev, pageData: res.data.data}))\n            } else {\n                const retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        })\n    }, []);\n\n    useEffect(() => {\n        if (state?.langCode === state?.defaultLang) {\n            handleCmponent({\n                service: \"hcmitemsld\",\n                type: \"card-slider\",\n                gid: cardSlider?.gid,\n                width: cardSlider?.width,\n                id: cardSlider?.id,\n                textColor: textColor,\n                buttonColor: buttonColor\n            });\n        } else {\n            handleCmponent({\n                cardSlider: langCardSliderData\n            })\n        }\n    }, [sliderImages, title, description, cta, langCardSliderData, textColor, buttonColor]);\n\n    useEffect(() => {\n        if (cardSlider?.gid) {\n            setLocalState(prev => ({...prev, isRequested: true}))\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                token: authToken,\n                params: {\n                    query: `gid:${cardSlider.gid}`,\n                    hotelrefno:  Number(companyId)\n                }\n            }).then(async res => {\n                if (res?.status === 200) {\n                    setLocalState(prev => ({...prev, sliderID: res?.data?.data[0]?.id}));\n                    const sldImages = await getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, res?.data?.data[0]?.id);\n                    sldImages.sort((a, b) => (a.orderno > b.orderno) ? 1 : -1);\n                    setLocalState(prev => ({...prev, isRequested: false}));\n                    if (sldImages) {\n                        let updatedImages = [];\n                        sldImages.map((data) => {\n                            updatedImages.push(data);\n                        });\n                        setLocalState(prev => ({...prev, sliderImages: updatedImages, itemCount: updatedImages.length + 1, openDialog: false}));\n                        handleSelectedImage(1, updatedImages[0]);\n                    } else {\n                        toast.warn('Something went wrong while fetching images. Please check network tab.', {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                } else {\n                    const retErr = isErrorMsg(res);\n                    setLocalState(prev => ({...prev, isRequested: false}))\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            })\n        }\n    }, [cardSlider]);\n\n    useEffect(() => {\n        if(ctaTitle && ctaLink) {\n            setLocalState(prev => ({...prev, cta: `<a target=\"_blank\" href=\"${ctaLink}\" > ${ctaTitle} </a>`}));\n        }\n    }, [ctaTitle, ctaLink]);\n\n    useEffect(() => {\n        if (langCardSlider?.cardSlider) {\n            setLocalState(prev => ({...prev, langCardSliderData: langCardSlider.cardSlider}))\n        }\n    }, [langCardSlider]);\n\n    const handleSelectedImage = (index, image) => {\n        setLocalState(prev => ({...prev, selectedIndex: index, selectedImage: image}));\n        if (state?.langCode === state?.defaultLang) {\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                token: authToken,\n                params: {\n                    query: `gid:${image.gid}`,\n                    sort: 'orderno',\n                    hotelrefno:  Number(companyId)\n                }\n            }).then(res => {\n                if (res?.status === 200) {\n                    if (res?.data?.data?.length > 0) {\n                        setLocalState(prev => ({...prev, title: res.data.data[0]?.title ? res.data.data[0]?.title : '',\n                            description: res.data.data[0]?.description ? res.data.data[0]?.description : '',\n                            cta: res.data.data[0]?.cta}));\n                        if (res.data.data[0].cta) {\n                            setLocalState(prev => ({...prev, isCta: true}));\n                            const matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                            if (matchs?.length > 0) {\n                                const cta_title = res.data.data[0].cta.replace(`<a target=\"_blank\" href=\"`,\n                                    '').replace(matchs[0], '').replace('>',\n                                    '').replace('</a>', '').trim();\n                                setLocalState(prev => ({...prev, ctaLink: matchs[0], ctaTitle: cta_title, ctaLinkType: 'external'}));\n                            } else {\n                                const ctaGid = res.data.data[0].cta.replace(`<a target=\"_blank\" href=\"`,\n                                    '').replace('>',\n                                    '').replace('</a>', '').replace('\"', '').trim()?.split(' ')[0];\n                                const cta_title = res.data.data[0].cta.replace(`<a target=\"_blank\" href=\"`,\n                                    '').replace(ctaGid + '\"', '').replace('>',\n                                    '').replace('</a>', '').trim();\n                                setLocalState(prev => ({...prev, ctaLink: ctaGid, ctaTitle: cta_title, ctaLinkType: 'internal'}));\n                            }\n                        } else {\n                            setLocalState(prev => ({...prev, ctaLink: '', ctaTitle: '', isCta: false}));\n                        }\n                    }\n                } else {\n                    const retErr = isErrorMsg(res);\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            })\n        } else {\n            if (langCardSliderData?.length > 0) {\n                setLocalState(prev => ({...prev, title: langCardSliderData[index - 1]?.title,\n                    description: langCardSliderData[index - 1]?.description}))\n                if (langCardSliderData[index - 1]?.cta) {\n                    setLocalState(prev => ({...prev, isCta: true}));\n                    const matchs = langCardSliderData[index - 1].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n                    if (matchs?.length > 0) {\n                        const cta_title = langCardSliderData[index - 1].cta.replace(`<a target=\"_blank\" href=\"`,\n                            '').replace(matchs[0], '').replace('>',\n                            '').replace('</a>', '').trim();\n                        setLocalState(prev => ({...prev, ctaLink: matchs[0], ctaTitle: cta_title, ctaLinkType: 'external'}));\n                    } else {\n                        const ctaGid = langCardSliderData[index - 1].cta.replace(`<a target=\"_blank\" href=\"`,\n                            '').replace('>',\n                            '').replace('</a>', '').replace('\"', '').trim()?.split(' ')[0];\n                        const cta_title = langCardSliderData[index - 1].cta.replace(`<a target=\"_blank\" href=\"`,\n                            '').replace(ctaGid + '\"', '').replace('>',\n                            '').replace('</a>', '').trim();\n                        setLocalState(prev => ({...prev, ctaLink: ctaGid, ctaTitle: cta_title, ctaLinkType: 'internal'}));\n                    }\n                } else {\n                    setLocalState(prev => ({...prev, ctaLink: '', ctaTitle: '', isCta: false}));\n                }\n            } else {\n                setLocalState(prev => ({...prev, title: langCardSlider?.cardSlider[index - 1]?.title,\n                    description: langCardSlider?.cardSlider[index - 1]?.description }))   ;\n                if (langCardSlider?.cardSlider[0]?.cta) {\n                    setLocalState(prev => ({...prev, isCta: true}));\n                    const matchs = langCardSlider?.cardSlider[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                    if (matchs?.length > 0) {\n                        const cta_title = langCardSlider?.cardSlider[0].cta.replace(`<a target=\"_blank\" href=\"`,\n                            '').replace(matchs[0], '').replace('>',\n                            '').replace('</a>', '').trim();\n                        setLocalState(prev => ({...prev, ctaLink: matchs[0], ctaTitle: cta_title, ctaLinkType: 'external'}));\n                    } else {\n                        const ctaGid = langCardSlider?.cardSlider[0].cta.replace(`<a target=\"_blank\" href=\"`,\n                            '').replace('>',\n                            '').replace('</a>', '').replace('\"', '').trim()?.split(' ')[0];\n                        const cta_title = langCardSlider?.cardSlider[0].cta.replace(`<a target=\"_blank\" href=\"`,\n                            '').replace(ctaGid + '\"', '').replace('>',\n                            '').replace('</a>', '').trim();\n                        setLocalState(prev => ({...prev, ctaLink: ctaGid, ctaTitle: cta_title, ctaLinkType: 'internal'}));\n                    }\n                } else {\n                    setLocalState(prev => ({...prev, ctaLink: '', ctaTitle: '', isCta: false}));\n                }\n            }\n        }\n    }\n\n    const ImageUpload = (apiUrl, endPoint, token, masterID, file) => {\n        const url = apiUrl + '/' + endPoint + OREST_UPLOAD;\n        let binaryData = [];\n        binaryData.push(file);\n        let formData = new FormData();\n        formData.append('file', new Blob(binaryData, {type: file.type}), toSelfName(file.name));\n\n        const options = {\n            url: url,\n            method: 'post',\n            headers: {\n                \"Authorization\": `Bearer ${token}`,\n                'Content-Type': 'multipart/form-data'\n            },\n            params: {\n                orsactive: true,\n                masterid: masterID,\n                hotelrefno: companyId,\n                quality: quality/100,\n                scale: quality/100\n            },\n            data: formData\n        };\n\n        return axios(options).then(response => {\n            return response\n        }).catch(error => {\n            return error.response || {status: 0};\n        });\n    };\n\n    const asyncUpload = (file, itemTreated, callback) => {\n        if (state.hcmItemId) {\n            setTimeout(() => {\n                Insert({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                    token: authToken,\n                    data: {\n                        itemid: state.hcmItemId,\n                        imgtype: FIELDTYPE.IMG,\n                        orderno: itemTreated,\n                        sliderid: sliderID,\n                        hotelrefno: Number(companyId),\n                        imgquality: quality/100,\n                        imgscale: quality/100\n                    },\n                }).then(r1 => {\n                    if (r1.status === 200 && r1?.data?.data) {\n                        let updatedImages = [...sliderImages];\n                        updatedImages.push(r1?.data?.data);\n                        ImageUpload(\n                            GENERAL_SETTINGS.OREST_URL,\n                            OREST_ENDPOINT.RAFILE,\n                            authToken,\n                            r1.data.data.mid,\n                            file\n                        ).then(r => {\n                            if (r.status === 200) {\n                                callback();\n                            } else {\n                                callback();\n                            }\n                        });\n                    } else {\n                        callback();\n                    }\n                });\n            }, 100);\n        }\n    }\n\n    const handleSaveImage = (files) => {\n        setLocalState(prev => ({...prev, isRequested: true}))\n        let orderNo = itemCount;\n        let requests = files.map((file) => {\n            return new Promise( (resolve) => {\n                asyncUpload(file, orderNo, resolve);\n                orderNo ++ ;\n            });\n        });\n\n        Promise.all(requests).then(async () => {\n            const sldImages = await getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID);\n            sldImages.sort((a, b) => (a.orderno > b.orderno) ? 1 : -1)\n            setLocalState(prev => ({...prev, isRequested: false}));\n            if (sldImages) {\n                let updatedImages = [];\n                sldImages.map((data) => {\n                    updatedImages.push(data);\n                });\n                setLocalState(prev => ({...prev, sliderImages: updatedImages, itemCount: updatedImages.length + 1, openDialog: false}));\n                handleSelectedImage(1, updatedImages[0]);\n                toast.success(UPLOAD_SUCCESS, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            } else {\n                setLocalState(prev => ({...prev, isRequestSend: false}));\n                toast.warn('Images not found', {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        });\n    }\n\n    const handleDeleteImage = (gid) => {\n        setLocalState(prev => ({...prev, isRequested: true}))\n        Delete({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMIMG,\n            token: authToken,\n            gid: gid,\n            params: {\n                hotelrefno: Number(companyId)\n            }\n        }).then(async res => {\n            if (res.status === 200) {\n                const sldImages = await getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID);\n                sldImages.sort((a, b) => (a.orderno > b.orderno) ? 1 : -1)\n                setLocalState(prev => ({...prev, isRequested: false}));\n                if (sldImages) {\n                    let updatedImages = [];\n                    sldImages.map((data, index) => {\n                        data.orderno = index + 1;\n                        updatedImages.push(data);\n                    });\n                    let requestPassed = true;\n                    for (const sldImage of sldImages) {\n                        const updatedSliderImage = patchListSliderImage(GENERAL_SETTINGS.OREST_URL, authToken, companyId, {orderno: sldImage.orderno}, {hotelrefno: Number(companyId)}, sldImage.gid);\n                        updatedSliderImage ? requestPassed = true : requestPassed = false;\n                    }\n                    if (requestPassed) {\n                        setLocalState(prev => ({...prev, sliderImages: updatedImages, selectedIndex: 1}));\n                        handleSelectedImage(1, updatedImages[0]);\n                    } else {\n                        setLocalState(prev => ({...prev, selectedIndex: null}));\n                    }\n                    toast.success(DELETE_SUCCESS, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                } else {\n                    setLocalState(prev => ({...prev, isRequestSend: false}));\n                    toast.warn('Images not found', {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            } else {\n                const retErr = isErrorMsg(res);\n                setLocalState(prev => ({...prev, isRequested: false}))\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        });\n    }\n\n    const handleUpdateImage = () => {\n        setLocalState(prev => ({...prev, isRequested: true}));\n        if (state?.langCode === state?.defaultLang) {\n            Patch({ // update image\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                token: authToken,\n                gid: selectedImage?.gid,\n                params: {\n                    hotelrefno: Number(companyId),\n                },\n                data: {\n                    title: title,\n                    description: description,\n                    cta: cta\n                }\n            }).then(res => {\n                if(res.status === 200) {\n                    setLocalState(prev => ({...prev, isRequested: false}));\n                    toast.success(SAVED_SUCCESS, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                } else {\n                    setLocalState(prev => ({...prev, isRequested: false}));\n                    const retErr = isErrorMsg(res);\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            })\n        } else {\n            const updatedlangCardSliderData = [...langCardSliderData];\n            updatedlangCardSliderData[selectedIndex - 1] = {\n                title: title,\n                description: description,\n                cta: cta\n            }\n            setLocalState(prev => ({...prev, langCardSliderData: updatedlangCardSliderData}));\n            setLocalState(prev => ({...prev, isRequested: false}));\n            toast.success(SAVED_SUCCESS, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        }\n    }\n\n    const handleUpdateOrderNo = async (gid, orderNo, orderType) => { // update order no of slider images\n        if (orderNo <= 0 || orderNo > sliderImages.length) {\n            setLocalState(prev => ({...prev, selectedIndex: null}))\n        } else {\n            const tmpSliderImages = [...sliderImages];\n            if (orderType === 'increment') {\n                const tmp = tmpSliderImages[orderNo - 1];\n                tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo - 2];\n                tmpSliderImages[orderNo - 2] = tmp;\n            } else {\n                const tmp = tmpSliderImages[orderNo - 1];\n                tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo];\n                tmpSliderImages[orderNo] = tmp;\n            }\n            tmpSliderImages.map((data, index) => {\n                data.orderno = index + 1;\n            });\n            setLocalState(prev => ({...prev, isRequested: true}));\n            let requestPassed = true;\n            for (const sldImage of tmpSliderImages) {\n                const updatedSliderImage = patchListSliderImage(GENERAL_SETTINGS.OREST_URL, authToken, companyId, {orderno: sldImage.orderno}, {hotelrefno: Number(companyId)}, sldImage.gid);\n                updatedSliderImage ? requestPassed = true : requestPassed = false;\n            }\n            setLocalState(prev => ({...prev, isRequested: false}));\n            if (requestPassed) {\n                setLocalState(prev => ({...prev, sliderImages: tmpSliderImages, itemCount: tmpSliderImages?.length + 1}));\n                handleSelectedImage(1, tmpSliderImages[0]);\n                toast.success('Order No Updated Successfully', {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            } else {\n                toast.error('Something went wrong while updating order no. Please check network tab.', {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        }\n    }\n\n    const handleImageQualityChange = (value) => {\n        if (value >= 10 && value <= 90 && value % 10 === 0) {\n            if (sliderImages.length) {\n                setLocalState(prev => ({...prev, isRequested: true}));\n                const gids = sliderImages.map(image => {\n                    return {gid: image.gid, imgquality: value / 100, imgscale: value / 100};\n                });\n                UseOrest({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMIMG + '/' + OREST_ENDPOINT.LIST + '/' + OREST_ENDPOINT.PATCH,\n                    token: authToken,\n                    method: REQUEST_METHOD_CONST.PATCH,\n                    data: gids,\n                    params: {\n                        hotelrefno: Number(companyId),\n                    },\n                }).then(res => {\n                    if (res?.status === 200 && res?.data?.data) {\n                        setLocalState(prev => ({...prev, isRequested: false, quality: value}))\n                    } else {\n                        const retErr = isErrorMsg(res);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n            } else {\n                setLocalState(prev => ({...prev, quality: value}))\n            }\n        }\n    }\n\n    const handleTextEditorValue = (value) => {\n        if (dialogType === 'title') {\n            setLocalState(prev => ({...prev, title: value}));\n        }\n        if (dialogType === 'description') {\n            setLocalState(prev => ({...prev, description: value}));\n        }\n        setLocalState(prev => ({...prev, isDialogOpen: false, dialogType: '', editorValue: ''}));\n    }\n\n    const handleCancelEditor = () => {\n        setLocalState(prev => ({...prev, isDialogOpen: false, dialogType: '', editorValue: ''}));\n    }\n\n    const handleDialogOpen = (type) => {\n        if (type === 'title') {\n            setLocalState(prev => ({...prev, isDialogOpen: true, dialogType: type, editorValue: title}));\n        }\n        if (type === 'description') {\n            setLocalState(prev => ({...prev, isDialogOpen: true, dialogType: type, editorValue: description}));\n        }\n    }\n\n    if (isRequested) {\n        return <LoadingSpinner size={50} style={{color: COLORS?.secondary}} />\n    }\n\n    return (\n        <React.Fragment>\n            <Grid container={true} justify={'flex-end'} className={isRequested ? classes.disableEvent : ''}  >\n                <Grid item xs={5}>\n                    <FormControlLabel\n                        className={classes.labelFont}\n                        disabled={state?.langCode !== state?.defaultLang}\n                        control={\n                            <Checkbox\n                                size={'small'}\n                                checked={isOptimizeImages}\n                                onChange={() => setLocalState(prev => ({...prev, isOptimizeImages: !isOptimizeImages}))}\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Optimize Images\"\n                    />\n                </Grid>\n                <Grid item xs={7} >\n                    <Grid container>\n                        <Grid item xs={1} style={{marginTop: 6, marginLeft: 16}}>\n                            <Typography component={'span'} style={{marginLeft: -8}}>Text</Typography>\n                        </Grid>\n                        <Grid item xs={2} style={{marginTop: 8}}>\n                            <InputColor\n                                onChange={(color) => setLocalState(prevState => ({...prevState, textColor: color.hex}))}\n                                placement=\"right\"\n                                initialValue={textColor}\n                            />\n                        </Grid>\n                        <Grid item xs={2} style={{marginTop: 6}}>\n                            <Typography component={'span'}>Button</Typography>\n                        </Grid>\n                        <Grid item xs={4} style={{marginTop: 8}}>\n                            <InputColor\n                                onChange={(color) => setLocalState(prevState => ({...prevState, buttonColor: color.hex}))}\n                                placement=\"right\"\n                                initialValue={buttonColor}\n                            />\n                        </Grid>\n                        <Grid item xs={2}>\n                            <Button\n                                onClick={() => setLocalState(prev => ({...prev, openDialog: true}))}\n                                variant=\"contained\"\n                                size=\"small\"\n                                color=\"primary\"\n                                aria-label=\"upload\"\n                                className={classes.uploadButton}\n                                disabled={state?.langCode !== state?.defaultLang}\n                            >\n                                <CloudUploadIcon />\n                                UPLOAD\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n            {\n                isOptimizeImages && <Grid container>\n                    <Grid item xs={12}>\n                        <Grid container>\n                            <Grid item xs={12}>\n                                <PercentageSlider\n                                    marks={PERCENTAGE_VALUES}\n                                    value={quality}\n                                    onChange={(e, value) => handleImageQualityChange(value)}\n                                />\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            }\n            <Grid container justify={'flex-start'} spacing={3} className={isRequested ? classes.disableEvent : ''}>\n                <Grid item xs={5}>\n                    <Paper className={classes.paperBlock}>\n                        {\n                            sliderImages?.length > 0 && sliderImages.map((value, index) => {\n                                return (\n                                    <Grid key={index} container justify={'center'}>\n                                        <Grid item={true}>\n                                            <Card  className={classes.card}\n                                                   style={{border: index + 1 === selectedIndex ? '2px solid red' :\n                                                           `1px solid ${COLORS?.secondary}`}}>\n                                                <div style={{\n                                                    backgroundImage: `url(${GENERAL_SETTINGS.STATIC_URL + value.fileurl})`,\n                                                    height: '100%',\n                                                    width: '100%',\n                                                    backgroundSize: 'cover',\n                                                    borderRadius: 5,\n                                                }}\n                                                     onMouseEnter={() => {setLocalState(prev => ({...prev, showDeleteButton: true, hoverIndex: index}))}}\n                                                     onMouseLeave={() => {setLocalState(prev => ({...prev, showDeleteButton: false, hoverIndex: index}))}}\n                                                     onClick={() => handleSelectedImage(index + 1, value)}\n                                                >\n                                                    {\n                                                        showDeleteButton && hoverIndex === index && <IconButton\n                                                            disabled={isRequested}\n                                                            component=\"span\"\n                                                            color={'primary'}\n                                                            className={index === sliderImages.length - 1 || state?.langCode !== state?.defaultLang ? classes.disableEvent : ''}\n                                                            onClick={() => handleUpdateOrderNo(value.gid, value.orderno + 1, 'increment')}\n                                                        >\n                                                            <AddCircleIcon />\n                                                        </IconButton>\n                                                    }\n                                                    {\n                                                        showDeleteButton && hoverIndex === index && <Typography\n                                                            component=\"span\"\n                                                            color={'primary'}\n                                                        >\n                                                            {value.orderno}\n                                                        </Typography>\n                                                    }\n                                                    {\n                                                        showDeleteButton && hoverIndex === index && <IconButton\n                                                            disabled={isRequested}\n                                                            component=\"span\"\n                                                            color={'primary'}\n                                                            className={index === 0 || state?.langCode !== state?.defaultLang ? classes.disableEvent : ''}\n                                                            onClick={() => handleUpdateOrderNo(value.gid, value.orderno - 1, 'decrement')}\n                                                        >\n                                                            <RemoveCircleIcon />\n                                                        </IconButton>\n                                                    }\n                                                    {\n                                                        showDeleteButton && hoverIndex === index && <IconButton\n                                                            onClick={() => handleDeleteImage(value.gid)}\n                                                            disabled={isRequested || state?.langCode !== state?.defaultLang}\n                                                            aria-label=\"upload picture\"\n                                                            component=\"span\"\n                                                            style={{float: \"right\"}}\n                                                            color={'primary'}\n                                                        >\n                                                            <CancelIcon/>\n                                                        </IconButton>\n                                                    }\n                                                </div>\n                                            </Card>\n                                        </Grid>\n                                    </Grid>\n                                )\n                            })\n                        }\n                    </Paper>\n                </Grid>\n                <Grid item xs={7}>\n                    <Paper className={classes.paperBlock}>\n                        {\n                            selectedIndex &&\n                            <>\n                                <Container>\n                                    <Grid container justify={'flex-start'}>\n                                        <Grid item xs={3}>\n                                            <Typography\n                                                component={'h6'}\n                                                variant={'h6'}\n                                                className={classes.text}\n                                            >\n                                                Title\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item xs={9}>\n                                            <IconButton\n                                                aria-label=\"Edit Title\"\n                                                color=\"primary\"\n                                                onClick={() => handleDialogOpen('title')}\n                                                style={{float: 'right'}}\n                                            >\n                                                <BorderColorSharpIcon color=\"primary\"/>\n                                            </IconButton>\n                                        </Grid>\n                                    </Grid>\n                                </Container>\n                                <Container>\n                                    <Grid container justify={'flex-start'}>\n                                        <Grid item xs={3}>\n                                            <Typography\n                                                component={'h6'}\n                                                variant={'h6'}\n                                                className={classes.text}\n                                            >\n                                                Description\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item xs={9}>\n                                            <IconButton\n                                                aria-label=\"Edit Title\"\n                                                color=\"primary\"\n                                                onClick={() => handleDialogOpen('description')}\n                                                style={{float: 'right'}}\n                                            >\n                                                <BorderColorSharpIcon color=\"primary\" />\n                                            </IconButton>\n                                        </Grid>\n                                    </Grid>\n                                </Container>\n                                <Container>\n                                    <Grid container justify={'flex-start'}>\n                                        <Grid item xs={11}>\n                                            <Typography\n                                                component={'h6'}\n                                                variant={'h6'}\n                                                className={classes.text}\n                                            >\n                                                Do you want to add button for image ?\n                                            </Typography>\n                                        </Grid>\n                                        <Grid item xs={1} >\n                                            <Typography component={'div'} style={{marginTop: 20}}>\n                                                <Switch\n                                                    size={'small'}\n                                                    checked={isCta}\n                                                    onChange={() => {\n                                                        setLocalState(prev => ({...prev, cta: '', isCta: !isCta, ctaTitle: '', ctaLink: ''}))\n                                                    }}\n                                                    disabled={state?.langCode !== state?.defaultLang}\n                                                    inputProps={{ 'aria-label': 'secondary checkbox' }}\n                                                    color={'primary'}\n                                                />\n                                            </Typography>\n                                        </Grid>\n                                    </Grid>\n                                </Container>\n                                {\n                                    isCta &&\n                                    <Container>\n                                        <Grid container>\n                                            <FormControl component=\"fieldset\" disabled={state?.langCode !== state?.defaultLang}>\n                                                <RadioGroup aria-label=\"link-type\" row value={ctaLinkType} onChange={(e) => {\n                                                    const { value } = e?.target;\n                                                    setLocalState(prev => ({...prev, ctaLinkType: value, ctaLink: value === 'internal' ? pageData[0]?.code : ''}));\n                                                }}>\n                                                    <FormControlLabel value=\"external\" control={<Radio color={'primary'} size={'small'} />} label=\"External Link\" />\n                                                    <FormControlLabel value=\"internal\" control={<Radio color={'primary'} size={'small'} />} label=\"Internal Link\" />\n                                                </RadioGroup>\n                                            </FormControl>\n                                        </Grid>\n                                        <Grid container justify={'flex-start'} spacing={3}>\n                                            <Grid item xs={6}>\n                                                <TextField\n                                                    size={'small'}\n                                                    id=\"button-title\"\n                                                    variant={\"outlined\"}\n                                                    label={'Title'}\n                                                    value={ctaTitle}\n                                                    fullWidth\n                                                    onChange={(e) => setLocalState(prev => ({...prev, ctaTitle: e?.target?.value}))}\n                                                    style={{marginTop: 8}}\n                                                    helperText={\n                                                        ctaTitle && <Typography\n                                                            variant=\"caption\"\n                                                            className={classes.alignText}\n                                                            display=\"block\"\n                                                        >\n                                                            { `${ctaTitle?.length} < 100` }\n                                                        </Typography>\n                                                    }\n                                                    inputProps={{maxLength: 99}}\n                                                />\n                                            </Grid>\n                                            <Grid item xs={6}>\n                                                {\n                                                    ctaLinkType === 'external' ?\n                                                        <TextField\n                                                            size={'small'}\n                                                            id=\"button-link\"\n                                                            variant={\"outlined\"}\n                                                            label={'Link'}\n                                                            value={ctaLink}\n                                                            error={ctaLink ? !validator.isURL(ctaLink) : false}\n                                                            onChange={(e) => setLocalState(prev => ({\n                                                                ...prev,\n                                                                ctaLink: e?.target?.value\n                                                            }))}\n                                                            style={{marginTop: 8}}\n                                                            fullWidth\n                                                            helperText={\n                                                                ctaLink && <Typography\n                                                                    variant=\"caption\"\n                                                                    className={classes.alignText}\n                                                                    display=\"block\"\n                                                                >\n                                                                    {`${ctaLink?.length} < 100`}\n                                                                </Typography>\n                                                            }\n                                                            disabled={state?.langCode !== state?.defaultLang}\n                                                            inputProps={{maxLength: 99}}\n                                                        />\n                                                        :\n                                                        <FormControl variant=\"outlined\"\n                                                                     size={'small'}\n                                                                     style={{marginTop: 8}}\n                                                                     fullWidth\n                                                                     disabled={state?.langCode !== state?.defaultLang}\n                                                        >\n                                                            <Select\n                                                                value={ctaLink}\n                                                                onChange={(e) => {\n                                                                    const {value} = e?.target;\n                                                                    setLocalState(prev => ({...prev, ctaLink: value}))\n                                                                }}\n                                                                label=\"Web Pages\"\n                                                            >\n                                                                {\n                                                                    pageData.map((option, index) => {\n                                                                        return (\n                                                                            <MenuItem value={option.code} key={index}>\n                                                                                {' '}\n                                                                                {option.code}{' '}\n                                                                            </MenuItem>\n                                                                        )\n                                                                    })\n                                                                }\n                                                            </Select>\n                                                        </FormControl>\n                                                }\n                                            </Grid>\n                                        </Grid>\n                                    </Container>\n                                }\n                                <Divider style={{marginTop: 8}} />\n                                <Button\n                                    onClick={handleUpdateImage}\n                                    variant=\"contained\"\n                                    size=\"small\"\n                                    color=\"primary\"\n                                    aria-label=\"add\"\n                                    className={classes.submit}\n                                >\n                                    SUBMIT\n                                </Button>\n                            </>\n                        }\n                    </Paper>\n                </Grid>\n            </Grid>\n            <DropzoneDialog\n                open={openDialog}\n                onSave={handleSaveImage}\n                acceptedFiles={['image/jpeg', 'image/png', 'image/bmp']}\n                showPreviews={true}\n                maxFileSize={5000000}\n                filesLimit={5}\n                onClose={() => setLocalState(prev => ({...prev, openDialog: false}))}\n            />\n            {\n                isDialogOpen &&\n                <TextEditor\n                    handleSaveTextEditor={handleTextEditorValue}\n                    handleCancelTextEditor={handleCancelEditor}\n                    data={editorValue}\n                />\n            }\n        </React.Fragment>\n    )\n}\nexport default EditCardSlider"]},"metadata":{},"sourceType":"module"}