{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/pages/_app.js\",\n    _this = this,\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n//react\nimport React, { useEffect, useState } from 'react'; //next\n\nimport Head from 'next/head';\nimport Router, { useRouter } from 'next/router';\nimport getConfig from 'next/config';\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig; //redux\n\n\nimport withRedux from 'next-redux-wrapper';\nimport { Provider } from 'react-redux';\nimport store from 'state/store'; //material-ui\n\nimport rtl from 'jss-rtl';\nimport { create } from 'jss';\nimport { createMuiTheme, MuiThemeProvider, makeStyles, StylesProvider, jssPreset } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport WebCmsGlobal from 'components/webcms-global'; //webcms\n\nimport axios from 'axios';\nimport { LOCAL_STORAGE_OREST_TOKEN_TEXT } from 'model/orest/constants';\nimport { SnackbarProvider } from 'notistack';\nimport CookiePolicy from 'components/common/cookie-policy';\nimport { LocaleProvider } from 'lib/translations/context/LocaleContext';\nimport { pathRedirection } from 'lib/helpers/usePathRedirection';\nimport { getDeviceType, getBrowser } from 'lib/helpers/useFunction';\nimport WebCmsProgress from 'nprogress';\nWebCmsProgress.configure({\n  showSpinner: publicRuntimeConfig.NProgressShowSpinner\n});\nimport TagManager from '@webcms-globals/tag-manager'; //import all css\n\nimport 'slick-carousel/slick/slick.css';\nimport 'assets/css/slick-theme.css';\nimport '@webcms-ui/core/phone-input/styles.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'froala-editor/css/froala_style.min.css';\nimport 'froala-editor/css/froala_editor.pkgd.min.css';\nimport 'froala-editor/css/plugins/char_counter.min.css';\nimport 'components/payment/credit-card/card.css';\nimport 'public/static/styles/panel/style.css';\nimport 'public/static/css/bootstrap.min.css';\nimport 'assets/css/myRequest.css';\nimport 'assets/css/TrainingRequest.css';\nimport 'assets/css/dashboardCarousel.css';\nimport 'assets/css/portalHomeSlider.css';\nimport 'public/static/styles/overwrite.css';\nimport 'nprogress/nprogress.css';\nimport { isLocale, isLocaleViaList } from 'lib/translations/types';\nimport { defaultLocale } from 'lib/translations/config'; //import moment\n\nimport moment from 'moment';\nimport 'moment/locale/de';\nimport 'moment/locale/tr';\nimport 'moment/locale/ru';\nimport 'moment/locale/es';\nimport 'moment/locale/mk';\nimport 'moment/locale/sq';\n\nvar getHotelAppLang = require('@api/core/get-hotel-app-lang');\n\nvar noCookieAndChatPaths = ['/editor', '/embed', '/page-builder', '/guest', '/emp', '/survey', '/epay'];\n\nfunction hasPath(paths, path) {\n  return paths.find(function (pathItem) {\n    return path.includes(pathItem);\n  }) || false;\n} //progress bar for router\n\n\nRouter.onRouteChangeStart = function () {\n  WebCmsProgress.start();\n};\n\nRouter.onRouteChangeComplete = function () {\n  WebCmsProgress.done();\n};\n\nRouter.onRouteChangeError = function () {\n  WebCmsProgress.done();\n};\n\nvar appStyles = makeStyles(function (theme) {\n  return {\n    snackbarContainerRoot: _defineProperty({}, theme.breakpoints.down('sm'), {\n      bottom: 125\n    })\n  };\n});\nvar directions = {\n  ltr: create({\n    plugins: _toConsumableArray(jssPreset().plugins)\n  }),\n  rtl: create({\n    plugins: [].concat(_toConsumableArray(jssPreset().plugins), [rtl()])\n  })\n};\n\nvar _App = function _App(_ref) {\n  _s3();\n\n  var _s2 = $RefreshSig$(),\n      _WEBCMS_DATA,\n      _WEBCMS_DATA$assets,\n      _WEBCMS_DATA$assets$f,\n      _WEBCMS_DATA2,\n      _WEBCMS_DATA2$assets,\n      _WEBCMS_DATA2$assets$,\n      _WEBCMS_DATA3,\n      _WEBCMS_DATA3$assets,\n      _WEBCMS_DATA4,\n      _WEBCMS_DATA4$assets,\n      _WEBCMS_DATA4$assets$,\n      _GENERAL_SETTINGS,\n      _WEBCMS_DATA5,\n      _WEBCMS_DATA5$assets,\n      _WEBCMS_DATA5$assets$,\n      _WEBCMS_DATA6,\n      _WEBCMS_DATA6$assets,\n      _WEBCMS_DATA6$assets$;\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      store = _ref.store,\n      DB_GENERAL_SETTINGS = _ref.DB_GENERAL_SETTINGS,\n      DB_REDIS_WEBCMS_DATA = _ref.DB_REDIS_WEBCMS_DATA,\n      QUERY_LOCALE = _ref.QUERY_LOCALE,\n      DEFAULT_LOCALE = _ref.DEFAULT_LOCALE,\n      __NEXT_DATA__ = _ref.__NEXT_DATA__,\n      DEFAULT_LANGUAGE_FILE = _ref.DEFAULT_LANGUAGE_FILE,\n      DEFAULT_HTL_LANGUAGE_FILE = _ref.DEFAULT_HTL_LANGUAGE_FILE,\n      host = _ref.host;\n\n  var GENERAL_SETTINGS,\n      WEBCMS_DATA,\n      locale,\n      _useState = useState(null),\n      GENERAL_SETTINGS_CACHE = _useState[0],\n      setGENERAL_SETTINGS_CACHE = _useState[1],\n      _useState2 = useState(null),\n      WEBCMS_DATA_CACHE = _useState2[0],\n      setWEBCMS_DATA_CACHE = _useState2[1],\n      _useState3 = useState(''),\n      LOCALE_CACHE = _useState3[0],\n      setLOCALE_CACHE = _useState3[1],\n      _useState4 = useState(false),\n      COOKIE_ENABLED = _useState4[0],\n      setCOOKIE_ENABLED = _useState4[1],\n      _useState5 = useState(''),\n      VERNO = _useState5[0],\n      setVERNO = _useState5[1],\n      router = useRouter(),\n      iframe = router.query.iframe === 'true',\n      isOnlyBasics = router.query.isOnlyBasics === '1',\n      classes = appStyles(),\n      _useState6 = useState(router.query.authToken),\n      token = _useState6[0],\n      setToken = _useState6[1];\n\n  useEffect(_s2(function () {\n    var _DB_REDIS_WEBCMS_DATA,\n        _DB_REDIS_WEBCMS_DATA2,\n        _s = $RefreshSig$();\n\n    _s2();\n\n    setGENERAL_SETTINGS_CACHE(DB_GENERAL_SETTINGS);\n    setWEBCMS_DATA_CACHE(DB_REDIS_WEBCMS_DATA);\n    setVERNO(window.__NEXT_DATA__.buildId || '');\n\n    if (!QUERY_LOCALE) {\n      setLOCALE_CACHE(QUERY_LOCALE);\n    }\n\n    if (DB_REDIS_WEBCMS_DATA !== null && DB_REDIS_WEBCMS_DATA !== void 0 && (_DB_REDIS_WEBCMS_DATA = DB_REDIS_WEBCMS_DATA.assets) !== null && _DB_REDIS_WEBCMS_DATA !== void 0 && (_DB_REDIS_WEBCMS_DATA2 = _DB_REDIS_WEBCMS_DATA.meta) !== null && _DB_REDIS_WEBCMS_DATA2 !== void 0 && _DB_REDIS_WEBCMS_DATA2.googleTag) {\n      TagManager.initialize({\n        gtmId: DB_REDIS_WEBCMS_DATA.assets.meta.googleTag\n      });\n    }\n\n    var cookieEnabled = localStorage.getItem(\"is-cookie\");\n\n    if (!cookieEnabled) {\n      setCOOKIE_ENABLED(true);\n    }\n\n    var jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n\n    window.addEventListener('message', function (event) {\n      var _event$data;\n\n      if ((event === null || event === void 0 ? void 0 : (_event$data = event.data) === null || _event$data === void 0 ? void 0 : _event$data.tokenUpdate) !== token) {\n        setToken(event.data.tokenUpdate);\n      }\n    });\n    useLogger();\n    Router.events.on('routeChangeComplete', _s(function () {\n      _s();\n\n      return useLogger();\n    }, \"nzHB/hoNfhsj764hOzWA0KygJ6Y=\", false, function () {\n      return [useLogger];\n    }));\n  }, \"nzHB/hoNfhsj764hOzWA0KygJ6Y=\", false, function () {\n    return [useLogger];\n  }), []);\n\n  var useLogger = function useLogger() {\n    var getData = {\n      url: \"\".concat(location.protocol, \"//\").concat(location.host).concat(Router.router.asPath),\n      pagelang: locale,\n      pagesize: \"\".concat(window.outerWidth, \"x\").concat(window.outerHeight),\n      brdesc: getBrowser().name,\n      brver: getBrowser().version,\n      brlang: navigator.language || navigator.userLanguage || 'non',\n      devicetype: getDeviceType(),\n      ckenabled: navigator.cookieEnabled || false\n    };\n    var getAuth = localStorage.getItem(LOCAL_STORAGE_OREST_TOKEN_TEXT) || false;\n\n    if (getAuth) {\n      var _getAuth, _getAuth$loginfo, _getAuth2, _getAuth2$loginfo;\n\n      getAuth = JSON.parse(getAuth);\n      getData.islogin = getAuth ? 'true' : 'false';\n      getData.loginrefid = ((_getAuth = getAuth) === null || _getAuth === void 0 ? void 0 : (_getAuth$loginfo = _getAuth.loginfo) === null || _getAuth$loginfo === void 0 ? void 0 : _getAuth$loginfo.refid) || '0';\n      getData.loginrefcode = ((_getAuth2 = getAuth) === null || _getAuth2 === void 0 ? void 0 : (_getAuth2$loginfo = _getAuth2.loginfo) === null || _getAuth2$loginfo === void 0 ? void 0 : _getAuth2$loginfo.refcode) || '';\n    }\n\n    return axios({\n      url: 'api/browser/info',\n      method: 'post',\n      params: {\n        ver: window.__NEXT_DATA__.buildId || '0'\n      },\n      data: {\n        value: Buffer.from(JSON.stringify(getData)).toString('base64')\n      }\n    }).then(function () {\n      return true;\n    })[\"catch\"](function () {\n      return false;\n    });\n  };\n\n  if (DB_GENERAL_SETTINGS) {\n    GENERAL_SETTINGS = DB_GENERAL_SETTINGS;\n  } else {\n    GENERAL_SETTINGS = GENERAL_SETTINGS_CACHE;\n  }\n\n  if (DB_REDIS_WEBCMS_DATA) {\n    WEBCMS_DATA = DB_REDIS_WEBCMS_DATA;\n  } else {\n    WEBCMS_DATA = WEBCMS_DATA_CACHE;\n  }\n\n  if (QUERY_LOCALE) {\n    locale = QUERY_LOCALE;\n  } else if (LOCALE_CACHE) {\n    locale = LOCALE_CACHE;\n  } else {\n    locale = DEFAULT_LOCALE;\n  }\n\n  if (locale) {\n    moment.locale(locale);\n  }\n\n  var handleCookie = function handleCookie() {\n    localStorage.setItem(\"is-cookie\", \"active\");\n    setCOOKIE_ENABLED(false);\n  };\n\n  var fontName = (_WEBCMS_DATA = WEBCMS_DATA) === null || _WEBCMS_DATA === void 0 ? void 0 : (_WEBCMS_DATA$assets = _WEBCMS_DATA.assets) === null || _WEBCMS_DATA$assets === void 0 ? void 0 : (_WEBCMS_DATA$assets$f = _WEBCMS_DATA$assets.font) === null || _WEBCMS_DATA$assets$f === void 0 ? void 0 : _WEBCMS_DATA$assets$f.name;\n  fontName = fontName !== 'default' ? fontName : 'Roboto';\n\n  if ((_WEBCMS_DATA2 = WEBCMS_DATA) !== null && _WEBCMS_DATA2 !== void 0 && (_WEBCMS_DATA2$assets = _WEBCMS_DATA2.assets) !== null && _WEBCMS_DATA2$assets !== void 0 && (_WEBCMS_DATA2$assets$ = _WEBCMS_DATA2$assets.colors) !== null && _WEBCMS_DATA2$assets$ !== void 0 && _WEBCMS_DATA2$assets$.primary && host !== null && host !== void 0 && host.includes('cloud') || host !== null && host !== void 0 && host.includes('portal')) {\n    WEBCMS_DATA.assets.colors.primary.main = router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#4666B0';\n    WEBCMS_DATA.assets.colors.primary.dark = router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425C';\n    WEBCMS_DATA.assets.colors.primary.light = router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425C';\n    WEBCMS_DATA.assets.colors.primary.ultraDark = router.pathname.indexOf('emp') !== -1 ? '#0E2326' : '#3C3B53';\n    WEBCMS_DATA.assets.colors.text = {\n      main: router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#43425D',\n      light: router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425D',\n      ultraDark: router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425D'\n    };\n  }\n\n  var theme = createMuiTheme({\n    typography: {\n      fontFamily: ['\\'' + fontName + '\\'', 'sans-serif'].join(',')\n    },\n    palette: (_WEBCMS_DATA3 = WEBCMS_DATA) === null || _WEBCMS_DATA3 === void 0 ? void 0 : (_WEBCMS_DATA3$assets = _WEBCMS_DATA3.assets) === null || _WEBCMS_DATA3$assets === void 0 ? void 0 : _WEBCMS_DATA3$assets.colors,\n    direction: locale === 'ar' ? 'rtl' : 'ltr'\n  });\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, __jsx(\"meta\", {\n    charSet: \"utf-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#ffffff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"webcms-ver\",\n    content: VERNO,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }), ((_WEBCMS_DATA4 = WEBCMS_DATA) === null || _WEBCMS_DATA4 === void 0 ? void 0 : (_WEBCMS_DATA4$assets = _WEBCMS_DATA4.assets) === null || _WEBCMS_DATA4$assets === void 0 ? void 0 : (_WEBCMS_DATA4$assets$ = _WEBCMS_DATA4$assets.meta) === null || _WEBCMS_DATA4$assets$ === void 0 ? void 0 : _WEBCMS_DATA4$assets$.fbVerificationCode) && __jsx(\"meta\", {\n    name: \"facebook-domain-verification\",\n    content: WEBCMS_DATA.assets.meta.fbVerificationCode,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 67\n    }\n  }), host && host === \"docs.hotech.systems\" ? __jsx(\"meta\", {\n    name: \"google-signin-client_id\",\n    content: \"161176593651-khs1j4eatnfian8ll774gq7c1v2f2ffc.apps.googleusercontent.com\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 59\n    }\n  }) : null, __jsx(\"base\", {\n    href: ((_GENERAL_SETTINGS = GENERAL_SETTINGS) === null || _GENERAL_SETTINGS === void 0 ? void 0 : _GENERAL_SETTINGS.BASE_URL) || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }), __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, ((_WEBCMS_DATA5 = WEBCMS_DATA) === null || _WEBCMS_DATA5 === void 0 ? void 0 : (_WEBCMS_DATA5$assets = _WEBCMS_DATA5.assets) === null || _WEBCMS_DATA5$assets === void 0 ? void 0 : (_WEBCMS_DATA5$assets$ = _WEBCMS_DATA5$assets.meta) === null || _WEBCMS_DATA5$assets$ === void 0 ? void 0 : _WEBCMS_DATA5$assets$.title) || ''), GENERAL_SETTINGS.HOTELREFNO === 1041 && __jsx(\"script\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }, function myFunction() {\n    console.log('test');\n    var x = document.getElementById(\"kmppop\");\n\n    if (x.style.display === \"none\") {\n      x.style.display = \"block\";\n    } else {\n      x.style.display = \"none\";\n    }\n  }), (_WEBCMS_DATA6 = WEBCMS_DATA) !== null && _WEBCMS_DATA6 !== void 0 && (_WEBCMS_DATA6$assets = _WEBCMS_DATA6.assets) !== null && _WEBCMS_DATA6$assets !== void 0 && (_WEBCMS_DATA6$assets$ = _WEBCMS_DATA6$assets.meta) !== null && _WEBCMS_DATA6$assets$ !== void 0 && _WEBCMS_DATA6$assets$.chatBox && !hasPath(noCookieAndChatPaths, router.pathname) ? __jsx(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: \"\".concat(WEBCMS_DATA.assets.meta.chatBox)\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 108\n    }\n  }) : null), __jsx(StylesProvider, {\n    jss: locale === 'ar' ? directions.rtl : directions.ltr,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, __jsx(MuiThemeProvider, {\n    theme: theme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, __jsx(CssBaseline, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }), __jsx(Provider, {\n    store: store,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 21\n    }\n  }, __jsx(WebCmsGlobal.Provider, {\n    value: {\n      GENERAL_SETTINGS: GENERAL_SETTINGS,\n      WEBCMS_DATA: WEBCMS_DATA,\n      token: token,\n      locale: locale\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 25\n    }\n  }, __jsx(LocaleProvider, {\n    lang: locale,\n    defaultHotelLanguageFile: DEFAULT_HTL_LANGUAGE_FILE,\n    defaultLanguageFile: DEFAULT_LANGUAGE_FILE,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 29\n    }\n  }, __jsx(SnackbarProvider, {\n    maxSnack: 3,\n    classes: {\n      containerRoot: classes.snackbarContainerRoot\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 33\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 37\n    }\n  })), !isOnlyBasics && !hasPath(noCookieAndChatPaths, router.pathname) ? __jsx(CookiePolicy, {\n    isActive: !iframe && COOKIE_ENABLED,\n    onClose: function onClose() {\n      return handleCookie();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 107\n    }\n  }) : null)))))));\n};\n\n_s3(_App, \"xM8bE7wwrGr9414UMUHo90dkyNo=\", false, function () {\n  return [useRouter];\n});\n\n_App.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var _DB_GENERAL_SETTINGS, _DB_GENERAL_SETTINGS$, _DB_REDIS_WEBCMS_DATA3, _DB_REDIS_WEBCMS_DATA4, _DB_REDIS_WEBCMS_DATA5;\n\n    var Component, ctx, pageProps, DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host, currentLanguage, _DB_GENERAL_SETTINGS2, _DB_GENERAL_SETTINGS3, _DB_GENERAL_SETTINGS4, _DB_REDIS_WEBCMS_DATA6, _DB_REDIS_WEBCMS_DATA7;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            Component = _ref2.Component, ctx = _ref2.ctx;\n            _context.next = 3;\n            return pathRedirection(ctx);\n\n          case 3:\n            if (!Component.getInitialProps) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 6;\n            return Component.getInitialProps(ctx);\n\n          case 6:\n            _context.t0 = _context.sent;\n            _context.next = 10;\n            break;\n\n          case 9:\n            _context.t0 = {};\n\n          case 10:\n            pageProps = _context.t0;\n            DEFAULT_LANGUAGE_FILE = false, DEFAULT_HTL_LANGUAGE_FILE = false;\n\n            if (ctx.req) {\n              host = ctx.req.headers.host;\n            }\n\n            if (ctx.res) {\n              // server side\n              DB_GENERAL_SETTINGS = ctx.res.GENERAL_SETTINGS;\n              DB_REDIS_WEBCMS_DATA = ctx.res.REDIS_WEBCMS_DATA;\n            }\n\n            currentLanguage = ctx.req && ctx.req.currentLanguage && ctx.req.currentLanguage || false;\n\n            if (ctx.req && currentLanguage && ((_DB_GENERAL_SETTINGS = DB_GENERAL_SETTINGS) === null || _DB_GENERAL_SETTINGS === void 0 ? void 0 : (_DB_GENERAL_SETTINGS$ = _DB_GENERAL_SETTINGS.useFilterLangs) === null || _DB_GENERAL_SETTINGS$ === void 0 ? void 0 : _DB_GENERAL_SETTINGS$.length) > 0 && isLocaleViaList(DB_GENERAL_SETTINGS.useFilterLangs, currentLanguage)) {\n              DEFAULT_LOCALE = currentLanguage;\n            } else {\n              if ((!((_DB_GENERAL_SETTINGS2 = DB_GENERAL_SETTINGS) !== null && _DB_GENERAL_SETTINGS2 !== void 0 && _DB_GENERAL_SETTINGS2.useFilterLangs) || ((_DB_GENERAL_SETTINGS3 = DB_GENERAL_SETTINGS) === null || _DB_GENERAL_SETTINGS3 === void 0 ? void 0 : (_DB_GENERAL_SETTINGS4 = _DB_GENERAL_SETTINGS3.useFilterLangs) === null || _DB_GENERAL_SETTINGS4 === void 0 ? void 0 : _DB_GENERAL_SETTINGS4.length) === 0) && ctx.req && currentLanguage && isLocale(currentLanguage)) {\n                DEFAULT_LOCALE = currentLanguage;\n              } else if (ctx.res) {\n                DEFAULT_LOCALE = DB_GENERAL_SETTINGS.hotelLocalLangGCode;\n              } else {\n                DEFAULT_LOCALE = defaultLocale;\n              }\n            }\n\n            if (DB_REDIS_WEBCMS_DATA && (_DB_REDIS_WEBCMS_DATA3 = DB_REDIS_WEBCMS_DATA) !== null && _DB_REDIS_WEBCMS_DATA3 !== void 0 && (_DB_REDIS_WEBCMS_DATA4 = _DB_REDIS_WEBCMS_DATA3[\"default\"]) !== null && _DB_REDIS_WEBCMS_DATA4 !== void 0 && _DB_REDIS_WEBCMS_DATA4.pages && Object.keys(DB_REDIS_WEBCMS_DATA[\"default\"].pages).length && (_DB_REDIS_WEBCMS_DATA5 = DB_REDIS_WEBCMS_DATA) !== null && _DB_REDIS_WEBCMS_DATA5 !== void 0 && _DB_REDIS_WEBCMS_DATA5.defaultLanguage) {\n              DEFAULT_LOCALE = ((_DB_REDIS_WEBCMS_DATA6 = DB_REDIS_WEBCMS_DATA) === null || _DB_REDIS_WEBCMS_DATA6 === void 0 ? void 0 : (_DB_REDIS_WEBCMS_DATA7 = _DB_REDIS_WEBCMS_DATA6.defaultLanguage) === null || _DB_REDIS_WEBCMS_DATA7 === void 0 ? void 0 : _DB_REDIS_WEBCMS_DATA7.gcode) || DEFAULT_LOCALE;\n            }\n\n            if (ctx.query.lang) {\n              QUERY_LOCALE = ctx.query.lang;\n\n              if (Array.isArray(QUERY_LOCALE)) {\n                QUERY_LOCALE = QUERY_LOCALE[0];\n              }\n            }\n\n            if (!(pageProps && Object.keys(pageProps).length > 0)) {\n              _context.next = 22;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              pageProps: pageProps,\n              DB_GENERAL_SETTINGS: DB_GENERAL_SETTINGS,\n              DB_REDIS_WEBCMS_DATA: DB_REDIS_WEBCMS_DATA,\n              QUERY_LOCALE: QUERY_LOCALE,\n              DEFAULT_LOCALE: DEFAULT_LOCALE,\n              DEFAULT_LANGUAGE_FILE: DEFAULT_LANGUAGE_FILE,\n              DEFAULT_HTL_LANGUAGE_FILE: DEFAULT_HTL_LANGUAGE_FILE,\n              host: host\n            });\n\n          case 22:\n            if (!DB_GENERAL_SETTINGS) {\n              _context.next = 29;\n              break;\n            }\n\n            _context.next = 25;\n            return getHotelAppLang(ctx.req, ctx.res, QUERY_LOCALE || DEFAULT_LOCALE);\n\n          case 25:\n            DEFAULT_LANGUAGE_FILE = _context.sent;\n            _context.next = 28;\n            return getHotelAppLang(ctx.req, ctx.res, DB_GENERAL_SETTINGS.hotelLocalLangGCode);\n\n          case 28:\n            DEFAULT_HTL_LANGUAGE_FILE = _context.sent;\n\n          case 29:\n            return _context.abrupt(\"return\", {\n              DB_GENERAL_SETTINGS: DB_GENERAL_SETTINGS,\n              DB_REDIS_WEBCMS_DATA: DB_REDIS_WEBCMS_DATA,\n              QUERY_LOCALE: QUERY_LOCALE,\n              DEFAULT_LOCALE: DEFAULT_LOCALE,\n              DEFAULT_LANGUAGE_FILE: DEFAULT_LANGUAGE_FILE,\n              DEFAULT_HTL_LANGUAGE_FILE: DEFAULT_HTL_LANGUAGE_FILE,\n              host: host\n            });\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default withRedux(store)(_App);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/pages/_app.js"],"names":["React","useEffect","useState","Head","Router","useRouter","getConfig","publicRuntimeConfig","withRedux","Provider","store","rtl","create","createMuiTheme","MuiThemeProvider","makeStyles","StylesProvider","jssPreset","CssBaseline","WebCmsGlobal","axios","LOCAL_STORAGE_OREST_TOKEN_TEXT","SnackbarProvider","CookiePolicy","LocaleProvider","pathRedirection","getDeviceType","getBrowser","WebCmsProgress","configure","showSpinner","NProgressShowSpinner","TagManager","isLocale","isLocaleViaList","defaultLocale","moment","getHotelAppLang","require","noCookieAndChatPaths","hasPath","paths","path","find","pathItem","includes","onRouteChangeStart","start","onRouteChangeComplete","done","onRouteChangeError","appStyles","theme","snackbarContainerRoot","breakpoints","down","bottom","directions","ltr","plugins","_App","Component","pageProps","DB_GENERAL_SETTINGS","DB_REDIS_WEBCMS_DATA","QUERY_LOCALE","DEFAULT_LOCALE","__NEXT_DATA__","DEFAULT_LANGUAGE_FILE","DEFAULT_HTL_LANGUAGE_FILE","host","GENERAL_SETTINGS","WEBCMS_DATA","locale","GENERAL_SETTINGS_CACHE","setGENERAL_SETTINGS_CACHE","WEBCMS_DATA_CACHE","setWEBCMS_DATA_CACHE","LOCALE_CACHE","setLOCALE_CACHE","COOKIE_ENABLED","setCOOKIE_ENABLED","VERNO","setVERNO","router","iframe","query","isOnlyBasics","classes","authToken","token","setToken","window","buildId","assets","meta","googleTag","initialize","gtmId","cookieEnabled","localStorage","getItem","jssStyles","document","querySelector","parentElement","removeChild","addEventListener","event","data","tokenUpdate","useLogger","events","on","getData","url","location","protocol","asPath","pagelang","pagesize","outerWidth","outerHeight","brdesc","name","brver","version","brlang","navigator","language","userLanguage","devicetype","ckenabled","getAuth","JSON","parse","islogin","loginrefid","loginfo","refid","loginrefcode","refcode","method","params","ver","value","Buffer","from","stringify","toString","then","handleCookie","setItem","fontName","font","colors","primary","main","pathname","indexOf","dark","light","ultraDark","text","typography","fontFamily","join","palette","direction","fbVerificationCode","BASE_URL","title","HOTELREFNO","myFunction","console","log","x","getElementById","style","display","chatBox","__html","containerRoot","getInitialProps","ctx","req","headers","res","REDIS_WEBCMS_DATA","currentLanguage","useFilterLangs","length","hotelLocalLangGCode","pages","Object","keys","defaultLanguage","gcode","lang","Array","isArray"],"mappings":"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","sourcesContent":["//react\nimport React, { useEffect, useState } from 'react'\n//next\nimport Head from 'next/head'\nimport Router, { useRouter } from 'next/router'\nimport getConfig from 'next/config'\nconst { publicRuntimeConfig } = getConfig()\n//redux\nimport withRedux from 'next-redux-wrapper'\nimport { Provider } from 'react-redux'\nimport store from 'state/store'\n//material-ui\nimport rtl from 'jss-rtl'\nimport { create } from 'jss'\nimport { createMuiTheme, MuiThemeProvider, makeStyles, StylesProvider, jssPreset } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport WebCmsGlobal from 'components/webcms-global'\n//webcms\nimport axios from 'axios'\nimport { LOCAL_STORAGE_OREST_TOKEN_TEXT } from 'model/orest/constants'\nimport { SnackbarProvider } from 'notistack'\nimport CookiePolicy from 'components/common/cookie-policy'\nimport { LocaleProvider } from 'lib/translations/context/LocaleContext'\nimport { pathRedirection } from 'lib/helpers/usePathRedirection'\nimport { getDeviceType, getBrowser } from  'lib/helpers/useFunction'\nimport WebCmsProgress from 'nprogress'\nWebCmsProgress.configure({ showSpinner: publicRuntimeConfig.NProgressShowSpinner })\nimport TagManager from '@webcms-globals/tag-manager'\n//import all css\nimport 'slick-carousel/slick/slick.css'\nimport 'assets/css/slick-theme.css'\nimport '@webcms-ui/core/phone-input/styles.css'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport 'froala-editor/css/froala_style.min.css'\nimport 'froala-editor/css/froala_editor.pkgd.min.css'\nimport 'froala-editor/css/plugins/char_counter.min.css'\nimport 'components/payment/credit-card/card.css'\nimport 'public/static/styles/panel/style.css'\nimport 'public/static/css/bootstrap.min.css'\nimport 'assets/css/myRequest.css'\nimport 'assets/css/TrainingRequest.css'\nimport 'assets/css/dashboardCarousel.css'\nimport 'assets/css/portalHomeSlider.css'\nimport 'public/static/styles/overwrite.css'\nimport 'nprogress/nprogress.css'\nimport { isLocale, isLocaleViaList } from 'lib/translations/types'\nimport { defaultLocale } from 'lib/translations/config'\n//import moment\nimport moment from 'moment'\nimport 'moment/locale/de'\nimport 'moment/locale/tr'\nimport 'moment/locale/ru'\nimport 'moment/locale/es'\nimport 'moment/locale/mk'\nimport 'moment/locale/sq'\n\nconst getHotelAppLang = require('@api/core/get-hotel-app-lang')\n\nconst noCookieAndChatPaths = ['/editor', '/embed', '/page-builder', '/guest', '/emp', '/survey', '/epay']\n\nfunction hasPath(paths, path) {\n    return paths.find(pathItem => path.includes(pathItem)) || false\n}\n\n//progress bar for router\nRouter.onRouteChangeStart = () => {\n    WebCmsProgress.start()\n}\n\nRouter.onRouteChangeComplete = () => {\n    WebCmsProgress.done()\n}\n\nRouter.onRouteChangeError = () => {\n    WebCmsProgress.done()\n}\n\nconst appStyles = makeStyles((theme) => ({\n    snackbarContainerRoot: {\n        [theme.breakpoints.down('sm')]: {\n            bottom: 125,\n        },\n    }\n}))\n\nconst directions = {\n    ltr: create({ plugins: [...jssPreset().plugins] }),\n    rtl: create({ plugins: [...jssPreset().plugins, rtl()] }),\n}\n\nconst _App = ({ Component, pageProps, store, DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, __NEXT_DATA__, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host}) => {\n    let GENERAL_SETTINGS, WEBCMS_DATA, locale\n        , [GENERAL_SETTINGS_CACHE, setGENERAL_SETTINGS_CACHE] = useState(null)\n        , [WEBCMS_DATA_CACHE, setWEBCMS_DATA_CACHE] = useState(null)\n        , [LOCALE_CACHE, setLOCALE_CACHE] = useState('')\n        , [COOKIE_ENABLED, setCOOKIE_ENABLED] = useState(false)\n        , [VERNO, setVERNO] = useState('')\n        , router = useRouter()\n        , iframe = router.query.iframe === 'true'\n        , isOnlyBasics = router.query.isOnlyBasics === '1'\n        , classes = appStyles()\n        , [token, setToken] = useState(router.query.authToken)\n\n    useEffect(() => {\n        setGENERAL_SETTINGS_CACHE(DB_GENERAL_SETTINGS)\n        setWEBCMS_DATA_CACHE(DB_REDIS_WEBCMS_DATA)\n        setVERNO(window.__NEXT_DATA__.buildId || '')\n\n        if (!QUERY_LOCALE) {\n            setLOCALE_CACHE(QUERY_LOCALE)\n        }\n\n        if(DB_REDIS_WEBCMS_DATA?.assets?.meta?.googleTag){\n            TagManager.initialize({ gtmId: DB_REDIS_WEBCMS_DATA.assets.meta.googleTag })\n        }\n\n        let cookieEnabled = localStorage.getItem(\"is-cookie\")\n        if(!cookieEnabled) {\n            setCOOKIE_ENABLED(true)\n        }\n\n        const jssStyles = document.querySelector('#jss-server-side')\n        if (jssStyles) {\n            jssStyles.parentElement.removeChild(jssStyles)\n        }\n\n        window.addEventListener('message', function(event) {\n            if (event?.data?.tokenUpdate !== token) {\n                setToken(event.data.tokenUpdate)\n            }\n        })\n\n        useLogger()\n        Router.events.on('routeChangeComplete', () => useLogger())\n\n    }, [])\n\n    const useLogger = () => {\n        let getData = {\n            url: `${location.protocol}//${location.host}${Router.router.asPath}`,\n            pagelang: locale,\n            pagesize: `${window.outerWidth}x${window.outerHeight}`,\n            brdesc: getBrowser().name,\n            brver: getBrowser().version,\n            brlang: navigator.language || navigator.userLanguage || 'non',\n            devicetype: getDeviceType(),\n            ckenabled: navigator.cookieEnabled || false,\n        }\n\n        let getAuth = localStorage.getItem(LOCAL_STORAGE_OREST_TOKEN_TEXT) || false\n        if(getAuth){\n            getAuth = JSON.parse(getAuth)\n            getData.islogin = getAuth ? 'true' : 'false'\n            getData.loginrefid = getAuth?.loginfo?.refid || '0'\n            getData.loginrefcode = getAuth?.loginfo?.refcode || ''\n        }\n\n        return axios({\n            url: 'api/browser/info',\n            method: 'post',\n            params: {\n                ver: window.__NEXT_DATA__.buildId || '0'\n            },\n            data: {\n                value: Buffer.from(JSON.stringify(getData)).toString('base64'),\n            },\n        }).then(() => {\n            return true\n        }).catch(() => {\n            return false\n        })\n    }\n\n    if (DB_GENERAL_SETTINGS) {\n        GENERAL_SETTINGS = DB_GENERAL_SETTINGS\n    } else {\n        GENERAL_SETTINGS = GENERAL_SETTINGS_CACHE\n    }\n\n    if (DB_REDIS_WEBCMS_DATA) {\n        WEBCMS_DATA = DB_REDIS_WEBCMS_DATA\n    } else {\n        WEBCMS_DATA = WEBCMS_DATA_CACHE\n    }\n\n    if (QUERY_LOCALE) {\n        locale = QUERY_LOCALE\n    } else if (LOCALE_CACHE) {\n        locale = LOCALE_CACHE\n    } else {\n        locale = DEFAULT_LOCALE\n    }\n\n    if(locale){\n        moment.locale(locale)\n    }\n\n    const handleCookie = () => {\n        localStorage.setItem(\"is-cookie\", \"active\")\n        setCOOKIE_ENABLED(false)\n    }\n\n    let fontName = WEBCMS_DATA?.assets?.font?.name\n    fontName = fontName !== 'default' ? fontName : 'Roboto'\n\n    if(WEBCMS_DATA?.assets?.colors?.primary && host?.includes('cloud') || host?.includes('portal')) {\n        WEBCMS_DATA.assets.colors.primary.main = router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#4666B0'\n        WEBCMS_DATA.assets.colors.primary.dark = router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425C'\n        WEBCMS_DATA.assets.colors.primary.light = router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425C'\n        WEBCMS_DATA.assets.colors.primary.ultraDark = router.pathname.indexOf('emp') !== -1 ? '#0E2326' : '#3C3B53'\n        WEBCMS_DATA.assets.colors.text = {\n            main: router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#43425D',\n            light: router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425D',\n            ultraDark: router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425D'\n        }\n    }\n\n    const theme = createMuiTheme({\n        typography: {\n            fontFamily: ['\\'' + fontName + '\\'', 'sans-serif'].join(','),\n        },\n        palette: WEBCMS_DATA?.assets?.colors,\n        direction: locale === 'ar' ? 'rtl' : 'ltr',\n    })\n\n    return (\n        <React.Fragment>\n            <Head>\n                <meta charSet=\"utf-8\" />\n                <meta name=\"theme-color\" content=\"#ffffff\" />\n                <meta name=\"webcms-ver\" content={VERNO}/>\n                <meta name=\"viewport\" content=\"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\"/>\n                {WEBCMS_DATA?.assets?.meta?.fbVerificationCode && <meta name=\"facebook-domain-verification\" content={WEBCMS_DATA.assets.meta.fbVerificationCode} />}\n                {host && host === \"docs.hotech.systems\" ? <meta name=\"google-signin-client_id\" content=\"161176593651-khs1j4eatnfian8ll774gq7c1v2f2ffc.apps.googleusercontent.com\"/> : null}\n                <base href={GENERAL_SETTINGS?.BASE_URL || ''}/>\n                <title>{WEBCMS_DATA?.assets?.meta?.title || ''}</title>\n                {\n                    GENERAL_SETTINGS.HOTELREFNO === 1041 &&\n                    <script>\n                        {\n                            function myFunction() {\n                                console.log('test');\n                                var x = document.getElementById(\"kmppop\");\n                                if (x.style.display === \"none\") {\n                                    x.style.display = \"block\";\n                                } else {\n                                    x.style.display = \"none\";\n                                }\n                            }\n                        }\n                    </script>\n                }\n                {(WEBCMS_DATA?.assets?.meta?.chatBox && !hasPath(noCookieAndChatPaths, router.pathname)) ? <script dangerouslySetInnerHTML={{ __html: `${WEBCMS_DATA.assets.meta.chatBox}`, }} />: null}\n            </Head>\n            <StylesProvider jss={locale === 'ar' ? directions.rtl : directions.ltr}>\n                <MuiThemeProvider theme={theme}>\n                    <CssBaseline/>\n                    <Provider store={store}>\n                        <WebCmsGlobal.Provider value={{ GENERAL_SETTINGS, WEBCMS_DATA, token, locale }}>\n                            <LocaleProvider lang={locale} defaultHotelLanguageFile={DEFAULT_HTL_LANGUAGE_FILE} defaultLanguageFile={DEFAULT_LANGUAGE_FILE}>\n                                <SnackbarProvider maxSnack={3} classes={{ containerRoot: classes.snackbarContainerRoot, }}>\n                                    <Component {...pageProps} />\n                                    {(!isOnlyBasics && !hasPath(noCookieAndChatPaths, router.pathname)) ? <CookiePolicy isActive={!iframe && COOKIE_ENABLED} onClose={()=> handleCookie()} />: null}\n                                </SnackbarProvider>\n                            </LocaleProvider>\n                        </WebCmsGlobal.Provider>\n                    </Provider>\n                </MuiThemeProvider>\n            </StylesProvider>\n         </React.Fragment>\n    )\n}\n\n_App.getInitialProps = async ({ Component, ctx }) => {\n    await pathRedirection(ctx)\n\n    const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {}\n    let DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE = false, DEFAULT_HTL_LANGUAGE_FILE = false, host\n\n    if (ctx.req) {\n        host = ctx.req.headers.host\n    }\n\n    if (ctx.res) {\n        // server side\n        DB_GENERAL_SETTINGS = ctx.res.GENERAL_SETTINGS\n        DB_REDIS_WEBCMS_DATA = ctx.res.REDIS_WEBCMS_DATA\n    }\n\n    const currentLanguage = ctx.req && ctx.req.currentLanguage && ctx.req.currentLanguage || false\n    if (ctx.req && currentLanguage && DB_GENERAL_SETTINGS?.useFilterLangs?.length > 0 && isLocaleViaList(DB_GENERAL_SETTINGS.useFilterLangs, currentLanguage)) {\n        DEFAULT_LOCALE = currentLanguage\n    } else {\n        if((!DB_GENERAL_SETTINGS?.useFilterLangs || (DB_GENERAL_SETTINGS?.useFilterLangs?.length === 0)) && ctx.req && currentLanguage && isLocale(currentLanguage)){\n            DEFAULT_LOCALE = currentLanguage\n        } else if (ctx.res) {\n            DEFAULT_LOCALE = DB_GENERAL_SETTINGS.hotelLocalLangGCode\n        } else {\n            DEFAULT_LOCALE = defaultLocale\n        }\n    }\n\n    if (DB_REDIS_WEBCMS_DATA && DB_REDIS_WEBCMS_DATA?.default?.pages && Object.keys(DB_REDIS_WEBCMS_DATA.default.pages).length && DB_REDIS_WEBCMS_DATA?.defaultLanguage){\n        DEFAULT_LOCALE = DB_REDIS_WEBCMS_DATA?.defaultLanguage?.gcode || DEFAULT_LOCALE\n    }\n\n    if (ctx.query.lang) {\n        QUERY_LOCALE = ctx.query.lang\n        if(Array.isArray(QUERY_LOCALE)){\n            QUERY_LOCALE = QUERY_LOCALE[0]\n        }\n    }\n\n    if (pageProps && Object.keys(pageProps).length > 0) {\n        return {\n            pageProps,\n            DB_GENERAL_SETTINGS,\n            DB_REDIS_WEBCMS_DATA,\n            QUERY_LOCALE,\n            DEFAULT_LOCALE,\n            DEFAULT_LANGUAGE_FILE,\n            DEFAULT_HTL_LANGUAGE_FILE,\n            host,\n        }\n    } else {\n        if (DB_GENERAL_SETTINGS) {\n            DEFAULT_LANGUAGE_FILE = await getHotelAppLang(ctx.req, ctx.res,QUERY_LOCALE || DEFAULT_LOCALE)\n            DEFAULT_HTL_LANGUAGE_FILE = await getHotelAppLang(ctx.req, ctx.res, DB_GENERAL_SETTINGS.hotelLocalLangGCode)\n        }\n\n        return { DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host }\n    }\n}\n\nexport default withRedux(store)(_App)\n"]},"metadata":{},"sourceType":"module"}