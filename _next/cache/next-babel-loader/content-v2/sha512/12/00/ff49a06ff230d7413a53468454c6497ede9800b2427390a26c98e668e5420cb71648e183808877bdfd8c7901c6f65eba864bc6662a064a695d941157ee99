{"ast":null,"code":"import axios from \"axios\";\nimport { OREST_RATAG_PARAM, OREST_DELETE, OREST_INSERT, REQUEST_METHOD_CONST, OREST_PATCH } from \"../../constants\";\nimport { SLASH } from \"../../../globals\";\nexport function RaTagItemDelete(orestUrl, token, hotelRefNo, gid) {\n  const url = orestUrl + OREST_RATAG_PARAM + OREST_DELETE;\n  const params = {\n    gid: gid,\n    hotelrefno: Number(hotelRefNo)\n  };\n  const options = {\n    url: url,\n    method: 'delete',\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    },\n    params\n  };\n  return axios(options).then(response => {\n    return response;\n  }).catch(error => {\n    return error.response || {\n      status: 0\n    };\n  });\n}\nexport function InsertRaTag(orestUrl, token, mid, tagList, hotelRefNo) {\n  const stringValue = handleArrayToString(tagList);\n  const url = orestUrl + OREST_RATAG_PARAM + OREST_INSERT;\n  const params = {\n    hotelrefno: Number(hotelRefNo)\n  };\n  const data = {\n    hotelrefno: hotelRefNo,\n    masterid: mid,\n    tagstr: stringValue\n  };\n  const options = {\n    url: url,\n    method: REQUEST_METHOD_CONST.POST,\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    },\n    params,\n    data\n  };\n  return axios(options).then(response => {\n    return response;\n  }).catch(error => {\n    return error.response || {\n      status: 0\n    };\n  });\n}\nexport function PatchRaTag(orestUrl, token, gid, tagList, hotelRefNo) {\n  const stringValue = handleArrayToString(tagList);\n  const url = orestUrl + OREST_RATAG_PARAM + OREST_PATCH + SLASH + gid;\n  const params = {\n    hotelrefno: Number(hotelRefNo)\n  };\n  const data = {\n    tagstr: stringValue\n  };\n  const options = {\n    url: url,\n    method: REQUEST_METHOD_CONST.PATCH,\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    },\n    params,\n    data\n  };\n  return axios(options).then(response => {\n    return response;\n  }).catch(error => {\n    return error.response || {\n      status: 0\n    };\n  });\n}\n\nconst handleArrayToString = array => {\n  let stringValue = '';\n\n  if (array && array.length > 0) {\n    array.map((item, ind) => {\n      if (ind < array.length - 1) {\n        stringValue += `${item.tagstr},`;\n      } else {\n        stringValue += item.tagstr;\n      }\n    });\n  }\n\n  return stringValue;\n};","map":{"version":3,"sources":["/Users/mata/app-cloudweb/model/orest/components/RaTag/index.js"],"names":["axios","OREST_RATAG_PARAM","OREST_DELETE","OREST_INSERT","REQUEST_METHOD_CONST","OREST_PATCH","SLASH","RaTagItemDelete","orestUrl","token","hotelRefNo","gid","url","params","hotelrefno","Number","options","method","headers","then","response","catch","error","status","InsertRaTag","mid","tagList","stringValue","handleArrayToString","data","masterid","tagstr","POST","PatchRaTag","PATCH","array","length","map","item","ind"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    OREST_RATAG_PARAM,\n    OREST_DELETE, OREST_INSERT, REQUEST_METHOD_CONST, OREST_PATCH\n} from \"../../constants\";\nimport {SLASH} from \"../../../globals\";\n\n\nexport function RaTagItemDelete(orestUrl,token, hotelRefNo, gid) {\n    const url = orestUrl + OREST_RATAG_PARAM + OREST_DELETE;\n\n    const params = {\n        gid: gid,\n        hotelrefno: Number(hotelRefNo),\n    };\n\n    const options = {\n        url: url,\n        method: 'delete',\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        },\n        params\n    };\n\n    return axios(options).then(response => {\n        return response\n    }).catch(error => {\n        return error.response || {status: 0};\n    })\n}\n\nexport function InsertRaTag(orestUrl, token, mid, tagList, hotelRefNo) {\n\n    const stringValue = handleArrayToString(tagList);\n\n    const url = orestUrl + OREST_RATAG_PARAM + OREST_INSERT\n\n    const params = {\n        hotelrefno: Number(hotelRefNo),\n    };\n\n    const data = {\n        hotelrefno: hotelRefNo,\n        masterid: mid,\n        tagstr: stringValue,\n    }\n\n    const options = {\n        url: url,\n        method: REQUEST_METHOD_CONST.POST,\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        },\n        params,\n        data\n    };\n\n    return axios(options).then(response => {\n        return response\n    }).catch(error => {\n        return error.response || {status: 0};\n    })\n\n}\n\nexport function PatchRaTag(orestUrl, token, gid, tagList, hotelRefNo) {\n\n   const stringValue = handleArrayToString(tagList);\n\n    const url = orestUrl + OREST_RATAG_PARAM + OREST_PATCH + SLASH + gid\n\n    const params = {\n        hotelrefno: Number(hotelRefNo),\n    };\n\n    const data = {\n        tagstr: stringValue,\n    }\n\n    const options = {\n        url: url,\n        method: REQUEST_METHOD_CONST.PATCH,\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        },\n        params,\n        data\n    };\n\n    return axios(options).then(response => {\n        return response\n    }).catch(error => {\n        return error.response || {status: 0};\n    })\n\n}\n\nconst handleArrayToString = (array) => {\n    let stringValue = '';\n    if(array && array.length > 0) {\n        array.map((item, ind) => {\n            if(ind < array.length - 1) {\n                stringValue += `${item.tagstr},`\n            } else {\n                stringValue += item.tagstr\n            }\n        })\n    }\n\n    return stringValue;\n}\n"]},"metadata":{},"sourceType":"module"}