{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/@webcms-ui/core/spin-edit/index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Box, IconButton, TextField } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nexport default function SpinEdit(props) {\n  let {\n    disabled,\n    label,\n    max,\n    min,\n    defaultValue,\n    helpText,\n    size,\n    padding,\n    onChange,\n    className,\n    isWritableText,\n    error,\n    style\n  } = props;\n  const {\n    0: inputType,\n    1: setInputType\n  } = useState('');\n  const {\n    0: inputValue,\n    1: setInputValue\n  } = useState(defaultValue);\n  useEffect(() => {\n    if (inputValue !== defaultValue && typeof onChange === \"function\") {\n      onChange(inputValue, inputType);\n    }\n  }, [inputValue]);\n\n  const handleInc = () => {\n    if (max > inputValue) setInputType('inc');\n    setInputValue(inputValue + 1);\n  };\n\n  const handleDec = () => {\n    if (inputValue > min) {\n      setInputType('dec');\n      setInputValue(inputValue - 1);\n    }\n\n    if (inputValue > max) {\n      setInputValue(max);\n    }\n  };\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    p: padding,\n    style: style && style || {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, __jsx(TextField, {\n    error: error,\n    disabled: disabled,\n    className: className || \"\",\n    label: label,\n    value: inputValue,\n    variant: \"outlined\",\n    helperText: helpText,\n    onChange: e => {\n      if (isWritableText) {\n        const reg = /^[0-9\\b]+$/;\n\n        if (e.target.value === '' || reg.test(e.target.value)) {\n          setInputValue(Number(e.target.value));\n        }\n      }\n    },\n    fullWidth: true,\n    size: size,\n    FormHelperTextProps: {\n      style: {\n        opacity: error ? '1' : '0'\n      }\n    },\n    inputProps: {\n      style: {\n        textAlign: 'center'\n      },\n      pattern: \"[0-9]*\"\n    },\n    InputProps: {\n      readOnly: !isWritableText,\n      startAdornment: __jsx(IconButton, {\n        style: {\n          padding: '4px'\n        },\n        size: size,\n        onClick: () => handleDec(),\n        disabled: disabled || inputValue <= min,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, __jsx(RemoveIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      })),\n      endAdornment: __jsx(IconButton, {\n        style: {\n          padding: '4px'\n        },\n        size: size,\n        onClick: () => handleInc(),\n        disabled: disabled || inputValue >= max,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }, __jsx(AddIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  })));\n}\nSpinEdit.defaultProps = {\n  label: \"\",\n  max: 99,\n  min: 0,\n  defaultValue: 0,\n  padding: 3,\n  size: \"medium\",\n  helpeText: '',\n  disabled: false,\n  isWritableText: false\n};\nSpinEdit.propTypes = {\n  onChange: PropTypes.func,\n  label: PropTypes.string,\n  helpText: PropTypes.object,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  defaultValue: PropTypes.number,\n  padding: PropTypes.number,\n  size: PropTypes.string,\n  disabled: PropTypes.bool,\n  isWritableText: PropTypes.bool,\n  style: PropTypes.object\n};","map":{"version":3,"sources":["/Users/mata/app-cloudweb/@webcms-ui/core/spin-edit/index.js"],"names":["React","useEffect","useState","PropTypes","Box","IconButton","TextField","AddIcon","RemoveIcon","SpinEdit","props","disabled","label","max","min","defaultValue","helpText","size","padding","onChange","className","isWritableText","error","style","inputType","setInputType","inputValue","setInputValue","handleInc","handleDec","e","reg","target","value","test","Number","opacity","textAlign","pattern","readOnly","startAdornment","endAdornment","defaultProps","helpeText","propTypes","func","string","object","number","bool"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Box, IconButton, TextField } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\n\nexport default function SpinEdit(props) {\n\n  let {disabled, label, max, min, defaultValue, helpText, size, padding, onChange, className, isWritableText, error, style} = props;\n  const [inputType, setInputType] = useState('');\n  const [inputValue, setInputValue] = useState(defaultValue);\n\n  useEffect(() => {\n    if(inputValue !== defaultValue && typeof onChange === \"function\"){\n      onChange(inputValue, inputType);\n    }\n  }, [inputValue]);\n\n  const handleInc = () =>{\n    if(max > inputValue)\n      setInputType('inc')\n      setInputValue(inputValue + 1);\n  };\n\n  const handleDec = () =>{\n    if(inputValue > min) {\n      setInputType('dec')\n      setInputValue(inputValue - 1);\n    }\n    if(inputValue > max) {\n      setInputValue(max);\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <Box p={padding} style={style && style || {}}>\n        <TextField\n          error={error}\n          disabled={disabled}\n          className={className || \"\"}\n          label={label}\n          value={inputValue}\n          variant=\"outlined\"\n          helperText={helpText}\n          onChange={(e) => {\n            if(isWritableText) {\n              const reg = /^[0-9\\b]+$/\n              if (e.target.value === '' || reg.test(e.target.value)) {\n                setInputValue(Number(e.target.value))\n              }\n            }\n          }}\n          fullWidth\n          size={size}\n          FormHelperTextProps={{\n            style:  {opacity: error ? '1' : '0'}\n          }}\n          inputProps={{ style: { textAlign: 'center' }, pattern:\"[0-9]*\" }}\n          InputProps={{\n            readOnly: !isWritableText,\n            startAdornment: (\n              <IconButton style={{padding: '4px'}} size={size} onClick={()=> handleDec()} disabled={disabled || inputValue <= min}>\n                <RemoveIcon />\n              </IconButton>\n            ),\n            endAdornment: (\n              <IconButton style={{padding: '4px'}} size={size} onClick={()=> handleInc()} disabled={disabled || inputValue >= max}>\n                <AddIcon />\n              </IconButton>\n            ),\n          }}\n        />\n      </Box>\n    </React.Fragment>\n  );\n}\n\nSpinEdit.defaultProps = {\n  label: \"\",\n  max: 99,\n  min: 0,\n  defaultValue: 0,\n  padding: 3,\n  size: \"medium\",\n  helpeText: '',\n  disabled: false,\n  isWritableText: false\n}\n\nSpinEdit.propTypes = {\n  onChange: PropTypes.func,\n  label: PropTypes.string,\n  helpText: PropTypes.object,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  defaultValue: PropTypes.number,\n  padding: PropTypes.number,\n  size: PropTypes.string,\n  disabled: PropTypes.bool,\n  isWritableText: PropTypes.bool,\n  style: PropTypes.object\n}"]},"metadata":{},"sourceType":"module"}