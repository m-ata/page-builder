{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/pages/_app.js\",\n    _this = this,\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n//react\nimport React, { useEffect, useState } from 'react'; //next\n\nimport Head from 'next/head';\nimport Router, { useRouter } from 'next/router';\nimport getConfig from 'next/config';\n\nvar _getConfig = getConfig(),\n    publicRuntimeConfig = _getConfig.publicRuntimeConfig; //redux\n\n\nimport withRedux from 'next-redux-wrapper';\nimport { Provider } from 'react-redux';\nimport store from 'state/store'; //material-ui\n\nimport { createMuiTheme, MuiThemeProvider, makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport WebCmsGlobal from 'components/webcms-global'; //webcms\n\nimport axios from 'axios';\nimport { LOCAL_STORAGE_OREST_TOKEN_TEXT } from 'model/orest/constants';\nimport { SnackbarProvider } from 'notistack';\nimport CookiePolicy from 'components/common/cookie-policy';\nimport { LocaleProvider } from 'lib/translations/context/LocaleContext';\nimport { pathRedirection } from 'lib/helpers/usePathRedirection';\nimport WebCmsProgress from 'nprogress';\nWebCmsProgress.configure({\n  showSpinner: publicRuntimeConfig.NProgressShowSpinner\n});\nimport TagManager from '@webcms-globals/tag-manager'; //import all css\n\nimport 'slick-carousel/slick/slick.css';\nimport 'assets/css/slick-theme.css';\nimport '@webcms-ui/core/phone-input/styles.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'froala-editor/css/froala_style.min.css';\nimport 'froala-editor/css/froala_editor.pkgd.min.css';\nimport 'froala-editor/css/plugins/char_counter.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport 'components/payment/credit-card/card.css';\nimport 'public/static/styles/panel/style.css';\nimport 'public/static/css/bootstrap.min.css';\nimport 'assets/css/myRequest.css';\nimport 'assets/css/TrainingRequest.css';\nimport 'assets/css/dashboardCarousel.css';\nimport 'assets/css/portalHomeSlider.css';\nimport 'public/static/styles/overwrite.css';\nimport 'nprogress/nprogress.css';\nimport { isLocale } from 'lib/translations/types';\nimport { defaultLocale } from 'lib/translations/config'; //import moment\n\nimport moment from 'moment';\nimport 'moment/locale/de';\nimport 'moment/locale/tr';\nimport 'moment/locale/ru';\nimport 'moment/locale/es';\nimport 'moment/locale/mk';\nimport 'moment/locale/sq';\nvar noCookieAndChatPaths = ['/editor/language', '/embed/register', '/page-builder'];\n\nfunction hasPath(paths, path) {\n  return paths.find(function (pathItem) {\n    return pathItem === path;\n  }) || false;\n} //progress bar for router\n\n\nRouter.onRouteChangeStart = function () {\n  WebCmsProgress.start();\n};\n\nRouter.onRouteChangeComplete = function () {\n  WebCmsProgress.done();\n};\n\nRouter.onRouteChangeError = function () {\n  WebCmsProgress.done();\n};\n\nvar appStyles = makeStyles(function (theme) {\n  return {\n    snackbarContainerRoot: _defineProperty({}, theme.breakpoints.down('sm'), {\n      bottom: 125\n    })\n  };\n});\n\nvar _App = function _App(_ref) {\n  _s3();\n\n  var _s2 = $RefreshSig$(),\n      _WEBCMS_DATA,\n      _WEBCMS_DATA$assets,\n      _WEBCMS_DATA$assets$f,\n      _WEBCMS_DATA2,\n      _WEBCMS_DATA2$assets,\n      _WEBCMS_DATA2$assets$,\n      _WEBCMS_DATA3,\n      _WEBCMS_DATA3$assets,\n      _GENERAL_SETTINGS,\n      _WEBCMS_DATA4,\n      _WEBCMS_DATA4$assets,\n      _WEBCMS_DATA4$assets$,\n      _WEBCMS_DATA5,\n      _WEBCMS_DATA5$assets,\n      _WEBCMS_DATA5$assets$;\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      store = _ref.store,\n      DB_GENERAL_SETTINGS = _ref.DB_GENERAL_SETTINGS,\n      DB_REDIS_WEBCMS_DATA = _ref.DB_REDIS_WEBCMS_DATA,\n      QUERY_LOCALE = _ref.QUERY_LOCALE,\n      DEFAULT_LOCALE = _ref.DEFAULT_LOCALE,\n      __NEXT_DATA__ = _ref.__NEXT_DATA__,\n      DEFAULT_LANGUAGE_FILE = _ref.DEFAULT_LANGUAGE_FILE,\n      DEFAULT_HTL_LANGUAGE_FILE = _ref.DEFAULT_HTL_LANGUAGE_FILE,\n      host = _ref.host;\n  var GENERAL_SETTINGS, WEBCMS_DATA, locale;\n\n  var _useState = useState(null),\n      GENERAL_SETTINGS_CACHE = _useState[0],\n      setGENERAL_SETTINGS_CACHE = _useState[1];\n\n  var _useState2 = useState(null),\n      WEBCMS_DATA_CACHE = _useState2[0],\n      setWEBCMS_DATA_CACHE = _useState2[1];\n\n  var _useState3 = useState(''),\n      LOCALE_CACHE = _useState3[0],\n      setLOCALE_CACHE = _useState3[1];\n\n  var _useState4 = useState(false),\n      COOKIE_ENABLED = _useState4[0],\n      setCOOKIE_ENABLED = _useState4[1];\n\n  var _useState5 = useState(''),\n      VERNO = _useState5[0],\n      setVERNO = _useState5[1];\n\n  var router = useRouter();\n  var iframe = router.query.iframe === 'true';\n  var isOnlyBasics = router.query.isOnlyBasics === '1';\n  var classes = appStyles();\n\n  var _useState6 = useState(router.query.authToken),\n      token = _useState6[0],\n      setToken = _useState6[1];\n\n  useEffect(_s2(function () {\n    var _DB_REDIS_WEBCMS_DATA,\n        _DB_REDIS_WEBCMS_DATA2,\n        _s = $RefreshSig$();\n\n    _s2();\n\n    setGENERAL_SETTINGS_CACHE(DB_GENERAL_SETTINGS);\n    setWEBCMS_DATA_CACHE(DB_REDIS_WEBCMS_DATA);\n    setVERNO(window.__NEXT_DATA__.buildId || '');\n\n    if (!QUERY_LOCALE) {\n      setLOCALE_CACHE(QUERY_LOCALE);\n    }\n\n    if (DB_REDIS_WEBCMS_DATA !== null && DB_REDIS_WEBCMS_DATA !== void 0 && (_DB_REDIS_WEBCMS_DATA = DB_REDIS_WEBCMS_DATA.assets) !== null && _DB_REDIS_WEBCMS_DATA !== void 0 && (_DB_REDIS_WEBCMS_DATA2 = _DB_REDIS_WEBCMS_DATA.meta) !== null && _DB_REDIS_WEBCMS_DATA2 !== void 0 && _DB_REDIS_WEBCMS_DATA2.googleTag) {\n      TagManager.initialize({\n        gtmId: DB_REDIS_WEBCMS_DATA.assets.meta.googleTag\n      });\n    }\n\n    var cookieEnabled = localStorage.getItem(\"is-cookie\");\n\n    if (!cookieEnabled) {\n      setCOOKIE_ENABLED(true);\n    }\n\n    var jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n\n    window.addEventListener('message', function (event) {\n      var _event$data;\n\n      if ((event === null || event === void 0 ? void 0 : (_event$data = event.data) === null || _event$data === void 0 ? void 0 : _event$data.tokenUpdate) !== token) {\n        setToken(event.data.tokenUpdate);\n      }\n    });\n    useLogger();\n    Router.events.on('routeChangeComplete', _s(function () {\n      _s();\n\n      return useLogger();\n    }, \"nzHB/hoNfhsj764hOzWA0KygJ6Y=\", false, function () {\n      return [useLogger];\n    }));\n  }, \"nzHB/hoNfhsj764hOzWA0KygJ6Y=\", false, function () {\n    return [useLogger];\n  }), []);\n\n  var useLogger = function useLogger() {\n    var getDeviceType = function getDeviceType() {\n      if (/(up.browser|up.link|mmp|symbian|smartphone|midp|wap|phone|android|iemobile|w3c|acs\\-|alav|alca|amoi|audi|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd\\-|dang|doco|eric|hipt|inno|ipaq|java|jigs|kddi|keji|leno|lg\\-c|lg\\-d|lg\\-g|lge\\-|maui|maxo|midp|mits|mmef|mobi|mot\\-|moto|mwbp|nec\\-|newt|noki|palm|pana|pant|phil|play|port|prox|qwap|sage|sams|sany|sch\\-|sec\\-|send|seri|sgh\\-|shar|sie\\-|siem|smal|smar|sony|sph\\-|symb|t\\-mo|teli|tim\\-|tosh|tsm\\-|upg1|upsi|vk\\-v|voda|wap\\-|wapa|wapi|wapp|wapr|webc|winw|winw|xda|xda\\-) /i.test(navigator.userAgent)) {\n        if (/(tablet|ipad|playbook)|(android(?!.*(mobi|opera mini)))/i.test(navigator.userAgent)) {\n          return 'Tablet';\n        } else {\n          return 'Mobile';\n        }\n      } else if (/(tablet|ipad|playbook)|(android(?!.*(mobi|opera mini)))/i.test(navigator.userAgent)) {\n        return 'Tablet';\n      } else {\n        return 'Desktop';\n      }\n    };\n\n    var getBrowser = function getBrowser() {\n      var ua = navigator.userAgent,\n          tem,\n          M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n\n      if (/trident/i.test(M[1])) {\n        tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n        return {\n          name: 'IE',\n          version: tem[1] || ''\n        };\n      }\n\n      if (M[1] === 'Chrome') {\n        tem = ua.match(/\\bOPR|Edge\\/(\\d+)/);\n\n        if (tem != null) {\n          return {\n            name: 'Opera',\n            version: tem[1]\n          };\n        }\n      }\n\n      M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\n\n      if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n        M.splice(1, 1, tem[1]);\n      }\n\n      return {\n        name: M[0],\n        version: M[1]\n      };\n    };\n\n    var getData = {\n      url: \"\".concat(location.protocol, \"//\").concat(location.host).concat(Router.router.asPath),\n      pagelang: locale,\n      pagesize: \"\".concat(window.outerWidth, \"x\").concat(window.outerHeight),\n      brdesc: getBrowser().name,\n      brver: getBrowser().version,\n      brlang: navigator.language || navigator.userLanguage || 'non',\n      devicetype: getDeviceType(),\n      ckenabled: navigator.cookieEnabled || false\n    };\n    var getAuth = localStorage.getItem(LOCAL_STORAGE_OREST_TOKEN_TEXT) || false;\n\n    if (getAuth) {\n      var _getAuth, _getAuth$loginfo, _getAuth2, _getAuth2$loginfo;\n\n      getAuth = JSON.parse(getAuth);\n      getData.islogin = getAuth ? 'true' : 'false';\n      getData.loginrefid = ((_getAuth = getAuth) === null || _getAuth === void 0 ? void 0 : (_getAuth$loginfo = _getAuth.loginfo) === null || _getAuth$loginfo === void 0 ? void 0 : _getAuth$loginfo.refid) || '0';\n      getData.loginrefcode = ((_getAuth2 = getAuth) === null || _getAuth2 === void 0 ? void 0 : (_getAuth2$loginfo = _getAuth2.loginfo) === null || _getAuth2$loginfo === void 0 ? void 0 : _getAuth2$loginfo.refcode) || '';\n    }\n\n    return axios({\n      url: 'api/browser/info',\n      method: 'post',\n      params: {\n        ver: window.__NEXT_DATA__.buildId || '0'\n      },\n      data: {\n        value: Buffer.from(JSON.stringify(getData)).toString('base64')\n      }\n    }).then(function () {\n      return true;\n    })[\"catch\"](function () {\n      return false;\n    });\n  };\n\n  if (DB_GENERAL_SETTINGS) {\n    GENERAL_SETTINGS = DB_GENERAL_SETTINGS;\n  } else {\n    GENERAL_SETTINGS = GENERAL_SETTINGS_CACHE;\n  }\n\n  if (DB_REDIS_WEBCMS_DATA) {\n    WEBCMS_DATA = DB_REDIS_WEBCMS_DATA;\n  } else {\n    WEBCMS_DATA = WEBCMS_DATA_CACHE;\n  }\n\n  if (QUERY_LOCALE) {\n    locale = QUERY_LOCALE;\n  } else if (LOCALE_CACHE) {\n    locale = LOCALE_CACHE;\n  } else {\n    locale = DEFAULT_LOCALE;\n  }\n\n  if (locale) {\n    moment.locale(locale);\n  }\n\n  var handleCookie = function handleCookie() {\n    localStorage.setItem(\"is-cookie\", \"active\");\n    setCOOKIE_ENABLED(false);\n  };\n\n  var fontName = (_WEBCMS_DATA = WEBCMS_DATA) === null || _WEBCMS_DATA === void 0 ? void 0 : (_WEBCMS_DATA$assets = _WEBCMS_DATA.assets) === null || _WEBCMS_DATA$assets === void 0 ? void 0 : (_WEBCMS_DATA$assets$f = _WEBCMS_DATA$assets.font) === null || _WEBCMS_DATA$assets$f === void 0 ? void 0 : _WEBCMS_DATA$assets$f.name;\n  fontName = fontName !== 'default' ? fontName : 'Roboto';\n\n  if ((_WEBCMS_DATA2 = WEBCMS_DATA) !== null && _WEBCMS_DATA2 !== void 0 && (_WEBCMS_DATA2$assets = _WEBCMS_DATA2.assets) !== null && _WEBCMS_DATA2$assets !== void 0 && (_WEBCMS_DATA2$assets$ = _WEBCMS_DATA2$assets.colors) !== null && _WEBCMS_DATA2$assets$ !== void 0 && _WEBCMS_DATA2$assets$.primary && host !== null && host !== void 0 && host.includes('cloud') || host !== null && host !== void 0 && host.includes('portal')) {\n    WEBCMS_DATA.assets.colors.primary.main = router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#4666B0';\n    WEBCMS_DATA.assets.colors.primary.dark = router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425C';\n    WEBCMS_DATA.assets.colors.primary.light = router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425C';\n    WEBCMS_DATA.assets.colors.primary.ultraDark = router.pathname.indexOf('emp') !== -1 ? '#0E2326' : '#3C3B53';\n    WEBCMS_DATA.assets.colors.text = {\n      main: router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#43425D',\n      light: router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425D',\n      ultraDark: router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425D'\n    };\n  }\n\n  var theme = createMuiTheme({\n    typography: {\n      fontFamily: ['\\'' + fontName + '\\'', 'sans-serif'].join(',')\n    },\n    palette: (_WEBCMS_DATA3 = WEBCMS_DATA) === null || _WEBCMS_DATA3 === void 0 ? void 0 : (_WEBCMS_DATA3$assets = _WEBCMS_DATA3.assets) === null || _WEBCMS_DATA3$assets === void 0 ? void 0 : _WEBCMS_DATA3$assets.colors\n  });\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, __jsx(\"meta\", {\n    charSet: \"utf-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#ffffff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"webcms-ver\",\n    content: VERNO,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }), host && host === \"docs.hotech.systems\" ? __jsx(\"meta\", {\n    name: \"google-signin-client_id\",\n    content: \"161176593651-khs1j4eatnfian8ll774gq7c1v2f2ffc.apps.googleusercontent.com\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 59\n    }\n  }) : null, __jsx(\"base\", {\n    href: ((_GENERAL_SETTINGS = GENERAL_SETTINGS) === null || _GENERAL_SETTINGS === void 0 ? void 0 : _GENERAL_SETTINGS.BASE_URL) || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }), __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  }, ((_WEBCMS_DATA4 = WEBCMS_DATA) === null || _WEBCMS_DATA4 === void 0 ? void 0 : (_WEBCMS_DATA4$assets = _WEBCMS_DATA4.assets) === null || _WEBCMS_DATA4$assets === void 0 ? void 0 : (_WEBCMS_DATA4$assets$ = _WEBCMS_DATA4$assets.meta) === null || _WEBCMS_DATA4$assets$ === void 0 ? void 0 : _WEBCMS_DATA4$assets$.title) || ''), (_WEBCMS_DATA5 = WEBCMS_DATA) !== null && _WEBCMS_DATA5 !== void 0 && (_WEBCMS_DATA5$assets = _WEBCMS_DATA5.assets) !== null && _WEBCMS_DATA5$assets !== void 0 && (_WEBCMS_DATA5$assets$ = _WEBCMS_DATA5$assets.meta) !== null && _WEBCMS_DATA5$assets$ !== void 0 && _WEBCMS_DATA5$assets$.chatBox && !hasPath(noCookieAndChatPaths, router.pathname) ? __jsx(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: \"\".concat(WEBCMS_DATA.assets.meta.chatBox)\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 108\n    }\n  }) : null), __jsx(MuiThemeProvider, {\n    theme: theme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }, __jsx(CssBaseline, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }), __jsx(Provider, {\n    store: store,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, __jsx(WebCmsGlobal.Provider, {\n    value: {\n      GENERAL_SETTINGS: GENERAL_SETTINGS,\n      WEBCMS_DATA: WEBCMS_DATA,\n      token: token,\n      locale: locale\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 21\n    }\n  }, __jsx(LocaleProvider, {\n    lang: locale,\n    defaultHotelLanguageFile: DEFAULT_HTL_LANGUAGE_FILE,\n    defaultLanguageFile: DEFAULT_LANGUAGE_FILE,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 25\n    }\n  }, __jsx(SnackbarProvider, {\n    maxSnack: 3,\n    classes: {\n      containerRoot: classes.snackbarContainerRoot\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 29\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 33\n    }\n  })), !isOnlyBasics && !hasPath(noCookieAndChatPaths, router.pathname) ? __jsx(CookiePolicy, {\n    isActive: !iframe && COOKIE_ENABLED,\n    onClose: function onClose() {\n      return handleCookie();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 103\n    }\n  }) : null))))));\n};\n\n_s3(_App, \"xM8bE7wwrGr9414UMUHo90dkyNo=\", false, function () {\n  return [useRouter];\n});\n\nvar getDefaultLanguageFile = function getDefaultLanguageFile(sett, langcode) {\n  return axios({\n    url: sett.BASE_URL + 'api/hotel/app/language',\n    method: 'post',\n    params: {\n      langcode: langcode\n    }\n  }).then(function (hotelAppLanguageResponse) {\n    var hotelAppLanguageResponseData = hotelAppLanguageResponse.data;\n\n    if (hotelAppLanguageResponseData.success) {\n      return hotelAppLanguageResponseData.data;\n    } else {\n      return false;\n    }\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\n_App.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var _DB_REDIS_WEBCMS_DATA3, _DB_REDIS_WEBCMS_DATA4, _DB_REDIS_WEBCMS_DATA5;\n\n    var Component, ctx, pageProps, DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host, currentLanguage, _DB_REDIS_WEBCMS_DATA6, _DB_REDIS_WEBCMS_DATA7;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            Component = _ref2.Component, ctx = _ref2.ctx;\n            _context.next = 3;\n            return pathRedirection(ctx);\n\n          case 3:\n            if (!Component.getInitialProps) {\n              _context.next = 9;\n              break;\n            }\n\n            _context.next = 6;\n            return Component.getInitialProps(ctx);\n\n          case 6:\n            _context.t0 = _context.sent;\n            _context.next = 10;\n            break;\n\n          case 9:\n            _context.t0 = {};\n\n          case 10:\n            pageProps = _context.t0;\n            DEFAULT_LANGUAGE_FILE = false, DEFAULT_HTL_LANGUAGE_FILE = false;\n\n            if (ctx.req) {\n              host = ctx.req.headers.host;\n            }\n\n            if (ctx.res) {\n              // server side\n              DB_GENERAL_SETTINGS = ctx.res.GENERAL_SETTINGS;\n              DB_REDIS_WEBCMS_DATA = ctx.res.REDIS_WEBCMS_DATA;\n            }\n\n            currentLanguage = ctx.req && ctx.req.currentLanguage && ctx.req.currentLanguage || false;\n\n            if (ctx.req && currentLanguage && isLocale(currentLanguage)) {\n              DEFAULT_LOCALE = currentLanguage;\n            } else {\n              if (ctx.res) {\n                DEFAULT_LOCALE = DB_GENERAL_SETTINGS.hotelLocalLangGCode;\n              } else {\n                DEFAULT_LOCALE = defaultLocale;\n              }\n            }\n\n            if (DB_REDIS_WEBCMS_DATA && (_DB_REDIS_WEBCMS_DATA3 = DB_REDIS_WEBCMS_DATA) !== null && _DB_REDIS_WEBCMS_DATA3 !== void 0 && (_DB_REDIS_WEBCMS_DATA4 = _DB_REDIS_WEBCMS_DATA3[\"default\"]) !== null && _DB_REDIS_WEBCMS_DATA4 !== void 0 && _DB_REDIS_WEBCMS_DATA4.pages && Object.keys(DB_REDIS_WEBCMS_DATA[\"default\"].pages).length && (_DB_REDIS_WEBCMS_DATA5 = DB_REDIS_WEBCMS_DATA) !== null && _DB_REDIS_WEBCMS_DATA5 !== void 0 && _DB_REDIS_WEBCMS_DATA5.defaultLanguage) {\n              DEFAULT_LOCALE = ((_DB_REDIS_WEBCMS_DATA6 = DB_REDIS_WEBCMS_DATA) === null || _DB_REDIS_WEBCMS_DATA6 === void 0 ? void 0 : (_DB_REDIS_WEBCMS_DATA7 = _DB_REDIS_WEBCMS_DATA6.defaultLanguage) === null || _DB_REDIS_WEBCMS_DATA7 === void 0 ? void 0 : _DB_REDIS_WEBCMS_DATA7.gcode) || DEFAULT_LOCALE;\n            }\n\n            if (ctx.query.lang) {\n              QUERY_LOCALE = ctx.query.lang;\n            }\n\n            if (!(pageProps && Object.keys(pageProps).length > 0)) {\n              _context.next = 22;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              pageProps: pageProps,\n              DB_GENERAL_SETTINGS: DB_GENERAL_SETTINGS,\n              DB_REDIS_WEBCMS_DATA: DB_REDIS_WEBCMS_DATA,\n              QUERY_LOCALE: QUERY_LOCALE,\n              DEFAULT_LOCALE: DEFAULT_LOCALE,\n              DEFAULT_LANGUAGE_FILE: DEFAULT_LANGUAGE_FILE,\n              DEFAULT_HTL_LANGUAGE_FILE: DEFAULT_HTL_LANGUAGE_FILE,\n              host: host\n            });\n\n          case 22:\n            if (!DB_GENERAL_SETTINGS) {\n              _context.next = 29;\n              break;\n            }\n\n            _context.next = 25;\n            return getDefaultLanguageFile(DB_GENERAL_SETTINGS, QUERY_LOCALE || DEFAULT_LOCALE);\n\n          case 25:\n            DEFAULT_LANGUAGE_FILE = _context.sent;\n            _context.next = 28;\n            return getDefaultLanguageFile(DB_GENERAL_SETTINGS, DB_GENERAL_SETTINGS.hotelLocalLangGCode);\n\n          case 28:\n            DEFAULT_HTL_LANGUAGE_FILE = _context.sent;\n\n          case 29:\n            return _context.abrupt(\"return\", {\n              DB_GENERAL_SETTINGS: DB_GENERAL_SETTINGS,\n              DB_REDIS_WEBCMS_DATA: DB_REDIS_WEBCMS_DATA,\n              QUERY_LOCALE: QUERY_LOCALE,\n              DEFAULT_LOCALE: DEFAULT_LOCALE,\n              DEFAULT_LANGUAGE_FILE: DEFAULT_LANGUAGE_FILE,\n              DEFAULT_HTL_LANGUAGE_FILE: DEFAULT_HTL_LANGUAGE_FILE,\n              host: host\n            });\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default withRedux(store)(_App);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/pages/_app.js"],"names":["React","useEffect","useState","Head","Router","useRouter","getConfig","publicRuntimeConfig","withRedux","Provider","store","createMuiTheme","MuiThemeProvider","makeStyles","CssBaseline","WebCmsGlobal","axios","LOCAL_STORAGE_OREST_TOKEN_TEXT","SnackbarProvider","CookiePolicy","LocaleProvider","pathRedirection","WebCmsProgress","configure","showSpinner","NProgressShowSpinner","TagManager","isLocale","defaultLocale","moment","noCookieAndChatPaths","hasPath","paths","path","find","pathItem","onRouteChangeStart","start","onRouteChangeComplete","done","onRouteChangeError","appStyles","theme","snackbarContainerRoot","breakpoints","down","bottom","_App","Component","pageProps","DB_GENERAL_SETTINGS","DB_REDIS_WEBCMS_DATA","QUERY_LOCALE","DEFAULT_LOCALE","__NEXT_DATA__","DEFAULT_LANGUAGE_FILE","DEFAULT_HTL_LANGUAGE_FILE","host","GENERAL_SETTINGS","WEBCMS_DATA","locale","GENERAL_SETTINGS_CACHE","setGENERAL_SETTINGS_CACHE","WEBCMS_DATA_CACHE","setWEBCMS_DATA_CACHE","LOCALE_CACHE","setLOCALE_CACHE","COOKIE_ENABLED","setCOOKIE_ENABLED","VERNO","setVERNO","router","iframe","query","isOnlyBasics","classes","authToken","token","setToken","window","buildId","assets","meta","googleTag","initialize","gtmId","cookieEnabled","localStorage","getItem","jssStyles","document","querySelector","parentElement","removeChild","addEventListener","event","data","tokenUpdate","useLogger","events","on","getDeviceType","test","navigator","userAgent","getBrowser","ua","tem","M","match","exec","name","version","appName","appVersion","splice","getData","url","location","protocol","asPath","pagelang","pagesize","outerWidth","outerHeight","brdesc","brver","brlang","language","userLanguage","devicetype","ckenabled","getAuth","JSON","parse","islogin","loginrefid","loginfo","refid","loginrefcode","refcode","method","params","ver","value","Buffer","from","stringify","toString","then","handleCookie","setItem","fontName","font","colors","primary","includes","main","pathname","indexOf","dark","light","ultraDark","text","typography","fontFamily","join","palette","BASE_URL","title","chatBox","__html","containerRoot","getDefaultLanguageFile","sett","langcode","hotelAppLanguageResponse","hotelAppLanguageResponseData","success","getInitialProps","ctx","req","headers","res","REDIS_WEBCMS_DATA","currentLanguage","hotelLocalLangGCode","pages","Object","keys","length","defaultLanguage","gcode","lang"],"mappings":";;;;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,aAAlC;AACA,OAAOC,SAAP,MAAsB,aAAtB;;iBACgCA,SAAS,E;IAAjCC,mB,cAAAA,mB,EACR;;;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,KAAP,MAAkB,aAAlB,C,CACA;;AACA,SAASC,cAAT,EAAyBC,gBAAzB,EAA2CC,UAA3C,QAA6D,0BAA7D;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,YAAP,MAAyB,0BAAzB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,8BAAT,QAA+C,uBAA/C;AACA,SAASC,gBAAT,QAAiC,WAAjC;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,SAASC,cAAT,QAA+B,wCAA/B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,cAAP,MAA2B,WAA3B;AACAA,cAAc,CAACC,SAAf,CAAyB;AAAEC,EAAAA,WAAW,EAAEjB,mBAAmB,CAACkB;AAAnC,CAAzB;AACA,OAAOC,UAAP,MAAuB,6BAAvB,C,CACA;;AACA,OAAO,gCAAP;AACA,OAAO,4BAAP;AACA,OAAO,wCAAP;AACA,OAAO,2CAAP;AACA,OAAO,wCAAP;AACA,OAAO,8CAAP;AACA,OAAO,gDAAP;AACA,OAAO,uCAAP;AACA,OAAO,yCAAP;AACA,OAAO,sCAAP;AACA,OAAO,qCAAP;AACA,OAAO,0BAAP;AACA,OAAO,gCAAP;AACA,OAAO,kCAAP;AACA,OAAO,iCAAP;AACA,OAAO,oCAAP;AACA,OAAO,yBAAP;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,aAAT,QAA8B,yBAA9B,C,CACA;;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,kBAAP;AACA,OAAO,kBAAP;AACA,OAAO,kBAAP;AACA,OAAO,kBAAP;AACA,OAAO,kBAAP;AACA,OAAO,kBAAP;AAEA,IAAMC,oBAAoB,GAAG,CAAC,kBAAD,EAAqB,iBAArB,EAAwC,eAAxC,CAA7B;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,IAAxB,EAA8B;AAC1B,SAAOD,KAAK,CAACE,IAAN,CAAW,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,KAAKF,IAAjB;AAAA,GAAnB,KAA6C,KAApD;AACH,C,CAED;;;AACA7B,MAAM,CAACgC,kBAAP,GAA4B,YAAM;AAC9Bd,EAAAA,cAAc,CAACe,KAAf;AACH,CAFD;;AAIAjC,MAAM,CAACkC,qBAAP,GAA+B,YAAM;AACjChB,EAAAA,cAAc,CAACiB,IAAf;AACH,CAFD;;AAIAnC,MAAM,CAACoC,kBAAP,GAA4B,YAAM;AAC9BlB,EAAAA,cAAc,CAACiB,IAAf;AACH,CAFD;;AAIA,IAAME,SAAS,GAAG5B,UAAU,CAAC,UAAC6B,KAAD;AAAA,SAAY;AACrCC,IAAAA,qBAAqB,sBAChBD,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CADgB,EACe;AAC5BC,MAAAA,MAAM,EAAE;AADoB,KADf;AADgB,GAAZ;AAAA,CAAD,CAA5B;;AAQA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAoL;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,MAAjLC,SAAiL,QAAjLA,SAAiL;AAAA,MAAtKC,SAAsK,QAAtKA,SAAsK;AAAA,MAA3JvC,KAA2J,QAA3JA,KAA2J;AAAA,MAApJwC,mBAAoJ,QAApJA,mBAAoJ;AAAA,MAA/HC,oBAA+H,QAA/HA,oBAA+H;AAAA,MAAzGC,YAAyG,QAAzGA,YAAyG;AAAA,MAA3FC,cAA2F,QAA3FA,cAA2F;AAAA,MAA3EC,aAA2E,QAA3EA,aAA2E;AAAA,MAA5DC,qBAA4D,QAA5DA,qBAA4D;AAAA,MAArCC,yBAAqC,QAArCA,yBAAqC;AAAA,MAAVC,IAAU,QAAVA,IAAU;AAC7L,MAAIC,gBAAJ,EAAsBC,WAAtB,EAAmCC,MAAnC;;AAD6L,kBAEjI1D,QAAQ,CAAC,IAAD,CAFyH;AAAA,MAEtL2D,sBAFsL;AAAA,MAE9JC,yBAF8J;;AAAA,mBAG3I5D,QAAQ,CAAC,IAAD,CAHmI;AAAA,MAGtL6D,iBAHsL;AAAA,MAGnKC,oBAHmK;;AAAA,mBAIrJ9D,QAAQ,CAAC,EAAD,CAJ6I;AAAA,MAItL+D,YAJsL;AAAA,MAIxKC,eAJwK;;AAAA,mBAKjJhE,QAAQ,CAAC,KAAD,CALyI;AAAA,MAKtLiE,cALsL;AAAA,MAKtKC,iBALsK;;AAAA,mBAMnKlE,QAAQ,CAAC,EAAD,CAN2J;AAAA,MAMtLmE,KANsL;AAAA,MAM/KC,QAN+K;;AAO7L,MAAMC,MAAM,GAAGlE,SAAS,EAAxB;AACA,MAAMmE,MAAM,GAAGD,MAAM,CAACE,KAAP,CAAaD,MAAb,KAAwB,MAAvC;AACA,MAAME,YAAY,GAAGH,MAAM,CAACE,KAAP,CAAaC,YAAb,KAA8B,GAAnD;AACA,MAAMC,OAAO,GAAGlC,SAAS,EAAzB;;AAV6L,mBAWnKvC,QAAQ,CAACqE,MAAM,CAACE,KAAP,CAAaG,SAAd,CAX2J;AAAA,MAWtLC,KAXsL;AAAA,MAW/KC,QAX+K;;AAc7L7E,EAAAA,SAAS,KAAC,YAAM;AAAA;AAAA;AAAA;;AAAA;;AACZ6D,IAAAA,yBAAyB,CAACZ,mBAAD,CAAzB;AACAc,IAAAA,oBAAoB,CAACb,oBAAD,CAApB;AACAmB,IAAAA,QAAQ,CAACS,MAAM,CAACzB,aAAP,CAAqB0B,OAArB,IAAgC,EAAjC,CAAR;;AAEA,QAAI,CAAC5B,YAAL,EAAmB;AACfc,MAAAA,eAAe,CAACd,YAAD,CAAf;AACH;;AAED,QAAGD,oBAAH,aAAGA,oBAAH,wCAAGA,oBAAoB,CAAE8B,MAAzB,4EAAG,sBAA8BC,IAAjC,mDAAG,uBAAoCC,SAAvC,EAAiD;AAC7CzD,MAAAA,UAAU,CAAC0D,UAAX,CAAsB;AAAEC,QAAAA,KAAK,EAAElC,oBAAoB,CAAC8B,MAArB,CAA4BC,IAA5B,CAAiCC;AAA1C,OAAtB;AACH;;AAED,QAAIG,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB;;AACA,QAAG,CAACF,aAAJ,EAAmB;AACflB,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH;;AAED,QAAMqB,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAlB;;AACA,QAAIF,SAAJ,EAAe;AACXA,MAAAA,SAAS,CAACG,aAAV,CAAwBC,WAAxB,CAAoCJ,SAApC;AACH;;AAEDV,IAAAA,MAAM,CAACe,gBAAP,CAAwB,SAAxB,EAAmC,UAASC,KAAT,EAAgB;AAAA;;AAC/C,UAAI,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,2BAAAA,KAAK,CAAEC,IAAP,4DAAaC,WAAb,MAA6BpB,KAAjC,EAAwC;AACpCC,QAAAA,QAAQ,CAACiB,KAAK,CAACC,IAAN,CAAWC,WAAZ,CAAR;AACH;AACJ,KAJD;AAMAC,IAAAA,SAAS;AACT9F,IAAAA,MAAM,CAAC+F,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,KAAwC;AAAA;;AAAA,aAAMF,SAAS,EAAf;AAAA,KAAxC;AAAA,cAA8CA,SAA9C;AAAA;AAEH,GAhCQ;AAAA,YA6BLA,SA7BK;AAAA,MAgCN,EAhCM,CAAT;;AAkCA,MAAMA,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,QAAMG,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,UAAI,0gBAA0gBC,IAA1gB,CAA+gBC,SAAS,CAACC,SAAzhB,CAAJ,EAAyiB;AACriB,YAAI,2DAA2DF,IAA3D,CAAgEC,SAAS,CAACC,SAA1E,CAAJ,EAA0F;AACtF,iBAAO,QAAP;AACH,SAFD,MAEO;AACH,iBAAO,QAAP;AACH;AACJ,OAND,MAMO,IAAI,2DAA2DF,IAA3D,CAAgEC,SAAS,CAACC,SAA1E,CAAJ,EAA0F;AAC7F,eAAO,QAAP;AACH,OAFM,MAEA;AACH,eAAO,SAAP;AACH;AACJ,KAZD;;AAcA,QAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,UAAIC,EAAE,GAAGH,SAAS,CAACC,SAAnB;AAAA,UAA8BG,GAA9B;AAAA,UACIC,CAAC,GAAGF,EAAE,CAACG,KAAH,CAAS,8DAAT,KAA4E,EADpF;;AAEA,UAAI,WAAWP,IAAX,CAAgBM,CAAC,CAAC,CAAD,CAAjB,CAAJ,EAA2B;AACvBD,QAAAA,GAAG,GAAG,kBAAkBG,IAAlB,CAAuBJ,EAAvB,KAA8B,EAApC;AACA,eAAO;AAAEK,UAAAA,IAAI,EAAE,IAAR;AAAcC,UAAAA,OAAO,EAAGL,GAAG,CAAC,CAAD,CAAH,IAAU;AAAlC,SAAP;AACH;;AACD,UAAIC,CAAC,CAAC,CAAD,CAAD,KAAS,QAAb,EAAuB;AACnBD,QAAAA,GAAG,GAAGD,EAAE,CAACG,KAAH,CAAS,mBAAT,CAAN;;AACA,YAAIF,GAAG,IAAI,IAAX,EAAiB;AACb,iBAAO;AAAEI,YAAAA,IAAI,EAAE,OAAR;AAAiBC,YAAAA,OAAO,EAAEL,GAAG,CAAC,CAAD;AAA7B,WAAP;AACH;AACJ;;AACDC,MAAAA,CAAC,GAAGA,CAAC,CAAC,CAAD,CAAD,GAAO,CAACA,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAP,GAAsB,CAACL,SAAS,CAACU,OAAX,EAAoBV,SAAS,CAACW,UAA9B,EAA0C,IAA1C,CAA1B;;AACA,UAAI,CAACP,GAAG,GAAGD,EAAE,CAACG,KAAH,CAAS,iBAAT,CAAP,KAAuC,IAA3C,EAAiD;AAC7CD,QAAAA,CAAC,CAACO,MAAF,CAAS,CAAT,EAAY,CAAZ,EAAeR,GAAG,CAAC,CAAD,CAAlB;AACH;;AACD,aAAO;AACHI,QAAAA,IAAI,EAAEH,CAAC,CAAC,CAAD,CADJ;AAEHI,QAAAA,OAAO,EAAEJ,CAAC,CAAC,CAAD;AAFP,OAAP;AAIH,KArBD;;AAuBA,QAAIQ,OAAO,GAAG;AACVC,MAAAA,GAAG,YAAKC,QAAQ,CAACC,QAAd,eAA2BD,QAAQ,CAAC7D,IAApC,SAA2CrD,MAAM,CAACmE,MAAP,CAAciD,MAAzD,CADO;AAEVC,MAAAA,QAAQ,EAAE7D,MAFA;AAGV8D,MAAAA,QAAQ,YAAK3C,MAAM,CAAC4C,UAAZ,cAA0B5C,MAAM,CAAC6C,WAAjC,CAHE;AAIVC,MAAAA,MAAM,EAAEpB,UAAU,GAAGM,IAJX;AAKVe,MAAAA,KAAK,EAAErB,UAAU,GAAGO,OALV;AAMVe,MAAAA,MAAM,EAAExB,SAAS,CAACyB,QAAV,IAAsBzB,SAAS,CAAC0B,YAAhC,IAAgD,KAN9C;AAOVC,MAAAA,UAAU,EAAE7B,aAAa,EAPf;AAQV8B,MAAAA,SAAS,EAAE5B,SAAS,CAACjB,aAAV,IAA2B;AAR5B,KAAd;AAWA,QAAI8C,OAAO,GAAG7C,YAAY,CAACC,OAAb,CAAqBvE,8BAArB,KAAwD,KAAtE;;AACA,QAAGmH,OAAH,EAAW;AAAA;;AACPA,MAAAA,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWF,OAAX,CAAV;AACAhB,MAAAA,OAAO,CAACmB,OAAR,GAAkBH,OAAO,GAAG,MAAH,GAAY,OAArC;AACAhB,MAAAA,OAAO,CAACoB,UAAR,GAAqB,aAAAJ,OAAO,UAAP,gEAASK,OAAT,sEAAkBC,KAAlB,KAA2B,GAAhD;AACAtB,MAAAA,OAAO,CAACuB,YAAR,GAAuB,cAAAP,OAAO,UAAP,mEAASK,OAAT,wEAAkBG,OAAlB,KAA6B,EAApD;AACH;;AAED,WAAO5H,KAAK,CAAC;AACTqG,MAAAA,GAAG,EAAE,kBADI;AAETwB,MAAAA,MAAM,EAAE,MAFC;AAGTC,MAAAA,MAAM,EAAE;AACJC,QAAAA,GAAG,EAAEhE,MAAM,CAACzB,aAAP,CAAqB0B,OAArB,IAAgC;AADjC,OAHC;AAMTgB,MAAAA,IAAI,EAAE;AACFgD,QAAAA,KAAK,EAAEC,MAAM,CAACC,IAAP,CAAYb,IAAI,CAACc,SAAL,CAAe/B,OAAf,CAAZ,EAAqCgC,QAArC,CAA8C,QAA9C;AADL;AANG,KAAD,CAAL,CASJC,IATI,CASC,YAAM;AACV,aAAO,IAAP;AACH,KAXM,WAWE,YAAM;AACX,aAAO,KAAP;AACH,KAbM,CAAP;AAcH,GAvED;;AAyEA,MAAInG,mBAAJ,EAAyB;AACrBQ,IAAAA,gBAAgB,GAAGR,mBAAnB;AACH,GAFD,MAEO;AACHQ,IAAAA,gBAAgB,GAAGG,sBAAnB;AACH;;AAED,MAAIV,oBAAJ,EAA0B;AACtBQ,IAAAA,WAAW,GAAGR,oBAAd;AACH,GAFD,MAEO;AACHQ,IAAAA,WAAW,GAAGI,iBAAd;AACH;;AAED,MAAIX,YAAJ,EAAkB;AACdQ,IAAAA,MAAM,GAAGR,YAAT;AACH,GAFD,MAEO,IAAIa,YAAJ,EAAkB;AACrBL,IAAAA,MAAM,GAAGK,YAAT;AACH,GAFM,MAEA;AACHL,IAAAA,MAAM,GAAGP,cAAT;AACH;;AAED,MAAGO,MAAH,EAAU;AACN/B,IAAAA,MAAM,CAAC+B,MAAP,CAAcA,MAAd;AACH;;AAED,MAAM0F,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvB/D,IAAAA,YAAY,CAACgE,OAAb,CAAqB,WAArB,EAAkC,QAAlC;AACAnF,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACH,GAHD;;AAKA,MAAIoF,QAAQ,mBAAG7F,WAAH,wEAAG,aAAasB,MAAhB,iFAAG,oBAAqBwE,IAAxB,0DAAG,sBAA2B1C,IAA1C;AACAyC,EAAAA,QAAQ,GAAGA,QAAQ,KAAK,SAAb,GAAyBA,QAAzB,GAAoC,QAA/C;;AAEA,MAAG,iBAAA7F,WAAW,UAAX,sEAAasB,MAAb,+FAAqByE,MAArB,wEAA6BC,OAA7B,IAAwClG,IAAxC,aAAwCA,IAAxC,eAAwCA,IAAI,CAAEmG,QAAN,CAAe,OAAf,CAAxC,IAAmEnG,IAAnE,aAAmEA,IAAnE,eAAmEA,IAAI,CAAEmG,QAAN,CAAe,QAAf,CAAtE,EAAgG;AAC5FjG,IAAAA,WAAW,CAACsB,MAAZ,CAAmByE,MAAnB,CAA0BC,OAA1B,CAAkCE,IAAlC,GAAyCtF,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD,SAA7F;AACApG,IAAAA,WAAW,CAACsB,MAAZ,CAAmByE,MAAnB,CAA0BC,OAA1B,CAAkCK,IAAlC,GAAyCzF,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD,SAA7F;AACApG,IAAAA,WAAW,CAACsB,MAAZ,CAAmByE,MAAnB,CAA0BC,OAA1B,CAAkCM,KAAlC,GAA0C1F,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD,SAA9F;AACApG,IAAAA,WAAW,CAACsB,MAAZ,CAAmByE,MAAnB,CAA0BC,OAA1B,CAAkCO,SAAlC,GAA8C3F,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD,SAAlG;AACApG,IAAAA,WAAW,CAACsB,MAAZ,CAAmByE,MAAnB,CAA0BS,IAA1B,GAAiC;AAC7BN,MAAAA,IAAI,EAAEtF,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD,SAD7B;AAE7BE,MAAAA,KAAK,EAAE1F,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD,SAF9B;AAG7BG,MAAAA,SAAS,EAAE3F,MAAM,CAACuF,QAAP,CAAgBC,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,GAAwC,SAAxC,GAAoD;AAHlC,KAAjC;AAKH;;AAED,MAAMrH,KAAK,GAAG/B,cAAc,CAAC;AACzByJ,IAAAA,UAAU,EAAE;AACRC,MAAAA,UAAU,EAAE,CAAC,OAAOb,QAAP,GAAkB,IAAnB,EAAyB,YAAzB,EAAuCc,IAAvC,CAA4C,GAA5C;AADJ,KADa;AAIzBC,IAAAA,OAAO,mBAAE5G,WAAF,0EAAE,cAAasB,MAAf,yDAAE,qBAAqByE;AAJL,GAAD,CAA5B;AAOA,SACI,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,OAAO,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,IAAI,EAAC,aAAX;AAAyB,IAAA,OAAO,EAAC,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAM,IAAA,IAAI,EAAC,YAAX;AAAwB,IAAA,OAAO,EAAErF,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAM,IAAA,IAAI,EAAC,UAAX;AAAsB,IAAA,OAAO,EAAC,wEAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKKZ,IAAI,IAAIA,IAAI,KAAK,qBAAjB,GAAyC;AAAM,IAAA,IAAI,EAAC,yBAAX;AAAqC,IAAA,OAAO,EAAC,0EAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzC,GAAqK,IAL1K,EAMI;AAAM,IAAA,IAAI,EAAE,sBAAAC,gBAAgB,UAAhB,8DAAkB8G,QAAlB,KAA8B,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ,kBAAA7G,WAAW,UAAX,8EAAasB,MAAb,uGAAqBC,IAArB,gFAA2BuF,KAA3B,KAAoC,EAA5C,CAPJ,EAQM,iBAAA9G,WAAW,UAAX,sEAAasB,MAAb,+FAAqBC,IAArB,wEAA2BwF,OAA3B,IAAsC,CAAC3I,OAAO,CAACD,oBAAD,EAAuByC,MAAM,CAACuF,QAA9B,CAA/C,GAA0F;AAAQ,IAAA,uBAAuB,EAAE;AAAEa,MAAAA,MAAM,YAAKhH,WAAW,CAACsB,MAAZ,CAAmBC,IAAnB,CAAwBwF,OAA7B;AAAR,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA1F,GAAkL,IARvL,CADJ,EAWI,MAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEhI,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,QAAD;AAAU,IAAA,KAAK,EAAEhC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAEgD,MAAAA,gBAAgB,EAAhBA,gBAAF;AAAoBC,MAAAA,WAAW,EAAXA,WAApB;AAAiCkB,MAAAA,KAAK,EAALA,KAAjC;AAAwCjB,MAAAA,MAAM,EAANA;AAAxC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AAAgB,IAAA,IAAI,EAAEA,MAAtB;AAA8B,IAAA,wBAAwB,EAAEJ,yBAAxD;AAAmF,IAAA,mBAAmB,EAAED,qBAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAE,CAA5B;AAA+B,IAAA,OAAO,EAAE;AAAEqH,MAAAA,aAAa,EAAEjG,OAAO,CAAChC;AAAzB,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,SAAD,eAAeM,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,EAEM,CAACyB,YAAD,IAAiB,CAAC3C,OAAO,CAACD,oBAAD,EAAuByC,MAAM,CAACuF,QAA9B,CAA1B,GAAqE,MAAC,YAAD;AAAc,IAAA,QAAQ,EAAE,CAACtF,MAAD,IAAWL,cAAnC;AAAmD,IAAA,OAAO,EAAE;AAAA,aAAKmF,YAAY,EAAjB;AAAA,KAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArE,GAA0J,IAF/J,CADJ,CADJ,CADJ,CAFJ,CAXJ,CADJ;AA2BH,CAvMD;;IAAMvG,I;UAOa1C,S;;;AAkMnB,IAAMwK,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,IAAD,EAAOC,QAAP,EAAoB;AAC/C,SAAO/J,KAAK,CAAC;AACTqG,IAAAA,GAAG,EAAEyD,IAAI,CAACN,QAAL,GAAgB,wBADZ;AAET3B,IAAAA,MAAM,EAAE,MAFC;AAGTC,IAAAA,MAAM,EAAE;AACJiC,MAAAA,QAAQ,EAAEA;AADN;AAHC,GAAD,CAAL,CAMJ1B,IANI,CAMC,UAAC2B,wBAAD,EAA8B;AAClC,QAAMC,4BAA4B,GAAGD,wBAAwB,CAAChF,IAA9D;;AACA,QAAIiF,4BAA4B,CAACC,OAAjC,EAA0C;AACtC,aAAOD,4BAA4B,CAACjF,IAApC;AACH,KAFD,MAEO;AACH,aAAO,KAAP;AACH;AACJ,GAbM,WAaE,YAAK;AACV,WAAO,KAAP;AACH,GAfM,CAAP;AAgBH,CAjBD;;AAmBAjD,IAAI,CAACoI,eAAL;AAAA,uEAAuB;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAASnI,YAAAA,SAAT,SAASA,SAAT,EAAoBoI,GAApB,SAAoBA,GAApB;AAAA;AAAA,mBACb/J,eAAe,CAAC+J,GAAD,CADF;;AAAA;AAAA,iBAGDpI,SAAS,CAACmI,eAHT;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGiCnI,SAAS,CAACmI,eAAV,CAA0BC,GAA1B,CAHjC;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,0BAGkE,EAHlE;;AAAA;AAGbnI,YAAAA,SAHa;AAI0DM,YAAAA,qBAJ1D,GAIkF,KAJlF,EAIyFC,yBAJzF,GAIqH,KAJrH;;AAMnB,gBAAI4H,GAAG,CAACC,GAAR,EAAa;AACT5H,cAAAA,IAAI,GAAG2H,GAAG,CAACC,GAAJ,CAAQC,OAAR,CAAgB7H,IAAvB;AACH;;AAED,gBAAI2H,GAAG,CAACG,GAAR,EAAa;AACT;AACArI,cAAAA,mBAAmB,GAAGkI,GAAG,CAACG,GAAJ,CAAQ7H,gBAA9B;AACAP,cAAAA,oBAAoB,GAAGiI,GAAG,CAACG,GAAJ,CAAQC,iBAA/B;AACH;;AAEKC,YAAAA,eAhBa,GAgBKL,GAAG,CAACC,GAAJ,IAAWD,GAAG,CAACC,GAAJ,CAAQI,eAAnB,IAAsCL,GAAG,CAACC,GAAJ,CAAQI,eAA9C,IAAiE,KAhBtE;;AAiBnB,gBAAIL,GAAG,CAACC,GAAJ,IAAWI,eAAX,IAA8B9J,QAAQ,CAAC8J,eAAD,CAA1C,EAA6D;AACzDpI,cAAAA,cAAc,GAAGoI,eAAjB;AACH,aAFD,MAEO;AACH,kBAAIL,GAAG,CAACG,GAAR,EAAa;AACTlI,gBAAAA,cAAc,GAAGH,mBAAmB,CAACwI,mBAArC;AACH,eAFD,MAEO;AACHrI,gBAAAA,cAAc,GAAGzB,aAAjB;AACH;AACJ;;AAED,gBAAIuB,oBAAoB,8BAAIA,oBAAJ,6EAAI,iCAAJ,mDAAI,uBAA+BwI,KAAvD,IAAgEC,MAAM,CAACC,IAAP,CAAY1I,oBAAoB,WAApB,CAA6BwI,KAAzC,EAAgDG,MAAhH,8BAA0H3I,oBAA1H,mDAA0H,uBAAsB4I,eAApJ,EAAoK;AAChK1I,cAAAA,cAAc,GAAG,2BAAAF,oBAAoB,UAApB,kGAAsB4I,eAAtB,kFAAuCC,KAAvC,KAAgD3I,cAAjE;AACH;;AAED,gBAAI+H,GAAG,CAAC3G,KAAJ,CAAUwH,IAAd,EAAoB;AAChB7I,cAAAA,YAAY,GAAGgI,GAAG,CAAC3G,KAAJ,CAAUwH,IAAzB;AACH;;AAjCkB,kBAmCfhJ,SAAS,IAAI2I,MAAM,CAACC,IAAP,CAAY5I,SAAZ,EAAuB6I,MAAvB,GAAgC,CAnC9B;AAAA;AAAA;AAAA;;AAAA,6CAoCR;AACH7I,cAAAA,SAAS,EAATA,SADG;AAEHC,cAAAA,mBAAmB,EAAnBA,mBAFG;AAGHC,cAAAA,oBAAoB,EAApBA,oBAHG;AAIHC,cAAAA,YAAY,EAAZA,YAJG;AAKHC,cAAAA,cAAc,EAAdA,cALG;AAMHE,cAAAA,qBAAqB,EAArBA,qBANG;AAOHC,cAAAA,yBAAyB,EAAzBA,yBAPG;AAQHC,cAAAA,IAAI,EAAJA;AARG,aApCQ;;AAAA;AAAA,iBA+CXP,mBA/CW;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAgDmB2H,sBAAsB,CAAC3H,mBAAD,EAAsBE,YAAY,IAAIC,cAAtC,CAhDzC;;AAAA;AAgDXE,YAAAA,qBAhDW;AAAA;AAAA,mBAiDuBsH,sBAAsB,CAAC3H,mBAAD,EAAsBA,mBAAmB,CAACwI,mBAA1C,CAjD7C;;AAAA;AAiDXlI,YAAAA,yBAjDW;;AAAA;AAAA,6CAoDR;AAAEN,cAAAA,mBAAmB,EAAnBA,mBAAF;AAAuBC,cAAAA,oBAAoB,EAApBA,oBAAvB;AAA6CC,cAAAA,YAAY,EAAZA,YAA7C;AAA2DC,cAAAA,cAAc,EAAdA,cAA3D;AAA2EE,cAAAA,qBAAqB,EAArBA,qBAA3E;AAAkGC,cAAAA,yBAAyB,EAAzBA,yBAAlG;AAA6HC,cAAAA,IAAI,EAAJA;AAA7H,aApDQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA;;AAwDA,eAAejD,SAAS,CAACE,KAAD,CAAT,CAAiBqC,IAAjB,CAAf","sourcesContent":["//react\nimport React, { useEffect, useState } from 'react'\n//next\nimport Head from 'next/head'\nimport Router, { useRouter } from 'next/router'\nimport getConfig from 'next/config'\nconst { publicRuntimeConfig } = getConfig()\n//redux\nimport withRedux from 'next-redux-wrapper'\nimport { Provider } from 'react-redux'\nimport store from 'state/store'\n//material-ui\nimport { createMuiTheme, MuiThemeProvider, makeStyles } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport WebCmsGlobal from 'components/webcms-global'\n//webcms\nimport axios from 'axios'\nimport { LOCAL_STORAGE_OREST_TOKEN_TEXT } from 'model/orest/constants'\nimport { SnackbarProvider } from 'notistack'\nimport CookiePolicy from 'components/common/cookie-policy'\nimport { LocaleProvider } from 'lib/translations/context/LocaleContext'\nimport { pathRedirection } from 'lib/helpers/usePathRedirection'\nimport WebCmsProgress from 'nprogress'\nWebCmsProgress.configure({ showSpinner: publicRuntimeConfig.NProgressShowSpinner })\nimport TagManager from '@webcms-globals/tag-manager'\n//import all css\nimport 'slick-carousel/slick/slick.css'\nimport 'assets/css/slick-theme.css'\nimport '@webcms-ui/core/phone-input/styles.css'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport 'froala-editor/css/froala_style.min.css'\nimport 'froala-editor/css/froala_editor.pkgd.min.css'\nimport 'froala-editor/css/plugins/char_counter.min.css'\nimport 'font-awesome/css/font-awesome.min.css'\nimport 'components/payment/credit-card/card.css'\nimport 'public/static/styles/panel/style.css'\nimport 'public/static/css/bootstrap.min.css'\nimport 'assets/css/myRequest.css'\nimport 'assets/css/TrainingRequest.css'\nimport 'assets/css/dashboardCarousel.css'\nimport 'assets/css/portalHomeSlider.css'\nimport 'public/static/styles/overwrite.css'\nimport 'nprogress/nprogress.css'\nimport { isLocale } from 'lib/translations/types'\nimport { defaultLocale } from 'lib/translations/config'\n//import moment\nimport moment from 'moment'\nimport 'moment/locale/de'\nimport 'moment/locale/tr'\nimport 'moment/locale/ru'\nimport 'moment/locale/es'\nimport 'moment/locale/mk'\nimport 'moment/locale/sq'\n\nconst noCookieAndChatPaths = ['/editor/language', '/embed/register', '/page-builder']\n\nfunction hasPath(paths, path) {\n    return paths.find(pathItem => pathItem === path) || false\n}\n\n//progress bar for router\nRouter.onRouteChangeStart = () => {\n    WebCmsProgress.start()\n}\n\nRouter.onRouteChangeComplete = () => {\n    WebCmsProgress.done()\n}\n\nRouter.onRouteChangeError = () => {\n    WebCmsProgress.done()\n}\n\nconst appStyles = makeStyles((theme) => ({\n    snackbarContainerRoot: {\n        [theme.breakpoints.down('sm')]: {\n            bottom: 125,\n        },\n    }\n}))\n\nconst _App = ({ Component, pageProps, store, DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, __NEXT_DATA__, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host}) => {\n    let GENERAL_SETTINGS, WEBCMS_DATA, locale\n    const [GENERAL_SETTINGS_CACHE, setGENERAL_SETTINGS_CACHE] = useState(null)\n    const [WEBCMS_DATA_CACHE, setWEBCMS_DATA_CACHE] = useState(null)\n    const [LOCALE_CACHE, setLOCALE_CACHE] = useState('')\n    const [COOKIE_ENABLED, setCOOKIE_ENABLED] = useState(false)\n    const [VERNO, setVERNO] = useState('')\n    const router = useRouter()\n    const iframe = router.query.iframe === 'true'\n    const isOnlyBasics = router.query.isOnlyBasics === '1'\n    const classes = appStyles()\n    const [token, setToken] = useState(router.query.authToken)\n\n\n    useEffect(() => {\n        setGENERAL_SETTINGS_CACHE(DB_GENERAL_SETTINGS)\n        setWEBCMS_DATA_CACHE(DB_REDIS_WEBCMS_DATA)\n        setVERNO(window.__NEXT_DATA__.buildId || '')\n\n        if (!QUERY_LOCALE) {\n            setLOCALE_CACHE(QUERY_LOCALE)\n        }\n\n        if(DB_REDIS_WEBCMS_DATA?.assets?.meta?.googleTag){\n            TagManager.initialize({ gtmId: DB_REDIS_WEBCMS_DATA.assets.meta.googleTag })\n        }\n\n        let cookieEnabled = localStorage.getItem(\"is-cookie\")\n        if(!cookieEnabled) {\n            setCOOKIE_ENABLED(true)\n        }\n\n        const jssStyles = document.querySelector('#jss-server-side')\n        if (jssStyles) {\n            jssStyles.parentElement.removeChild(jssStyles)\n        }\n\n        window.addEventListener('message', function(event) {\n            if (event?.data?.tokenUpdate !== token) {\n                setToken(event.data.tokenUpdate)\n            }\n        })\n\n        useLogger()\n        Router.events.on('routeChangeComplete', () => useLogger())\n\n    }, [])\n\n    const useLogger = () => {\n        const getDeviceType = () => {\n            if (/(up.browser|up.link|mmp|symbian|smartphone|midp|wap|phone|android|iemobile|w3c|acs\\-|alav|alca|amoi|audi|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd\\-|dang|doco|eric|hipt|inno|ipaq|java|jigs|kddi|keji|leno|lg\\-c|lg\\-d|lg\\-g|lge\\-|maui|maxo|midp|mits|mmef|mobi|mot\\-|moto|mwbp|nec\\-|newt|noki|palm|pana|pant|phil|play|port|prox|qwap|sage|sams|sany|sch\\-|sec\\-|send|seri|sgh\\-|shar|sie\\-|siem|smal|smar|sony|sph\\-|symb|t\\-mo|teli|tim\\-|tosh|tsm\\-|upg1|upsi|vk\\-v|voda|wap\\-|wapa|wapi|wapp|wapr|webc|winw|winw|xda|xda\\-) /i.test(navigator.userAgent)) {\n                if (/(tablet|ipad|playbook)|(android(?!.*(mobi|opera mini)))/i.test(navigator.userAgent)) {\n                    return 'Tablet'\n                } else {\n                    return 'Mobile'\n                }\n            } else if (/(tablet|ipad|playbook)|(android(?!.*(mobi|opera mini)))/i.test(navigator.userAgent)) {\n                return 'Tablet'\n            } else {\n                return 'Desktop'\n            }\n        }\n\n        const getBrowser = () => {\n            let ua = navigator.userAgent, tem,\n                M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || []\n            if (/trident/i.test(M[1])) {\n                tem = /\\brv[ :]+(\\d+)/g.exec(ua) || []\n                return { name: 'IE', version: (tem[1] || '') }\n            }\n            if (M[1] === 'Chrome') {\n                tem = ua.match(/\\bOPR|Edge\\/(\\d+)/)\n                if (tem != null) {\n                    return { name: 'Opera', version: tem[1] }\n                }\n            }\n            M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?']\n            if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n                M.splice(1, 1, tem[1])\n            }\n            return {\n                name: M[0],\n                version: M[1],\n            }\n        }\n\n        let getData = {\n            url: `${location.protocol}//${location.host}${Router.router.asPath}`,\n            pagelang: locale,\n            pagesize: `${window.outerWidth}x${window.outerHeight}`,\n            brdesc: getBrowser().name,\n            brver: getBrowser().version,\n            brlang: navigator.language || navigator.userLanguage || 'non',\n            devicetype: getDeviceType(),\n            ckenabled: navigator.cookieEnabled || false,\n        }\n\n        let getAuth = localStorage.getItem(LOCAL_STORAGE_OREST_TOKEN_TEXT) || false\n        if(getAuth){\n            getAuth = JSON.parse(getAuth)\n            getData.islogin = getAuth ? 'true' : 'false'\n            getData.loginrefid = getAuth?.loginfo?.refid || '0'\n            getData.loginrefcode = getAuth?.loginfo?.refcode || ''\n        }\n\n        return axios({\n            url: 'api/browser/info',\n            method: 'post',\n            params: {\n                ver: window.__NEXT_DATA__.buildId || '0'\n            },\n            data: {\n                value: Buffer.from(JSON.stringify(getData)).toString('base64'),\n            },\n        }).then(() => {\n            return true\n        }).catch(() => {\n            return false\n        })\n    }\n\n    if (DB_GENERAL_SETTINGS) {\n        GENERAL_SETTINGS = DB_GENERAL_SETTINGS\n    } else {\n        GENERAL_SETTINGS = GENERAL_SETTINGS_CACHE\n    }\n\n    if (DB_REDIS_WEBCMS_DATA) {\n        WEBCMS_DATA = DB_REDIS_WEBCMS_DATA\n    } else {\n        WEBCMS_DATA = WEBCMS_DATA_CACHE\n    }\n\n    if (QUERY_LOCALE) {\n        locale = QUERY_LOCALE\n    } else if (LOCALE_CACHE) {\n        locale = LOCALE_CACHE\n    } else {\n        locale = DEFAULT_LOCALE\n    }\n\n    if(locale){\n        moment.locale(locale)\n    }\n\n    const handleCookie = () => {\n        localStorage.setItem(\"is-cookie\", \"active\")\n        setCOOKIE_ENABLED(false)\n    }\n\n    let fontName = WEBCMS_DATA?.assets?.font?.name\n    fontName = fontName !== 'default' ? fontName : 'Roboto'\n\n    if(WEBCMS_DATA?.assets?.colors?.primary && host?.includes('cloud') || host?.includes('portal')) {\n        WEBCMS_DATA.assets.colors.primary.main = router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#4666B0'\n        WEBCMS_DATA.assets.colors.primary.dark = router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425C'\n        WEBCMS_DATA.assets.colors.primary.light = router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425C'\n        WEBCMS_DATA.assets.colors.primary.ultraDark = router.pathname.indexOf('emp') !== -1 ? '#0E2326' : '#3C3B53'\n        WEBCMS_DATA.assets.colors.text = {\n            main: router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#43425D',\n            light: router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425D',\n            ultraDark: router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425D'\n        }\n    }\n\n    const theme = createMuiTheme({\n        typography: {\n            fontFamily: ['\\'' + fontName + '\\'', 'sans-serif'].join(','),\n        },\n        palette: WEBCMS_DATA?.assets?.colors\n    })\n\n    return (\n        <React.Fragment>\n            <Head>\n                <meta charSet=\"utf-8\" />\n                <meta name=\"theme-color\" content=\"#ffffff\" />\n                <meta name=\"webcms-ver\" content={VERNO}/>\n                <meta name=\"viewport\" content=\"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\"/>\n                {host && host === \"docs.hotech.systems\" ? <meta name=\"google-signin-client_id\" content=\"161176593651-khs1j4eatnfian8ll774gq7c1v2f2ffc.apps.googleusercontent.com\"/> : null}\n                <base href={GENERAL_SETTINGS?.BASE_URL || ''}/>\n                <title>{WEBCMS_DATA?.assets?.meta?.title || ''}</title>\n                {(WEBCMS_DATA?.assets?.meta?.chatBox && !hasPath(noCookieAndChatPaths, router.pathname)) ? <script dangerouslySetInnerHTML={{ __html: `${WEBCMS_DATA.assets.meta.chatBox}`, }} />: null}\n            </Head>\n            <MuiThemeProvider theme={theme}>\n                <CssBaseline/>\n                <Provider store={store}>\n                    <WebCmsGlobal.Provider value={{ GENERAL_SETTINGS, WEBCMS_DATA, token, locale }}>\n                        <LocaleProvider lang={locale} defaultHotelLanguageFile={DEFAULT_HTL_LANGUAGE_FILE} defaultLanguageFile={DEFAULT_LANGUAGE_FILE}>\n                            <SnackbarProvider maxSnack={3} classes={{ containerRoot: classes.snackbarContainerRoot, }}>\n                                <Component {...pageProps} />\n                                {(!isOnlyBasics && !hasPath(noCookieAndChatPaths, router.pathname)) ? <CookiePolicy isActive={!iframe && COOKIE_ENABLED} onClose={()=> handleCookie()} />: null}\n                            </SnackbarProvider>\n                        </LocaleProvider>\n                    </WebCmsGlobal.Provider>\n                </Provider>\n            </MuiThemeProvider>\n         </React.Fragment>\n    )\n}\n\nconst getDefaultLanguageFile = (sett, langcode) => {\n    return axios({\n        url: sett.BASE_URL + 'api/hotel/app/language',\n        method: 'post',\n        params: {\n            langcode: langcode,\n        },\n    }).then((hotelAppLanguageResponse) => {\n        const hotelAppLanguageResponseData = hotelAppLanguageResponse.data\n        if (hotelAppLanguageResponseData.success) {\n            return hotelAppLanguageResponseData.data\n        } else {\n            return false\n        }\n    }).catch(()=> {\n        return false\n    })\n}\n\n_App.getInitialProps = async ({ Component, ctx }) => {\n    await pathRedirection(ctx)\n\n    const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {}\n    let DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE = false, DEFAULT_HTL_LANGUAGE_FILE = false, host\n\n    if (ctx.req) {\n        host = ctx.req.headers.host\n    }\n\n    if (ctx.res) {\n        // server side\n        DB_GENERAL_SETTINGS = ctx.res.GENERAL_SETTINGS\n        DB_REDIS_WEBCMS_DATA = ctx.res.REDIS_WEBCMS_DATA\n    }\n\n    const currentLanguage = ctx.req && ctx.req.currentLanguage && ctx.req.currentLanguage || false\n    if (ctx.req && currentLanguage && isLocale(currentLanguage)) {\n        DEFAULT_LOCALE = currentLanguage\n    } else {\n        if (ctx.res) {\n            DEFAULT_LOCALE = DB_GENERAL_SETTINGS.hotelLocalLangGCode\n        } else {\n            DEFAULT_LOCALE = defaultLocale\n        }\n    }\n\n    if (DB_REDIS_WEBCMS_DATA && DB_REDIS_WEBCMS_DATA?.default?.pages && Object.keys(DB_REDIS_WEBCMS_DATA.default.pages).length && DB_REDIS_WEBCMS_DATA?.defaultLanguage){\n        DEFAULT_LOCALE = DB_REDIS_WEBCMS_DATA?.defaultLanguage?.gcode || DEFAULT_LOCALE\n    }\n\n    if (ctx.query.lang) {\n        QUERY_LOCALE = ctx.query.lang\n    }\n\n    if (pageProps && Object.keys(pageProps).length > 0) {\n        return {\n            pageProps,\n            DB_GENERAL_SETTINGS,\n            DB_REDIS_WEBCMS_DATA,\n            QUERY_LOCALE,\n            DEFAULT_LOCALE,\n            DEFAULT_LANGUAGE_FILE,\n            DEFAULT_HTL_LANGUAGE_FILE,\n            host,\n        }\n    } else {\n        if (DB_GENERAL_SETTINGS) {\n            DEFAULT_LANGUAGE_FILE = await getDefaultLanguageFile(DB_GENERAL_SETTINGS, QUERY_LOCALE || DEFAULT_LOCALE)\n            DEFAULT_HTL_LANGUAGE_FILE = await getDefaultLanguageFile(DB_GENERAL_SETTINGS, DB_GENERAL_SETTINGS.hotelLocalLangGCode)\n        }\n\n        return { DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host }\n    }\n}\n\nexport default withRedux(store)(_App)\n"]},"metadata":{},"sourceType":"module"}