{"ast":null,"code":"function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport var strOrsResTerms = 'ORSRESTERMS';\nexport var getRoomPrice = function getRoomPrice(_ref) {\n  var adult = _ref.adult,\n      minsngrate = _ref.minsngrate,\n      mindblrate = _ref.mindblrate,\n      mintrprate = _ref.mintrprate,\n      minquadrate = _ref.minquadrate,\n      minextrarate = _ref.minextrarate,\n      minextra2rate = _ref.minextra2rate;\n\n  if (adult === 1) {\n    if (minsngrate > 0 && minsngrate !== null) {\n      return minsngrate;\n    } else {\n      return null;\n    }\n  } else if (adult === 2) {\n    if (mindblrate > 0 && mindblrate !== null) {\n      return mindblrate;\n    } else {\n      return null;\n    }\n  } else if (adult === 3) {\n    if (mintrprate > 0 && mintrprate !== null) {\n      return mintrprate;\n    } else {\n      return null;\n    }\n  } else if (adult === 4) {\n    if (minquadrate > 0 && minquadrate !== null) {\n      return minquadrate;\n    } else {\n      return null;\n    }\n  } else if (adult === 5) {\n    if (minextrarate > 0 && minextrarate !== null) {\n      return parseInt(Number(minquadrate) + Number(minextrarate));\n    } else {\n      return null;\n    }\n  } else if (adult >= 6 && minextra2rate !== 0) {\n    var extrapax = parseInt(adult - 5);\n    var baseprice = parseInt(Number(minquadrate) + Number(minextrarate));\n    var extrapaxprice = parseInt(baseprice + Number(minextra2rate) * extrapax);\n\n    if (extrapaxprice > 0 && extrapaxprice !== null) {\n      return extrapaxprice;\n    } else {\n      return null;\n    }\n  } else {\n    return null;\n  }\n};\n\nvar getRoomRate = function getRoomRate(roomRate) {\n  roomRate = Number(roomRate);\n\n  if (roomRate > 0 && roomRate !== null) {\n    return roomRate;\n  } else {\n    return null;\n  }\n};\n\nexport var showDiscountRate = function showDiscountRate(discounted, noDiscount) {\n  return 100 - Number(noDiscount) * 100 / Number(discounted);\n};\nexport var applyDiscount = function applyDiscount(price, discrate) {\n  if (discrate) return Number(price) * (100 - Number(discrate)) / 100;\n  return 0;\n};\n\nvar getPaxPrice = function getPaxPrice(totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate) {\n  switch (totalPax) {\n    case 1:\n      return getRoomRate(sngrate);\n\n    case 2:\n      return getRoomRate(dblrate);\n\n    case 3:\n      return getRoomRate(trprate);\n\n    case 4:\n      return getRoomRate(quadrate);\n\n    case 5:\n      return getRoomRate(Number(quadrate) + Number(extrarate));\n\n    case totalPax >= 6:\n      var extraPax = Number(totalPax) - 5,\n          basePrice = Number(quadrate) + Number(extrarate),\n          extraPaxPrice = basePrice + Number(extra2rate) * extraPax;\n      return getRoomRate(extraPaxPrice);\n\n    default:\n      return null;\n  }\n};\n\nexport var getPaxTotalPrice = function getPaxTotalPrice(priceList, totalPax) {\n  var sngrate = priceList.sngrate,\n      dblrate = priceList.dblrate,\n      trprate = priceList.trprate,\n      quadrate = priceList.quadrate,\n      extrarate = priceList.extrarate,\n      extra2rate = priceList.extra2rate,\n      discrate = priceList.discrate;\n  var paxPrice = getPaxPrice(totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate);\n  return {\n    totalPaxPrice: paxPrice || 0,\n    discTotalPaxPrice: applyDiscount(paxPrice, discrate) || 0\n  };\n};\nexport var useTotalPrice = function useTotalPrice(priceList, totalPax) {\n  var totalPaxPrice = 0,\n      discTotalPaxPrice = 0;\n\n  var _iterator = _createForOfIteratorHelper(priceList),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var priceItems = _step.value;\n      var dailyPrice = getPaxTotalPrice(priceItems, totalPax);\n      totalPaxPrice += dailyPrice.totalPaxPrice;\n      discTotalPaxPrice += dailyPrice.discTotalPaxPrice;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return {\n    totalPaxPrice: totalPaxPrice,\n    discTotalPaxPrice: discTotalPaxPrice\n  };\n};\nexport var getCurrencyCodeToIso = function getCurrencyCodeToIso(currCode) {\n  switch (currCode) {\n    case 'TL':\n      return 'TRY';\n\n    default:\n      return currCode;\n  }\n};","map":{"version":3,"sources":["/Users/mata/app-cloudweb/@webcms-globals/onlinereservation.js"],"names":["strOrsResTerms","getRoomPrice","adult","minsngrate","mindblrate","mintrprate","minquadrate","minextrarate","minextra2rate","parseInt","Number","extrapax","baseprice","extrapaxprice","getRoomRate","roomRate","showDiscountRate","discounted","noDiscount","applyDiscount","price","discrate","getPaxPrice","totalPax","sngrate","dblrate","trprate","quadrate","extrarate","extra2rate","extraPax","basePrice","extraPaxPrice","getPaxTotalPrice","priceList","paxPrice","totalPaxPrice","discTotalPaxPrice","useTotalPrice","priceItems","dailyPrice","getCurrencyCodeToIso","currCode"],"mappings":"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","sourcesContent":["export const strOrsResTerms = 'ORSRESTERMS'\n\nexport const getRoomPrice = ({adult, minsngrate, mindblrate, mintrprate, minquadrate, minextrarate, minextra2rate}) => {\n    if (adult === 1) {\n        if (minsngrate > 0 && minsngrate !== null) {\n            return minsngrate\n        } else {\n            return null\n        }\n    } else if (adult === 2) {\n        if (mindblrate > 0 && mindblrate !== null) {\n            return mindblrate\n        } else {\n            return null\n        }\n    } else if (adult === 3) {\n        if (mintrprate > 0 && mintrprate !== null) {\n            return mintrprate\n        } else {\n            return null\n        }\n    } else if (adult === 4) {\n        if (minquadrate > 0 && minquadrate !== null) {\n            return minquadrate\n        } else {\n            return null\n        }\n    } else if (adult === 5) {\n        if (minextrarate > 0 && minextrarate !== null) {\n            return parseInt(Number(minquadrate) + Number(minextrarate))\n        } else {\n            return null\n        }\n    } else if (adult >= 6 && minextra2rate !== 0) {\n        const extrapax = parseInt(adult - 5)\n        const baseprice =  parseInt(Number(minquadrate) + Number(minextrarate))\n        const extrapaxprice = parseInt(baseprice + (Number(minextra2rate) * extrapax))\n\n        if (extrapaxprice > 0 && extrapaxprice !== null) {\n            return extrapaxprice\n        } else {\n            return null\n        }\n    } else {\n        return null\n    }\n}\n\n\nconst getRoomRate = (roomRate) => {\n    roomRate = Number(roomRate)\n\n    if (roomRate > 0 && roomRate !== null) {\n        return roomRate\n    } else {\n        return null\n    }\n}\n\nexport const showDiscountRate = (discounted, noDiscount) => {\n    return 100 - (Number(noDiscount) * 100 / Number(discounted))\n}\n\nexport const applyDiscount = (price, discrate) => {\n    if(discrate) return Number(price) * (100 - Number(discrate)) / 100\n    return 0\n}\n\nconst getPaxPrice = (totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate) => {\n    switch (totalPax) {\n        case 1:\n            return getRoomRate(sngrate)\n        case 2:\n            return getRoomRate(dblrate)\n        case 3:\n            return getRoomRate(trprate)\n        case 4:\n            return getRoomRate(quadrate)\n        case 5:\n            return getRoomRate(Number(quadrate) + Number(extrarate))\n        case totalPax >= 6:\n            const extraPax = Number(totalPax) - 5\n                , basePrice = Number(quadrate) + Number(extrarate)\n                , extraPaxPrice = basePrice + (Number(extra2rate) * extraPax)\n            return getRoomRate(extraPaxPrice)\n        default:\n            return null\n    }\n}\n\n\nexport const getPaxTotalPrice = (priceList, totalPax) => {\n    const { sngrate, dblrate, trprate, quadrate, extrarate, extra2rate, discrate } = priceList\n    const paxPrice = getPaxPrice(totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate)\n\n    return {\n        totalPaxPrice: paxPrice || 0,\n        discTotalPaxPrice: applyDiscount(paxPrice, discrate) || 0\n    }\n}\n\nexport const useTotalPrice = (priceList, totalPax) => {\n    let totalPaxPrice = 0, discTotalPaxPrice = 0\n    for(let priceItems of priceList){\n        const dailyPrice = getPaxTotalPrice(priceItems, totalPax)\n        totalPaxPrice += dailyPrice.totalPaxPrice\n        discTotalPaxPrice += dailyPrice.discTotalPaxPrice\n    }\n\n    return {\n        totalPaxPrice,\n        discTotalPaxPrice\n    }\n}\n\nexport const getCurrencyCodeToIso = (currCode) => {\n    switch (currCode) {\n        case 'TL':\n            return 'TRY'\n        default:\n            return currCode\n    }\n}"]},"metadata":{},"sourceType":"module"}