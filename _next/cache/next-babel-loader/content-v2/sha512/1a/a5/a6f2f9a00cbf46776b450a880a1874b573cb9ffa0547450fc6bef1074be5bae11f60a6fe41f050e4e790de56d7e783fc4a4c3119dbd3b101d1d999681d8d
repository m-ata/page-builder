{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/components/page/sections/Section.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useEffect, useState } from 'react'; //material imports\n\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepConnector from '@material-ui/core/StepConnector';\nimport CreateIcon from '@material-ui/icons/Create';\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Container from \"@material-ui/core/Container\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport TextField from \"@material-ui/core/TextField\";\nimport CategoryIcon from '@material-ui/icons/Category';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from \"@material-ui/core/Typography\"; //redux imports\n\nimport { connect } from 'react-redux'; //custom imports\n\nimport AddSlider from \"./slider/AddSlider\";\nimport AddSliderOnly from './slider-only/AddSliderOnly';\nimport UploadImage from \"./image/UploadImage\";\nimport AddParagraph from \"./paragraph/AddParagraph\";\nimport WidgetBooking from \"components/ibe/widget/booking\";\nimport WrappedMap from \"./map/Map\";\nimport AddContactForm from \"./contact-form/AddContactForm\";\nimport AddSliderGallery from \"./slider-gallery/AddSliderGallery\";\nimport AddCardSlider from \"./card-type-slider/AddCardSlider\";\nimport { Insert } from \"@webcms/orest\";\nimport { OREST_ENDPOINT } from \"../../../../../../model/orest/constants\";\nimport WebCmsGlobal from \"../../../../../webcms-global\";\nimport { useRouter } from \"next/router\";\nimport { setToState, updateState } from \"../../../../../../state/actions\";\nimport { COLORS, froalaConfig } from \"../../../constants\";\nimport clsx from \"clsx\";\nimport { Checkbox } from \"@material-ui/core\"; //Froala editor improts\n\nimport dynamic from 'next/dynamic';\nimport AddVideo from './video/AddVideo';\nconst FroalaEditor = dynamic(async () => {\n  const values = await Promise.all([import('react-froala-wysiwyg'), import('froala-editor/js/plugins.pkgd.min'), import('froala-editor/js/froala_editor.min'), import('froala-editor/js/froala_editor.pkgd.min')]);\n  return values[0];\n}, {\n  loading: () => __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 24\n    }\n  }, \"LOADING!!!\"),\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('react-froala-wysiwyg'), require.resolveWeak('froala-editor/js/plugins.pkgd.min'), require.resolveWeak('froala-editor/js/froala_editor.min'), require.resolveWeak('froala-editor/js/froala_editor.pkgd.min')],\n    modules: ['react-froala-wysiwyg', 'froala-editor/js/plugins.pkgd.min', 'froala-editor/js/froala_editor.min', 'froala-editor/js/froala_editor.pkgd.min']\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  actionButtons: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    marginTop: theme.spacing(2)\n  },\n  actionButton: {\n    marginLeft: theme.spacing(1),\n    borderRadius: 20\n  },\n  sliderIDText: {\n    marginTop: '-20px'\n  },\n  disableEvent: {\n    pointerEvents: \"none\",\n    opacity: 0.5\n  }\n}));\nconst ColorlibConnector = withStyles({\n  alternativeLabel: {\n    top: 30,\n    left: 'calc(-50% + 10px)',\n    right: 'calc(50% + 10px)'\n  },\n  active: {\n    '& $line': {\n      background: 'transparent linear-gradient(270deg, #269DD4 0%, #0F4571 100%) 0% 0% no-repeat padding-box'\n    }\n  },\n  completed: {\n    '& $line': {\n      backgroundColor: COLORS === null || COLORS === void 0 ? void 0 : COLORS.primary\n    }\n  },\n  line: {\n    height: 4,\n    border: 0,\n    backgroundColor: '#eaeaf0',\n    borderRadius: 1\n  }\n})(StepConnector);\nconst useColorStepIconStyle = makeStyles(() => ({\n  root: {\n    backgroundColor: '#ccc',\n    zIndex: 1,\n    color: '#fff',\n    width: 50,\n    height: 50,\n    display: 'flex',\n    borderRadius: '50%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    '& img': {\n      width: 35\n    }\n  },\n  iconSize: {\n    height: 30,\n    width: 30\n  },\n  active: {\n    backgroundColor: COLORS.secondary,\n    boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n  },\n  completed: {\n    backgroundColor: COLORS === null || COLORS === void 0 ? void 0 : COLORS.primary,\n    color: '#fff'\n  }\n}));\n\nconst getSectionStepsIcons = (type, isActive, isCompleted, step) => {\n  const icon_classes = useColorStepIconStyle();\n  let icons = {};\n\n  switch (type) {\n    case 'fullcol':\n      icons = {\n        0: __jsx(CategoryIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'twocol':\n      icons = {\n        0: __jsx(CategoryIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 20\n          }\n        }),\n        2: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'threecol':\n      icons = {\n        0: __jsx(CategoryIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 20\n          }\n        }),\n        2: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 20\n          }\n        }),\n        3: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    default:\n      icons = {\n        0: __jsx(CategoryIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(CreateIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n  }\n\n  return __jsx(\"div\", {\n    className: clsx(icon_classes.root, {\n      [icon_classes.active]: isActive,\n      [icon_classes.completed]: isCompleted\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, icons[step]);\n};\n\nconst getSectionSteps = sectionType => {\n  switch (sectionType) {\n    case 'fullcol':\n      return ['Type', 'Add Sub Section'];\n\n    case 'twocol':\n      return ['Type', 'Add Sub Section', 'Add Sub Section'];\n\n    case 'threecol':\n      return ['Type', 'Add Sub Section', 'Add Sub Section', 'Add Sub Section'];\n  }\n};\n\nconst marks = [{\n  value: 0,\n  label: '0'\n}, {\n  value: 10,\n  label: '10%'\n}, {\n  value: 20,\n  label: '20%'\n}, {\n  value: 30,\n  label: '30%'\n}, {\n  value: 40,\n  label: '40%'\n}, {\n  value: 50,\n  label: '50%'\n}, {\n  value: 60,\n  label: '60'\n}, {\n  value: 70,\n  label: '70%'\n}, {\n  value: 80,\n  label: '80%'\n}, {\n  value: 90,\n  label: '90%'\n}, {\n  value: 100,\n  label: '100%'\n}];\nconst iOSBoxShadow = '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)';\nconst CustomSlider = withStyles({\n  root: {\n    // color: COLORS.primary,\n    height: 2,\n    padding: '15px 0'\n  },\n  thumb: {\n    height: 28,\n    width: 28,\n    backgroundColor: '#fff',\n    boxShadow: iOSBoxShadow,\n    marginTop: -14,\n    marginLeft: -14,\n    '&:focus, &:hover, &$active': {\n      boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        boxShadow: iOSBoxShadow\n      }\n    }\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50% + 11px)',\n    top: -22,\n    '& *': {\n      background: 'transparent',\n      color: '#000'\n    }\n  },\n  track: {\n    height: 2\n  },\n  rail: {\n    height: 2,\n    opacity: 0.5,\n    backgroundColor: '#bfbfbf'\n  },\n  mark: {\n    backgroundColor: '#bfbfbf',\n    height: 8,\n    width: 1,\n    marginTop: -3\n  },\n  markActive: {\n    opacity: 1,\n    backgroundColor: 'currentColor'\n  }\n})(Slider);\n\nconst SubSection = props => {\n  const {\n    sectionType,\n    subSections,\n    handleSubSection,\n    activeStep,\n    component,\n    state\n  } = props;\n  const [sectionComponentType, setSectionComponentType] = component ? useState(component.type) : useState('');\n  const [sectionComponentWidth, setSectionComponentWidth] = component ? useState(component.width) : useState(0);\n  const [sectionComponent, setSectionComponent] = component ? useState(component) : useState({});\n  const {\n    0: isSliderDisable,\n    1: setSliderDisable\n  } = useState(false);\n  const [consumeWidth, setConsumeWidth] = component ? useState(component.width) : useState(0);\n  const {\n    0: subSectionOptions,\n    1: setSubsectionOptions\n  } = useState([]);\n  const steps = getSectionSteps(sectionType);\n  const classes = useStyles();\n  useEffect(() => {\n    switch (state === null || state === void 0 ? void 0 : state.type) {\n      case 'webPage':\n        if (sectionType === 'fullcol') {\n          setSubsectionOptions([{\n            value: 'video',\n            label: 'Video'\n          }, {\n            value: 'slider',\n            label: 'Slider'\n          }, {\n            value: 'sliderOnly',\n            label: 'SliderOnly'\n          }, {\n            value: 'slider-gallery',\n            label: 'Slider Gallery'\n          }, {\n            value: 'card-slider',\n            label: 'Card Slider'\n          }, {\n            value: 'image',\n            label: 'Image'\n          }, {\n            value: 'paragraph',\n            label: 'Text'\n          }, {\n            value: 'widgetbooking',\n            label: 'Booking Engine'\n          }, {\n            value: 'contactForm',\n            label: 'Contact Form'\n          }, {\n            value: 'map',\n            label: 'Map'\n          }]);\n        } else {\n          setSubsectionOptions([{\n            value: 'sliderOnly',\n            label: 'SliderOnly'\n          }, {\n            value: 'image',\n            label: 'Image'\n          }, {\n            value: 'paragraph',\n            label: 'Text'\n          }, {\n            value: 'contactForm',\n            label: 'Contact Form'\n          }, {\n            value: 'map',\n            label: 'Map'\n          }]);\n        }\n\n        break;\n\n      case 'email':\n        setSubsectionOptions([{\n          value: 'image',\n          label: 'Image'\n        }, {\n          value: 'paragraph',\n          label: 'Text'\n        }]);\n        break;\n\n      case 'emailOnly':\n        setSubsectionOptions([{\n          value: 'image',\n          label: 'Image'\n        }, {\n          value: 'paragraph',\n          label: 'Text'\n        }]);\n        break;\n\n      default:\n        setSubsectionOptions([]);\n    }\n  }, [state === null || state === void 0 ? void 0 : state.type, sectionType]);\n  useEffect(() => {\n    if (!component) {\n      if (state.type === 'webPage') {\n        if (sectionType === 'fullcol') {\n          setSectionComponentType('video');\n        } else {\n          setSectionComponentType('sliderOnly');\n        }\n      }\n\n      if (state.type === 'email' || state.type === 'emailOnly') {\n        setSectionComponentType('image');\n      }\n    }\n  }, [sectionType]);\n  useEffect(() => {\n    activeStep === steps.length - 1 ? setSliderDisable(true) : setSliderDisable(false);\n\n    if (sectionType === 'fullcol') {\n      setSectionComponentWidth(200);\n      setConsumeWidth(100);\n    }\n\n    if (sectionType === 'twocol') {\n      if (activeStep === steps.length - 2) setSectionComponentWidth(50);\n      if (activeStep === steps.length - 1) setSectionComponentWidth(100);\n    }\n\n    if (sectionType === 'threecol') {\n      if (activeStep === steps.length - 3) setSectionComponentWidth(30);\n      if (activeStep === steps.length - 2) setSectionComponentWidth(60);\n      if (activeStep === steps.length - 1) setSectionComponentWidth(100);\n    }\n  }, [sectionType, activeStep]);\n  useEffect(() => {\n    if (subSections.length > 0) {\n      let totalConsumeWidth = 0;\n      subSections.map((element, index) => {\n        if (element !== null && element !== void 0 && element.width && index !== activeStep - 1) {\n          totalConsumeWidth += element.width;\n          setConsumeWidth(totalConsumeWidth);\n        }\n      });\n    }\n  }, [subSections, activeStep]);\n  useEffect(() => {\n    if (sectionComponentType && sectionComponent) handleSubSection(sectionComponent);\n  }, [sectionComponent, sectionComponentType]);\n\n  const handleSectionComponent = component => {\n    const updatedSectionComponent = component;\n    updatedSectionComponent.width = sectionComponentWidth - consumeWidth;\n    updatedSectionComponent.id = `item-${subSections.length + 1}`;\n    setSectionComponent(updatedSectionComponent);\n  };\n\n  const handleChange = (e, value) => {\n    if (value >= consumeWidth + 10) {\n      setSectionComponentWidth(value);\n\n      const updatedSectionComponent = _objectSpread({}, sectionComponent);\n\n      updatedSectionComponent.width = value - consumeWidth;\n      setSectionComponent(updatedSectionComponent);\n      handleSubSection(updatedSectionComponent);\n    }\n  };\n\n  const handleNextDisable = isProceed => {\n    props.handleNextDisable(isProceed);\n  };\n\n  const handleSectionComponentType = e => {\n    setSectionComponentType(e.target.value);\n\n    if (e.target.value === 'widgetbooking') {\n      setSectionComponent({\n        service: 'hcmwidgetbooking',\n        type: 'widgetbooking',\n        width: sectionComponentWidth - consumeWidth,\n        id: `item-${subSections.length + 1}`\n      });\n      props.handleNextDisable(false);\n    }\n\n    if (e.target.value === 'map') {\n      setSectionComponent({\n        service: 'map',\n        type: 'map',\n        width: sectionComponentWidth - consumeWidth,\n        id: `item-${subSections.length + 1}`\n      });\n      props.handleNextDisable(false);\n    }\n  };\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }\n  }, __jsx(CustomSlider, {\n    marks: marks,\n    value: isSliderDisable ? consumeWidth : sectionComponentWidth,\n    onChange: handleChange,\n    className: isSliderDisable ? classes.disableEvent : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 13\n    }\n  }), __jsx(FormControl, {\n    component: \"fieldset\",\n    size: 'small',\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 13\n    }\n  }, (subSectionOptions === null || subSectionOptions === void 0 ? void 0 : subSectionOptions.length) > 0 && __jsx(Select, {\n    value: sectionComponentType,\n    onChange: handleSectionComponentType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 54\n    }\n  }, subSectionOptions.map((option, index) => {\n    return __jsx(MenuItem, {\n      value: option.value,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 33\n      }\n    }, option.label);\n  }))), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 13\n    }\n  }), sectionType === 'fullcol' && sectionComponentType === 'slider' && __jsx(AddSlider, {\n    sectionType: sectionType,\n    handleSectionComponent: handleSectionComponent,\n    handleNextDisable: handleNextDisable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'sliderOnly' && __jsx(AddSliderOnly, {\n    handleSectionComponent: handleSectionComponent,\n    handleNextDisable: handleNextDisable,\n    component: sectionComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'slider-gallery' && __jsx(AddSliderGallery, {\n    handleSectionComponent: handleSectionComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'card-slider' && __jsx(AddCardSlider, {\n    handleSectionComponent: handleSectionComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'image' && __jsx(UploadImage, {\n    handleSectionComponent: handleSectionComponent,\n    handleNextDisable: handleNextDisable,\n    component: sectionComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'paragraph' && __jsx(AddParagraph, {\n    handleSectionComponent: handleSectionComponent,\n    handleNextDisable: handleNextDisable,\n    component: sectionComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'widgetbooking' && __jsx(Typography, {\n    component: 'div',\n    style: {\n      pointerEvents: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 17\n    }\n  }, __jsx(WidgetBooking, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 21\n    }\n  })), sectionComponentType === 'contactForm' && __jsx(AddContactForm, {\n    handleSectionComponent: handleSectionComponent,\n    handleNextDisable: handleNextDisable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 17\n    }\n  }), sectionComponentType === 'map' && __jsx(WrappedMap, {\n    googleMapURL: `https://maps.googleapis.com/maps/api/js?key=${process.env.GOOGLE_MAP_API_KEY}`,\n    loadingElement: __jsx(\"div\", {\n      style: {\n        height: `100%`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 37\n      }\n    }),\n    containerElement: __jsx(\"div\", {\n      style: {\n        height: `350px`,\n        borderRadius: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 39\n      }\n    }),\n    mapElement: __jsx(\"div\", {\n      style: {\n        height: `100%`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 51\n    }\n  }), sectionComponentType === 'video' && __jsx(AddVideo, {\n    handleSectionComponent: handleSectionComponent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 53\n    }\n  }));\n};\n\nconst Section = props => {\n  var _state$page3, _state$page3$sections, _state$email3, _state$email3$body;\n\n  const {\n    onAddSection,\n    state\n  } = props;\n  const classes = useStyles();\n  const {\n    0: activeStep,\n    1: setActiveStep\n  } = useState(0);\n  const {\n    0: sectionType,\n    1: setSectionType\n  } = useState('fullcol');\n  const {\n    0: steps,\n    1: setSteps\n  } = useState([]);\n  const {\n    0: sectionComponents,\n    1: setSectionComponents\n  } = useState([]);\n  const {\n    0: subSections,\n    1: setSubSections\n  } = useState([]);\n  const {\n    0: subSection,\n    1: setSubsection\n  } = useState({});\n  const {\n    0: sectionIDExist,\n    1: setSectionIDExist\n  } = useState(false);\n  const {\n    0: isNextDisabled,\n    1: setIsNextDisable\n  } = useState(true);\n  const {\n    0: sectionID,\n    1: setSectionID\n  } = useState('');\n  const {\n    0: localState,\n    1: setLocalState\n  } = useState({\n    hasSectionTitle: false,\n    sectionTitle: ''\n  });\n  const {\n    0: sectionOrder,\n    1: setSectionOrder\n  } = useState(1);\n  const {\n    hasSectionTitle,\n    sectionTitle\n  } = localState;\n  const {\n    GENERAL_SETTINGS,\n    token\n  } = useContext(WebCmsGlobal);\n  const router = useRouter();\n  const companyId = router.query.companyID;\n  const authToken = token || router.query.authToken;\n  const sectionTypes = [{\n    label: 'Full Section',\n    value: 'fullcol'\n  }, {\n    label: '2 Column Section',\n    value: 'twocol'\n  }, {\n    label: '3 Column Section',\n    value: 'threecol'\n  }];\n  const config = froalaConfig;\n  useEffect(() => {\n    const components = [];\n\n    for (let i = 0; i < steps.length - 1; i++) {\n      components[i] = __jsx(SubSection, {\n        key: i,\n        handleSubSection: handleSubSection,\n        subSections: subSections,\n        activeStep: activeStep,\n        sectionType: sectionType,\n        component: subSections[i],\n        handleNextDisable: handleNextDisable,\n        state: state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 29\n        }\n      });\n    }\n\n    setSectionComponents(components);\n  }, [sectionType, subSections, activeStep, subSection]);\n  useEffect(() => {\n    if (activeStep === steps.length - 1 && subSections.length > 0) {\n      const sectionState = {\n        id: sectionID.toLowerCase(),\n        type: sectionType,\n        title: sectionTitle,\n        items: subSections\n      };\n      onAddSection(sectionState, sectionOrder);\n    }\n  }, [activeStep, subSections]);\n  useEffect(() => {\n    let temp_subSections = [...subSections];\n    if (subSection.width) steps[activeStep] = 'Add SubSection (' + subSection.width + '%)';\n\n    if (activeStep === steps.length - 1) {\n      if (subSection) {\n        if (Object.keys(subSection).length > 0) {\n          temp_subSections[activeStep - 1] = _objectSpread({}, subSection);\n        }\n      }\n\n      setSubSections(temp_subSections);\n    }\n  }, [subSection]);\n  useEffect(() => {\n    setSteps(getSectionSteps(sectionType));\n  }, [sectionType]);\n  useEffect(() => {\n    if ((state === null || state === void 0 ? void 0 : state.type) === 'webPage') {\n      var _state$page, _state$page$sections;\n\n      setSectionOrder((state === null || state === void 0 ? void 0 : (_state$page = state.page) === null || _state$page === void 0 ? void 0 : (_state$page$sections = _state$page.sections) === null || _state$page$sections === void 0 ? void 0 : _state$page$sections.length) + 1);\n    }\n\n    if ((state === null || state === void 0 ? void 0 : state.type) === 'email' || (state === null || state === void 0 ? void 0 : state.type) === 'emailOnly') {\n      var _state$email, _state$email$body;\n\n      setSectionOrder((state === null || state === void 0 ? void 0 : (_state$email = state.email) === null || _state$email === void 0 ? void 0 : (_state$email$body = _state$email.body) === null || _state$email$body === void 0 ? void 0 : _state$email$body.length) + 1);\n    }\n  }, [state.type]);\n\n  const handleSubSection = sub_Section => {\n    setSubsection(sub_Section);\n  };\n\n  const handleNextDisable = isProceed => {\n    setIsNextDisable(isProceed);\n  };\n\n  const handleSaveComponent = () => {\n    if (subSection.type === 'paragraph') {\n      Insert({\n        // insert paragraph into hcmitemtxt\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMTXT,\n        token: authToken,\n        data: {\n          itemid: state.hcmItemId,\n          hotelrefno: Number(companyId)\n        }\n      }).then(res => {\n        if (res.status === 200 && res.data.data) {\n          Insert({\n            // insert textpar\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMTXTPAR,\n            token: authToken,\n            data: {\n              itemid: res.data.data.id,\n              itemtext: subSection.service,\n              hotelrefno: Number(companyId)\n            }\n          }).then(res1 => {\n            if (res1.status === 200 && res1.data.data) {\n              handleNextSection({\n                service: \"hcmitemtxtpar\",\n                type: \"paragraph\",\n                gid: res1.data.data.gid,\n                width: subSection.width,\n                id: `item-${subSections.length + 1}`,\n                useBgColor: subSection === null || subSection === void 0 ? void 0 : subSection.useBgColor\n              });\n            }\n          });\n        }\n      });\n    } else {\n      handleNextSection(subSection);\n    }\n  };\n\n  const handleNextSection = component => {\n    let temp_subSections = [...subSections];\n\n    if (activeStep !== 0) {\n      setActiveStep(previousStep => previousStep + 1);\n\n      if (component && Object.keys(component).length > 0) {\n        temp_subSections[activeStep - 1] = component;\n      } else {\n        if (subSection && Object.keys(subSection).length > 0) {\n          temp_subSections[activeStep - 1] = _objectSpread({}, subSection);\n        }\n      }\n\n      setSubSections(temp_subSections);\n      steps[activeStep] = 'Add SubSection (' + subSection.width + '%)';\n      setSubsection({});\n      setIsNextDisable(true);\n    } else {\n      setActiveStep(previousStep => previousStep + 1);\n      setIsNextDisable(true);\n    }\n  };\n\n  const handleBackSection = () => {\n    if (activeStep - 1 === 0) {\n      setActiveStep(previousStep => previousStep - 1);\n      setIsNextDisable(false);\n    } else {\n      let temp_subSections = [...subSections];\n\n      if (activeStep !== 0) {\n        temp_subSections[activeStep - 1] = _objectSpread({}, subSection);\n        setSubsection({});\n        setSubSections(temp_subSections);\n        setIsNextDisable(false);\n      }\n\n      setActiveStep(previousStep => previousStep - 1);\n    }\n  };\n\n  const handleSectionID = event => {\n    if (state.type === 'webPage') {\n      var _state$page2, _state$page2$sections;\n\n      if (state !== null && state !== void 0 && (_state$page2 = state.page) !== null && _state$page2 !== void 0 && (_state$page2$sections = _state$page2.sections) !== null && _state$page2$sections !== void 0 && _state$page2$sections.length) {\n        state.page.sections.map(page => {\n          if (page.id === event.target.value) {\n            setSectionID(event.target.value);\n            setSectionIDExist(true);\n            setIsNextDisable(true);\n            return;\n          } else {\n            setSectionID(event.target.value);\n            setSectionIDExist(false);\n            setIsNextDisable(!event.target.value);\n          }\n        });\n      } else {\n        setSectionID(event.target.value);\n        setSectionIDExist(false);\n        setIsNextDisable(!event.target.value);\n      }\n    }\n\n    if (state.type === 'email' || state.type === 'emailOnly') {\n      var _state$email2, _state$email2$body;\n\n      if (state !== null && state !== void 0 && (_state$email2 = state.email) !== null && _state$email2 !== void 0 && (_state$email2$body = _state$email2.body) !== null && _state$email2$body !== void 0 && _state$email2$body.length) {\n        state.email.body.map(body => {\n          if (body.id === event.target.value) {\n            setSectionID(event.target.value);\n            setSectionIDExist(true);\n            setIsNextDisable(true);\n            return;\n          } else {\n            setSectionID(event.target.value);\n            setSectionIDExist(false);\n            setIsNextDisable(!event.target.value);\n          }\n        });\n      } else {\n        setSectionID(event.target.value);\n        setSectionIDExist(false);\n        setIsNextDisable(!event.target.value);\n      }\n    }\n  };\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 723,\n      columnNumber: 9\n    }\n  }, __jsx(Stepper, {\n    activeStep: activeStep,\n    alternativeLabel: true,\n    connector: __jsx(ColorlibConnector, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 13\n    }\n  }, steps.map((label, index) => {\n    return __jsx(Step, {\n      key: `step-${index}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 25\n      }\n    }, __jsx(StepLabel, {\n      color: \"secondary\",\n      StepIconComponent: () => getSectionStepsIcons(sectionType, activeStep === index, activeStep > index, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 29\n      }\n    }, label));\n  })), __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 13\n    }\n  }, activeStep === 0 && __jsx(React.Fragment, null, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 740,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 33\n    }\n  }, __jsx(FormControlLabel, {\n    control: __jsx(Checkbox, {\n      size: 'small',\n      checked: hasSectionTitle,\n      onChange: () => setLocalState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        hasSectionTitle: !hasSectionTitle,\n        sectionTitle: !hasSectionTitle ? sectionTitle : ''\n      })),\n      name: \"title\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 744,\n        columnNumber: 45\n      }\n    }),\n    label: \"Add Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 37\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 33\n    }\n  }, __jsx(FormControl, {\n    fullWidth: true,\n    component: \"fieldset\",\n    size: 'small',\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 37\n    }\n  }, (sectionTypes === null || sectionTypes === void 0 ? void 0 : sectionTypes.length) > 0 && __jsx(Select, {\n    value: sectionType,\n    onChange: e => {\n      setSectionType(e.target.value);\n      setSubSections([]);\n      setIsNextDisable(true);\n      setSectionID('');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 759,\n      columnNumber: 73\n    }\n  }, sectionTypes.map((option, index) => {\n    return __jsx(MenuItem, {\n      value: option.value,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 770,\n        columnNumber: 57\n      }\n    }, option.label);\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 779,\n      columnNumber: 33\n    }\n  }, __jsx(FormControl, {\n    fullWidth: true,\n    component: 'fieldset',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 37\n    }\n  }, __jsx(TextField, {\n    label: \"Section ID *\",\n    error: sectionIDExist,\n    helperText: sectionIDExist ? \"Already Exist\" : \"\",\n    onChange: handleSectionID,\n    value: sectionID,\n    size: 'small',\n    variant: 'outlined',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 41\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 33\n    }\n  }, __jsx(FormControl, {\n    fullWidth: true,\n    component: 'fieldset',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 37\n    }\n  }, __jsx(TextField, {\n    label: \"Order\",\n    inputProps: {\n      min: 1,\n      max: state.type === 'webPage' ? (state === null || state === void 0 ? void 0 : (_state$page3 = state.page) === null || _state$page3 === void 0 ? void 0 : (_state$page3$sections = _state$page3.sections) === null || _state$page3$sections === void 0 ? void 0 : _state$page3$sections.length) + 1 : (state === null || state === void 0 ? void 0 : (_state$email3 = state.email) === null || _state$email3 === void 0 ? void 0 : (_state$email3$body = _state$email3.body) === null || _state$email3$body === void 0 ? void 0 : _state$email3$body.length) + 1\n    },\n    onChange: e => setSectionOrder(e.target.value),\n    value: sectionOrder,\n    size: 'small',\n    variant: 'outlined',\n    type: 'number',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 41\n    }\n  })))), hasSectionTitle && __jsx(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 33\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 807,\n      columnNumber: 37\n    }\n  }, __jsx(FroalaEditor, {\n    tag: \"textarea\",\n    config: config,\n    model: sectionTitle,\n    onModelChange: model => setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      sectionTitle: model\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 41\n    }\n  })))), sectionComponents.map((value, index) => {\n    return index === activeStep - 1 ? value : null;\n  }), __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-start\",\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: classes.actionButtons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 21\n    }\n  }, activeStep !== steps.length - 1 && __jsx(Button, {\n    onClick: handleSaveComponent,\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    className: classes.actionButton,\n    disabled: isNextDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 842,\n      columnNumber: 29\n    }\n  }, \"NEXT\")))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n  updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Section);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/components/page/sections/Section.js"],"names":["React","useContext","useEffect","useState","Grid","Button","Stepper","Step","StepLabel","StepConnector","CreateIcon","FormControl","FormControlLabel","Select","MenuItem","Container","makeStyles","Slider","TextField","CategoryIcon","withStyles","Typography","connect","AddSlider","AddSliderOnly","UploadImage","AddParagraph","WidgetBooking","WrappedMap","AddContactForm","AddSliderGallery","AddCardSlider","Insert","OREST_ENDPOINT","WebCmsGlobal","useRouter","setToState","updateState","COLORS","froalaConfig","clsx","Checkbox","dynamic","AddVideo","FroalaEditor","values","Promise","all","loading","ssr","useStyles","theme","actionButtons","display","justifyContent","marginTop","spacing","actionButton","marginLeft","borderRadius","sliderIDText","disableEvent","pointerEvents","opacity","ColorlibConnector","alternativeLabel","top","left","right","active","background","completed","backgroundColor","primary","line","height","border","useColorStepIconStyle","root","zIndex","color","width","alignItems","iconSize","secondary","boxShadow","getSectionStepsIcons","type","isActive","isCompleted","step","icon_classes","icons","getSectionSteps","sectionType","marks","value","label","iOSBoxShadow","CustomSlider","padding","thumb","valueLabel","track","rail","mark","markActive","SubSection","props","subSections","handleSubSection","activeStep","component","state","sectionComponentType","setSectionComponentType","sectionComponentWidth","setSectionComponentWidth","sectionComponent","setSectionComponent","isSliderDisable","setSliderDisable","consumeWidth","setConsumeWidth","subSectionOptions","setSubsectionOptions","steps","classes","length","totalConsumeWidth","map","element","index","handleSectionComponent","updatedSectionComponent","id","handleChange","e","handleNextDisable","isProceed","handleSectionComponentType","target","service","option","process","env","GOOGLE_MAP_API_KEY","Section","onAddSection","setActiveStep","setSectionType","setSteps","sectionComponents","setSectionComponents","setSubSections","subSection","setSubsection","sectionIDExist","setSectionIDExist","isNextDisabled","setIsNextDisable","sectionID","setSectionID","localState","setLocalState","hasSectionTitle","sectionTitle","sectionOrder","setSectionOrder","GENERAL_SETTINGS","token","router","companyId","query","companyID","authToken","sectionTypes","config","components","i","sectionState","toLowerCase","title","items","temp_subSections","Object","keys","page","sections","email","body","sub_Section","handleSaveComponent","apiUrl","OREST_URL","endpoint","HCMITEMTXT","data","itemid","hcmItemId","hotelrefno","Number","then","res","status","HCMITEMTXTPAR","itemtext","res1","handleNextSection","gid","useBgColor","previousStep","handleBackSection","handleSectionID","event","prev","min","max","model","prevState","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\n//material imports\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepConnector from '@material-ui/core/StepConnector';\nimport CreateIcon from '@material-ui/icons/Create';\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Container from \"@material-ui/core/Container\";\nimport { makeStyles } from '@material-ui/core/styles'\nimport Slider from '@material-ui/core/Slider';\nimport TextField from \"@material-ui/core/TextField\";\nimport CategoryIcon from '@material-ui/icons/Category';\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from \"@material-ui/core/Typography\";\n//redux imports\nimport { connect } from 'react-redux';\n//custom imports\nimport AddSlider from \"./slider/AddSlider\";\nimport AddSliderOnly from './slider-only/AddSliderOnly';\nimport UploadImage from \"./image/UploadImage\";\nimport AddParagraph from \"./paragraph/AddParagraph\";\nimport WidgetBooking from \"components/ibe/widget/booking\";\nimport WrappedMap from \"./map/Map\";\nimport AddContactForm from \"./contact-form/AddContactForm\";\nimport AddSliderGallery from \"./slider-gallery/AddSliderGallery\";\nimport AddCardSlider from \"./card-type-slider/AddCardSlider\";\nimport {Insert} from \"@webcms/orest\";\nimport {OREST_ENDPOINT} from \"../../../../../../model/orest/constants\";\nimport WebCmsGlobal from \"../../../../../webcms-global\";\nimport {useRouter} from \"next/router\";\nimport {setToState, updateState} from \"../../../../../../state/actions\";\nimport {COLORS, froalaConfig} from \"../../../constants\";\nimport clsx from \"clsx\";\nimport {Checkbox} from \"@material-ui/core\";\n//Froala editor improts\nimport dynamic from 'next/dynamic';\nimport AddVideo from './video/AddVideo';\nconst FroalaEditor = dynamic(\n    async () => {\n        const values = await Promise.all([\n            import('react-froala-wysiwyg'),\n            import('froala-editor/js/plugins.pkgd.min'),\n            import('froala-editor/js/froala_editor.min'),\n            import('froala-editor/js/froala_editor.pkgd.min'),\n        ])\n        return values[0]\n    },\n    {\n        loading: () => <p>LOADING!!!</p>,\n        ssr: false,\n    }\n)\n\nconst useStyles = makeStyles(theme => ({\n\n    actionButtons: {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        marginTop: theme.spacing(2)\n    },\n    actionButton: {\n        marginLeft: theme.spacing(1),\n        borderRadius: 20,\n    },\n    sliderIDText: {\n        marginTop: '-20px'\n    },\n    disableEvent: {\n        pointerEvents: \"none\",\n        opacity: 0.5\n    }\n}));\n\nconst ColorlibConnector =  withStyles({\n    alternativeLabel: {\n        top: 30,\n        left: 'calc(-50% + 10px)',\n        right: 'calc(50% + 10px)',\n    },\n    active: {\n        '& $line': {\n            background: 'transparent linear-gradient(270deg, #269DD4 0%, #0F4571 100%) 0% 0% no-repeat padding-box',\n        },\n    },\n    completed: {\n        '& $line': {\n            backgroundColor: COLORS?.primary,\n        },\n    },\n    line: {\n        height: 4,\n        border: 0,\n        backgroundColor: '#eaeaf0',\n        borderRadius: 1,\n    },\n})(StepConnector);\n\nconst useColorStepIconStyle = makeStyles(() => ({\n    root: {\n        backgroundColor: '#ccc',\n        zIndex: 1,\n        color: '#fff',\n        width: 50,\n        height: 50,\n        display: 'flex',\n        borderRadius: '50%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        '& img': {\n            width: 35,\n        },\n    },\n    iconSize: {\n        height: 30,\n        width: 30,\n    },\n    active: {\n        backgroundColor: COLORS.secondary,\n        boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\n    },\n    completed: {\n        backgroundColor: COLORS?.primary,\n        color: '#fff',\n    },\n}));\n\nconst getSectionStepsIcons = (type, isActive, isCompleted, step) => {\n    const icon_classes = useColorStepIconStyle()\n    let icons = {}\n    switch (type) {\n        case 'fullcol':\n            icons = {\n                0: <CategoryIcon className={icon_classes.iconSize} />,\n                1: <CreateIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'twocol':\n            icons = {\n                0: <CategoryIcon className={icon_classes.iconSize} />,\n                1: <CreateIcon className={icon_classes.iconSize} />,\n                2: <CreateIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'threecol':\n            icons = {\n                0: <CategoryIcon className={icon_classes.iconSize} />,\n                1: <CreateIcon className={icon_classes.iconSize} />,\n                2: <CreateIcon className={icon_classes.iconSize} />,\n                3: <CreateIcon className={icon_classes.iconSize} />,\n            }\n            break\n        default:\n            icons = {\n                0: <CategoryIcon className={icon_classes.iconSize} />,\n                1: <CreateIcon className={icon_classes.iconSize} />,\n            }\n            break\n    }\n\n    return (\n        <div\n            className={clsx(icon_classes.root, {\n                [icon_classes.active]: isActive,\n                [icon_classes.completed]: isCompleted,\n            })}\n        >\n            {icons[step]}\n        </div>\n    )\n}\n\nconst getSectionSteps = (sectionType) => {\n    switch (sectionType) {\n        case 'fullcol': return ['Type', 'Add Sub Section']\n        case 'twocol': return ['Type', 'Add Sub Section', 'Add Sub Section']\n        case 'threecol': return ['Type', 'Add Sub Section', 'Add Sub Section', 'Add Sub Section']\n    }\n}\n\nconst marks = [{value: 0, label: '0'}, {value: 10, label: '10%'}, {value: 20, label: '20%'}, { value: 30, label: '30%'},\n                {value: 40, label: '40%'}, {value: 50, label: '50%'}, {value: 60, label: '60'}, {value: 70, label: '70%'},\n                {value: 80, label: '80%'}, { value: 90, label: '90%'}, {value: 100, label: '100%'},];\n\nconst iOSBoxShadow =\n    '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)';\n\nconst CustomSlider = withStyles({\n    root: {\n        // color: COLORS.primary,\n        height: 2,\n        padding: '15px 0',\n    },\n    thumb: {\n        height: 28,\n        width: 28,\n        backgroundColor: '#fff',\n        boxShadow: iOSBoxShadow,\n        marginTop: -14,\n        marginLeft: -14,\n        '&:focus, &:hover, &$active': {\n            boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n            // Reset on touch devices, it doesn't add specificity\n            '@media (hover: none)': {\n                boxShadow: iOSBoxShadow,\n            },\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: 'calc(-50% + 11px)',\n        top: -22,\n        '& *': {\n            background: 'transparent',\n            color: '#000',\n        },\n    },\n    track: {\n        height: 2,\n    },\n    rail: {\n        height: 2,\n        opacity: 0.5,\n        backgroundColor: '#bfbfbf',\n    },\n    mark: {\n        backgroundColor: '#bfbfbf',\n        height: 8,\n        width: 1,\n        marginTop: -3,\n    },\n    markActive: {\n        opacity: 1,\n        backgroundColor: 'currentColor',\n    },\n})(Slider)\n\nconst SubSection = (props) => {\n\n    const { sectionType, subSections, handleSubSection, activeStep, component, state } = props;\n    const [ sectionComponentType, setSectionComponentType ] = component ? useState(component.type) : useState('');\n    const [ sectionComponentWidth, setSectionComponentWidth ] = (component) ? useState(component.width) : useState(0);\n    const [ sectionComponent, setSectionComponent ] = component ? useState(component) : useState({});\n    const [isSliderDisable, setSliderDisable] = useState(false);\n    const [consumeWidth, setConsumeWidth] = (component) ? useState(component.width) : useState(0);\n    const [subSectionOptions, setSubsectionOptions] = useState([]);\n    const steps = getSectionSteps(sectionType);\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        switch (state?.type) {\n            case 'webPage':\n                if (sectionType === 'fullcol') {\n                    setSubsectionOptions([{\n                        value: 'video',\n                        label: 'Video'\n                    }, {\n                        value: 'slider',\n                        label: 'Slider'\n                    }, {\n                        value: 'sliderOnly',\n                        label: 'SliderOnly'\n                    }, {\n                        value: 'slider-gallery',\n                        label: 'Slider Gallery'\n                    }, {\n                        value: 'card-slider',\n                        label: 'Card Slider'\n                    }, {\n                        value: 'image',\n                        label: 'Image'\n                    }, {\n                        value: 'paragraph',\n                        label: 'Text'\n                    }, {\n                        value: 'widgetbooking',\n                        label: 'Booking Engine'\n                    }, {\n                        value: 'contactForm',\n                        label: 'Contact Form'\n                    }, {\n                        value: 'map',\n                        label: 'Map'\n                    }]);\n                } else {\n                    setSubsectionOptions([{\n                        value: 'sliderOnly',\n                        label: 'SliderOnly'\n                    }, {\n                        value: 'image',\n                        label: 'Image'\n                    }, {\n                        value: 'paragraph',\n                        label: 'Text'\n                    }, {\n                        value: 'contactForm',\n                        label: 'Contact Form'\n                    }, {\n                        value: 'map',\n                        label: 'Map'\n                    }]);\n                }\n                break\n            case 'email':\n                setSubsectionOptions([ {\n                    value: 'image',\n                    label: 'Image'\n                }, {\n                    value: 'paragraph',\n                    label: 'Text'\n                }]);\n                break\n            case 'emailOnly':\n                setSubsectionOptions([ {\n                    value: 'image',\n                    label: 'Image'\n                }, {\n                    value: 'paragraph',\n                    label: 'Text'\n                }]);\n                break\n            default:\n                setSubsectionOptions([])\n        }\n    }, [state?.type, sectionType]);\n\n    useEffect(() => {\n        if (!component) {\n            if (state.type === 'webPage') {\n                if (sectionType === 'fullcol') {\n                    setSectionComponentType('video');\n                } else {\n                    setSectionComponentType('sliderOnly');\n                }\n            }\n            if (state.type === 'email' || state.type === 'emailOnly') {\n                setSectionComponentType('image');\n            }\n        }\n    }, [sectionType]);\n\n    useEffect(() => {\n        (activeStep === steps.length - 1) ? setSliderDisable(true) : setSliderDisable(false);\n        if(sectionType === 'fullcol') {\n            setSectionComponentWidth(200);\n            setConsumeWidth(100)\n        }\n        if(sectionType === 'twocol') {\n            if(activeStep === steps.length - 2) setSectionComponentWidth(50);\n            if(activeStep === steps.length - 1) setSectionComponentWidth(100);\n        }\n        if(sectionType === 'threecol') {\n            if(activeStep === steps.length - 3) setSectionComponentWidth(30);\n            if(activeStep === steps.length - 2) setSectionComponentWidth(60);\n            if(activeStep === steps.length - 1) setSectionComponentWidth(100);\n        }\n    }, [sectionType, activeStep]);\n\n    useEffect(() => {\n        if(subSections.length > 0) {\n            let totalConsumeWidth = 0;\n            subSections.map((element, index) => {\n                if(element?.width && index !== activeStep - 1) {\n                    totalConsumeWidth += element.width;\n                    setConsumeWidth(totalConsumeWidth);\n                }\n            });\n        }\n    }, [subSections, activeStep]);\n\n    useEffect(() => {\n        if(sectionComponentType && sectionComponent)\n            handleSubSection(sectionComponent);\n    }, [ sectionComponent, sectionComponentType]);\n\n    const handleSectionComponent = (component) => {\n        const updatedSectionComponent = component;\n        updatedSectionComponent.width = sectionComponentWidth - consumeWidth\n        updatedSectionComponent.id = `item-${subSections.length + 1}`;\n        setSectionComponent(updatedSectionComponent);\n    }\n\n    const handleChange = (e, value) => {\n        if(value >= consumeWidth+10) {\n            setSectionComponentWidth(value);\n            const updatedSectionComponent = {...sectionComponent};\n            updatedSectionComponent.width = value - consumeWidth;\n            setSectionComponent(updatedSectionComponent);\n            handleSubSection(updatedSectionComponent);\n        }\n    }\n\n    const handleNextDisable = (isProceed) => {\n        props.handleNextDisable(isProceed);\n    }\n\n    const handleSectionComponentType = (e) => {\n        setSectionComponentType(e.target.value);\n        if(e.target.value === 'widgetbooking') {\n            setSectionComponent({\n                service: 'hcmwidgetbooking',\n                type: 'widgetbooking',\n                width: sectionComponentWidth - consumeWidth,\n                id: `item-${subSections.length + 1}`\n            });\n            props.handleNextDisable(false);\n        }\n        if(e.target.value === 'map') {\n            setSectionComponent({\n                service: 'map',\n                type: 'map',\n                width: sectionComponentWidth - consumeWidth,\n                id: `item-${subSections.length + 1}`\n            });\n            props.handleNextDisable(false);\n        }\n    }\n\n    return(\n        <Container>\n            <CustomSlider\n                marks={marks}\n                value={isSliderDisable ? consumeWidth : sectionComponentWidth}\n                onChange={handleChange}\n                className={isSliderDisable ? classes.disableEvent : ''}\n            />\n            <FormControl component=\"fieldset\" size={'small'} variant=\"outlined\">\n                {\n                    subSectionOptions?.length > 0 && <Select\n                        value={sectionComponentType}\n                        onChange={handleSectionComponentType}\n                    >\n                        {subSectionOptions.map((option, index) => {\n                            return (\n                                <MenuItem value={option.value} key={index}>\n                                    {option.label}\n                                </MenuItem>\n                            )\n                        })}\n                    </Select>\n                }\n            </FormControl>\n            <hr />\n            {\n                sectionType === 'fullcol' && sectionComponentType === 'slider' &&\n                <AddSlider sectionType={sectionType} handleSectionComponent={handleSectionComponent} handleNextDisable={handleNextDisable} />\n            }\n            {\n                sectionComponentType === 'sliderOnly' &&\n                <AddSliderOnly handleSectionComponent={handleSectionComponent} handleNextDisable={handleNextDisable} component={sectionComponent} />\n            }\n            {\n                sectionComponentType === 'slider-gallery' &&\n                <AddSliderGallery handleSectionComponent={handleSectionComponent} />\n            }\n            {\n                sectionComponentType === 'card-slider' &&\n                <AddCardSlider handleSectionComponent={handleSectionComponent} />\n            }\n            {\n                sectionComponentType === 'image' &&\n                <UploadImage handleSectionComponent={handleSectionComponent} handleNextDisable={handleNextDisable} component={sectionComponent}/>\n            }\n            {\n                sectionComponentType === 'paragraph' &&\n                <AddParagraph handleSectionComponent={handleSectionComponent} handleNextDisable={handleNextDisable} component={sectionComponent}/>\n            }\n            {\n                sectionComponentType === 'widgetbooking' &&\n                <Typography component={'div'} style={{pointerEvents: 'none'}}>\n                    <WidgetBooking/>\n                </Typography>\n            }\n            {\n                sectionComponentType === 'contactForm' &&\n                <AddContactForm handleSectionComponent={handleSectionComponent} handleNextDisable={handleNextDisable}/>\n            }\n            {\n                sectionComponentType === 'map' && <WrappedMap\n                    googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${process.env.GOOGLE_MAP_API_KEY}`}\n                    loadingElement={<div style={{ height: `100%` }} />}\n                    containerElement={<div style={{ height: `350px`, borderRadius: 10 }} />}\n                    mapElement={<div style={{ height: `100%` }} />}\n                />\n            }\n            {\n                sectionComponentType === 'video' && <AddVideo handleSectionComponent={handleSectionComponent} />\n            }\n        </Container>\n    )\n}\n\nconst Section = (props) => {\n\n    const {\n        onAddSection,\n        state,\n    } = props;\n\n    const classes = useStyles();\n    const [ activeStep, setActiveStep] = useState(0);\n    const [ sectionType, setSectionType ] = useState('fullcol');\n    const [steps, setSteps] = useState([]);\n    const [sectionComponents, setSectionComponents] = useState([]);\n    const [subSections, setSubSections] = useState([]);\n    const [subSection, setSubsection] = useState({});\n    const [sectionIDExist, setSectionIDExist] = useState(false);\n    const [isNextDisabled, setIsNextDisable] = useState(true);\n    const [sectionID, setSectionID] = useState('');\n    const [localState, setLocalState] = useState({\n        hasSectionTitle: false,\n        sectionTitle: '',\n    });\n    const [sectionOrder, setSectionOrder] = useState(1);\n    const { hasSectionTitle, sectionTitle } = localState;\n    const {GENERAL_SETTINGS, token} = useContext(WebCmsGlobal);\n    const router = useRouter();\n    const companyId = router.query.companyID;\n    const authToken = token || router.query.authToken;\n    const sectionTypes = [{\n        label: 'Full Section',\n        value: 'fullcol'\n    }, {\n        label: '2 Column Section',\n        value: 'twocol'\n    }, {\n        label: '3 Column Section',\n        value: 'threecol'\n    }]\n\n    const config = froalaConfig;\n\n    useEffect(() => {\n        const components = [];\n        for (let i = 0; i < steps.length - 1; i++) {\n            components[i] = <SubSection key={i}\n                                        handleSubSection={handleSubSection}\n                                        subSections={subSections}\n                                        activeStep={activeStep}\n                                        sectionType={sectionType}\n                                        component={subSections[i]}\n                                        handleNextDisable={handleNextDisable}\n                                        state={state}\n            />\n        }\n        setSectionComponents(components);\n    }, [sectionType, subSections, activeStep, subSection]);\n\n    useEffect(() => {\n        if (activeStep === steps.length - 1 && subSections.length > 0) {\n            const sectionState = {\n                id: sectionID.toLowerCase(),\n                type: sectionType,\n                title: sectionTitle,\n                items: subSections\n            };\n            onAddSection(sectionState, sectionOrder);\n        }\n    }, [activeStep, subSections]);\n\n    useEffect(() => {\n        let temp_subSections = [...subSections];\n        if (subSection.width) steps[activeStep] = 'Add SubSection ('+subSection.width+'%)';\n        if (activeStep === steps.length - 1) {\n            if (subSection) {\n                if (Object.keys(subSection).length > 0) {\n                    temp_subSections[activeStep - 1] = {...subSection}\n                }\n            }\n            setSubSections(temp_subSections);\n        }\n    }, [subSection]);\n\n    useEffect(() => {\n        setSteps(getSectionSteps(sectionType));\n    },[sectionType]);\n\n    useEffect(() => {\n        if (state?.type === 'webPage') {\n            setSectionOrder(state?.page?.sections?.length + 1);\n        }\n        if (state?.type === 'email' || state?.type === 'emailOnly') {\n            setSectionOrder(state?.email?.body?.length + 1);\n        }\n    }, [state.type]);\n\n    const handleSubSection = (sub_Section) => {\n        setSubsection(sub_Section);\n    }\n\n    const handleNextDisable = (isProceed) => {\n        setIsNextDisable(isProceed);\n    }\n\n    const handleSaveComponent = () => {\n        if(subSection.type === 'paragraph') {\n            Insert({ // insert paragraph into hcmitemtxt\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMTXT,\n                token: authToken,\n                data: {\n                    itemid: state.hcmItemId,\n                    hotelrefno: Number(companyId)\n                },\n            }).then(res => {\n                if(res.status === 200 && res.data.data) {\n                    Insert({ // insert textpar\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.HCMITEMTXTPAR,\n                        token: authToken,\n                        data: {\n                            itemid: res.data.data.id,\n                            itemtext: subSection.service,\n                            hotelrefno: Number(companyId)\n                        },\n                    }).then(res1 => {\n                        if (res1.status === 200 && res1.data.data) {\n                            handleNextSection({\n                                service: \"hcmitemtxtpar\",\n                                type: \"paragraph\",\n                                gid: res1.data.data.gid,\n                                width: subSection.width,\n                                id: `item-${subSections.length + 1}`,\n                                useBgColor: subSection?.useBgColor\n                            });\n                        }\n                    })\n                }\n            });\n        } else {\n            handleNextSection(subSection);\n        }\n    }\n\n    const handleNextSection = (component) => {\n        let temp_subSections = [...subSections];\n        if (activeStep !== 0) {\n            setActiveStep(previousStep => previousStep + 1);\n            if (component && Object.keys(component).length > 0) {\n                temp_subSections[activeStep - 1] = component\n            } else {\n                if (subSection && Object.keys(subSection).length > 0) {\n                    temp_subSections[activeStep - 1] = {...subSection}\n                }\n            }\n            setSubSections(temp_subSections);\n            steps[activeStep] = 'Add SubSection (' + subSection.width + '%)';\n            setSubsection({});\n            setIsNextDisable(true);\n        } else {\n            setActiveStep(previousStep => previousStep + 1);\n            setIsNextDisable(true);\n        }\n    }\n\n    const handleBackSection = () => {\n        if (activeStep - 1 === 0) {\n            setActiveStep(previousStep => previousStep - 1);\n            setIsNextDisable(false);\n        } else {\n            let temp_subSections = [...subSections];\n            if (activeStep !== 0) {\n                temp_subSections[activeStep - 1] = {...subSection};\n                setSubsection({});\n                setSubSections(temp_subSections);\n                setIsNextDisable(false);\n            }\n            setActiveStep(previousStep => previousStep - 1);\n        }\n    }\n\n    const handleSectionID = (event) => {\n        if (state.type ==='webPage') {\n            if(state?.page?.sections?.length) {\n                state.page.sections.map(page => {\n                    if(page.id === event.target.value) {\n                        setSectionID(event.target.value);\n                        setSectionIDExist(true);\n                        setIsNextDisable(true);\n                        return\n                    } else {\n                        setSectionID(event.target.value);\n                        setSectionIDExist(false);\n                        setIsNextDisable(!event.target.value);\n                    }\n                });\n            } else {\n                setSectionID(event.target.value);\n                setSectionIDExist(false);\n                setIsNextDisable(!event.target.value);\n            }\n        }\n        if (state.type === 'email' || state.type === 'emailOnly') {\n            if (state?.email?.body?.length) {\n                state.email.body.map(body => {\n                    if(body.id === event.target.value) {\n                        setSectionID(event.target.value);\n                        setSectionIDExist(true);\n                        setIsNextDisable(true);\n                        return\n                    } else {\n                        setSectionID(event.target.value);\n                        setSectionIDExist(false);\n                        setIsNextDisable(!event.target.value);\n                    }\n                });\n            } else {\n                setSectionID(event.target.value);\n                setSectionIDExist(false);\n                setIsNextDisable(!event.target.value);\n            }\n        }\n    }\n\n\n    return (\n        <React.Fragment>\n            <Stepper activeStep={activeStep} alternativeLabel\n                     connector={<ColorlibConnector />}>\n                {steps.map((label, index) => {\n                    return (\n                        <Step key={`step-${index}`}>\n                            <StepLabel color=\"secondary\"\n                                       StepIconComponent={() => getSectionStepsIcons(sectionType, (activeStep === index), (activeStep > index), index)}\n                            >{label}</StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n            <Container>\n                {\n                    activeStep === 0 && (\n                        <>\n                            <Grid container={true} spacing={1} >\n                                <Grid item={true} xs={2}>\n                                    <FormControlLabel\n                                        control={\n                                            <Checkbox\n                                                size={'small'}\n                                                checked={hasSectionTitle}\n                                                onChange={() => setLocalState(prev => ({...prev, hasSectionTitle: !hasSectionTitle,\n                                                    sectionTitle: !hasSectionTitle ? sectionTitle : ''}))}\n                                                name=\"title\"\n                                                color=\"primary\"\n                                            />\n                                        }\n                                        label=\"Add Title\"\n                                    />\n                                </Grid>\n                                <Grid item xs={5}>\n                                    <FormControl fullWidth component=\"fieldset\" size={'small'} variant=\"outlined\">\n                                        {\n                                            sectionTypes?.length > 0 && <Select\n                                                value={sectionType}\n                                                onChange={(e) => {\n                                                    setSectionType(e.target.value);\n                                                    setSubSections([]);\n                                                    setIsNextDisable(true);\n                                                    setSectionID('');\n                                                }}\n                                            >\n                                                {sectionTypes.map((option, index) => {\n                                                    return (\n                                                        <MenuItem value={option.value} key={index}>\n                                                            {option.label}\n                                                        </MenuItem>\n                                                    )\n                                                })}\n                                            </Select>\n                                        }\n                                    </FormControl>\n                                </Grid>\n                                <Grid item xs={3}>\n                                    <FormControl fullWidth component={'fieldset'}>\n                                        <TextField label=\"Section ID *\"\n                                                   error={sectionIDExist}\n                                                   helperText={sectionIDExist ? \"Already Exist\" : \"\"}\n                                                   onChange={handleSectionID}\n                                                   value={sectionID}\n                                                   size={'small'}\n                                                   variant={'outlined'}\n                                        />\n                                    </FormControl>\n                                </Grid>\n                                <Grid item xs={2}>\n                                    <FormControl fullWidth component={'fieldset'}>\n                                        <TextField label=\"Order\"\n                                                   inputProps={{ min: 1, max: state.type ==='webPage' ? state?.page?.sections?.length + 1 : state?.email?.body?.length + 1}}\n                                                   onChange={(e) => setSectionOrder(e.target.value)}\n                                                   value={sectionOrder}\n                                                   size={'small'}\n                                                   variant={'outlined'}\n                                                   type={'number'}\n                                        />\n                                    </FormControl>\n                                </Grid>\n                            </Grid>\n                            {\n                                hasSectionTitle &&\n                                <Grid container={true}>\n                                    <Grid item={true} xs={12}>\n                                        <FroalaEditor tag=\"textarea\"\n                                                      config={config}\n                                                      model={sectionTitle}\n                                                      onModelChange={(model) => setLocalState(prevState => ({\n                                                          ...prevState,\n                                                          sectionTitle: model\n                                                      }))}/>\n                                    </Grid>\n                                </Grid>\n                            }\n                        </>\n                    )\n                }\n                {\n                    sectionComponents.map((value, index) => {\n                        return (index === activeStep - 1) ? value : null;\n                    })\n                }\n                <Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"flex-start\">\n                    <div className={classes.actionButtons}>\n                        {/*{*/}\n                        {/*    activeStep !== 0 &&*/}\n                        {/*    <Button*/}\n                        {/*        onClick={handleBackSection}*/}\n                        {/*        variant=\"contained\"*/}\n                        {/*        size=\"small\"*/}\n                        {/*        aria-label=\"add\"*/}\n                        {/*        className={classes.actionButton}*/}\n                        {/*    >*/}\n                        {/*        BACK*/}\n                        {/*    </Button>*/}\n                        {/*}*/}\n                        {\n                            activeStep !== steps.length - 1 &&\n                            <Button\n                                onClick={handleSaveComponent}\n                                variant=\"contained\"\n                                size=\"small\"\n                                color=\"primary\"\n                                aria-label=\"add\"\n                                className={classes.actionButton}\n                                disabled={isNextDisabled}\n                            >\n                                NEXT\n                            </Button>\n                        }\n                    </div>\n                </Grid>\n            </Container>\n        </React.Fragment>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        state: state.formReducer.pageBuilder\n    }\n};\n\nconst mapDispatchToProps = dispatch => ({\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Section)\n"]},"metadata":{},"sourceType":"module"}