{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderStepper.js\",\n    _s = $RefreshSig$(),\n    _this = this,\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\n//imports from react\nimport React, { useEffect, useState, useContext } from 'react'; //redux imports\n\nimport { connect } from 'react-redux';\nimport { pushToState as _pushToState, deleteFromState as _deleteFromState, setToState as _setToState, updateState as _updateState } from '../../state/actions'; //material imports\n\nimport { makeStyles, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepConnector from '@material-ui/core/StepConnector';\nimport FormControl from '@material-ui/core/FormControl';\nimport WebAssetIcon from '@material-ui/icons/WebAsset';\nimport WebIcon from '@material-ui/icons/Web';\nimport EmailIcon from '@material-ui/icons/Email';\nimport HomeIcon from '@material-ui/icons/Home';\nimport BrushIcon from '@material-ui/icons/Brush';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport HelpIcon from '@material-ui/icons/Help';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport clsx from 'clsx'; //custom components imports\n\nimport Page from './PageBuilderSteps/steps/webpage/Page';\nimport Style from './PageBuilderSteps/steps/assets/Style';\nimport Asset from './PageBuilderSteps/steps/assets/Asset';\nimport Final from './PageBuilderSteps/steps/webpage/Final';\nimport Preview from './PageBuilderSteps/steps/webpage/Preview';\nimport Home from './PageBuilderSteps/steps/home/Home';\nimport WebsitePage from './PageBuilderSteps/steps/website/Page';\nimport WebsitePreview from './PageBuilderSteps/steps/website/Preview';\nimport WebsiteFinal from './PageBuilderSteps/steps/website/Final';\nimport EmailDesign from './PageBuilderSteps/steps/email/EmailDesign';\nimport EmailPreview from './PageBuilderSteps/steps/email/EmailPreview';\nimport EmailSave from './PageBuilderSteps/steps/email/EmailSave';\nimport LoadingSpinner from '../LoadingSpinner';\nimport GenericSlider from './PageBuilderSteps/components/slider';\nimport FAQDesign from './PageBuilderSteps/steps/faq/FaqDesign';\nimport FAQPreview from './PageBuilderSteps/steps/faq/FAQPreview';\nimport FAQSave from './PageBuilderSteps/steps/faq/FAQSave'; // imports for toaster\n\nimport { ToastContainer, toast } from 'react-toastify'; //constants imports\n\nimport { COLORS, SAVED_SUCCESS, PB_OPTIONS } from './PageBuilderSteps/constants/index';\nimport WebCmsGlobal from 'components/webcms-global';\nimport { isErrorMsg, OREST_ENDPOINT } from '../../model/orest/constants';\nimport { ViewList, Insert, Patch, UseOrest } from '@webcms/orest';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport RedirectsEditor from '../redirects';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    actionButtons: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      marginTop: theme.spacing(2)\n    },\n    actionButton: {\n      borderRadius: 20,\n      marginBottom: 16,\n      backgroundColor: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n    },\n    newButton: {\n      marginTop: theme.spacing(2),\n      \"float\": 'right',\n      backgroundColor: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n    },\n    assetButton: {\n      borderRadius: 20,\n      \"float\": 'right',\n      marginTop: theme.spacing(2),\n      marginRight: theme.spacing(1) // backgroundColor: COLORS.secondary\n\n    },\n    backButton: {\n      borderRadius: 20,\n      marginBottom: 16\n    },\n    disabled: {\n      pointerEvents: 'none',\n      opacity: 0.5\n    }\n  };\n});\nvar theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n      dark: COLORS === null || COLORS === void 0 ? void 0 : COLORS.primary,\n      light: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n      contrastText: 'white'\n    }\n  }\n});\nvar useColorStepIconStyle = makeStyles(function () {\n  return {\n    root: {\n      backgroundColor: '#ccc',\n      zIndex: 1,\n      color: '#fff',\n      width: 65,\n      height: 65,\n      display: 'flex',\n      borderRadius: '50%',\n      justifyContent: 'center',\n      alignItems: 'center',\n      '& img': {\n        width: 35\n      }\n    },\n    iconSize: {\n      height: 50,\n      width: 50\n    },\n    active: {\n      backgroundColor: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n      boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n    },\n    completed: {\n      backgroundColor: COLORS === null || COLORS === void 0 ? void 0 : COLORS.primary,\n      color: '#fff'\n    }\n  };\n});\nvar ColorlibConnector = withStyles({\n  alternativeLabel: {\n    top: 30,\n    left: 'calc(-50% + 10px)',\n    right: 'calc(50% + 10px)'\n  },\n  active: {\n    '& $line': {\n      background: 'transparent linear-gradient(270deg, #269DD4 0%, #0F4571 100%) 0% 0% no-repeat padding-box'\n    }\n  },\n  completed: {\n    '& $line': {\n      backgroundColor: COLORS.primary\n    }\n  },\n  line: {\n    height: 4,\n    border: 0,\n    backgroundColor: '#eaeaf0',\n    borderRadius: 1\n  }\n})(StepConnector);\n\nfunction getStepsIcons(step, isActive, isCompleted, pageBuilderType) {\n  _s();\n\n  var _clsx;\n\n  var icon_classes = useColorStepIconStyle();\n  var icons = {};\n\n  switch (pageBuilderType) {\n    case 'webPage':\n      icons = {\n        0: __jsx(HomeIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(MenuBookIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 20\n          }\n        }),\n        2: __jsx(VisibilityIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'website':\n      icons = {\n        0: __jsx(HomeIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(WebIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 20\n          }\n        }),\n        2: __jsx(VisibilityIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'email':\n      icons = {\n        0: __jsx(HomeIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(EmailIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 20\n          }\n        }),\n        2: __jsx(VisibilityIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'faqOnly':\n      icons = {\n        0: __jsx(HelpIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(VisibilityIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'assets':\n      icons = {\n        0: __jsx(HomeIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(BrushIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 20\n          }\n        }),\n        2: __jsx(WebAssetIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    case 'assetOnly':\n      icons = {\n        0: __jsx(BrushIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 20\n          }\n        }),\n        1: __jsx(WebAssetIcon, {\n          className: icon_classes.iconSize,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 20\n          }\n        })\n      };\n      break;\n\n    default:\n      return icons;\n  }\n\n  return __jsx(\"div\", {\n    className: clsx(icon_classes.root, (_clsx = {}, _defineProperty(_clsx, icon_classes.active, isActive), _defineProperty(_clsx, icon_classes.completed, isCompleted), _clsx)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, icons[step]);\n}\n\n_s(getStepsIcons, \"8QtFB1Loh2LoGFxabbnFhEJpa34=\", false, function () {\n  return [useColorStepIconStyle];\n});\n\nvar PageBuilderStepper = function PageBuilderStepper(props) {\n  _s2();\n\n  var _router$query, _router$query9, _router$query10, _router$query11, _router$query12, _router$query13, _router$query14, _clsx2, _router$query15, _router$query16, _router$query17;\n\n  var state = props.state,\n      updateState = props.updateState,\n      deleteFromState = props.deleteFromState,\n      pushToState = props.pushToState;\n  var classes = useStyles(); //local state\n\n  var _useState = useState(''),\n      renderFinal = _useState[0],\n      setRenderFinal = _useState[1];\n\n  var _useState2 = useState(''),\n      pageBuilderType = _useState2[0],\n      setPageBuilderType = _useState2[1];\n\n  var _useState3 = useState(false),\n      isWebPageSelected = _useState3[0],\n      setWebPageSelected = _useState3[1];\n\n  var _useState4 = useState(false),\n      isWebsiteSelected = _useState4[0],\n      setWebsiteSelected = _useState4[1];\n\n  var _useState5 = useState(false),\n      isEmailSelected = _useState5[0],\n      setEmailSelected = _useState5[1];\n\n  var _useState6 = useState(false),\n      isLoaded = _useState6[0],\n      setIsLoaded = _useState6[1];\n\n  var _useState7 = useState(false),\n      isRequestSend = _useState7[0],\n      setRequestSend = _useState7[1];\n\n  var _useState8 = useState(''),\n      url = _useState8[0],\n      setUrl = _useState8[1];\n\n  var _useState9 = useState(false),\n      openRedirectEditor = _useState9[0],\n      setOpenRedirectEditor = _useState9[1];\n\n  var steps = state.steps;\n  var pageStep = state.pageStep;\n  var emptyPage = {\n    id: '',\n    sections: []\n  };\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS,\n      token = _useContext.token;\n\n  var router = useRouter();\n  var companyId = router === null || router === void 0 ? void 0 : (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.companyID;\n  var authToken = token || router.query.authToken;\n  useEffect(function () {\n    var _router$query2;\n\n    //setting url\n    if (window && window.location && window.location.port) {\n      setUrl(\"\".concat(window.location.protocol, \"//\").concat(window.location.hostname, \":\").concat(window.location.port));\n    } else {\n      setUrl(\"\".concat(window.location.protocol, \"//\").concat(window.location.hostname));\n    }\n\n    if (router !== null && router !== void 0 && (_router$query2 = router.query) !== null && _router$query2 !== void 0 && _router$query2.emailOnly) {\n      updateState('pageBuilder', 'previousStep', 0);\n      updateState('pageBuilder', 'pageStep', 1);\n    }\n  }, []);\n  useEffect(function () {\n    setRequestSend(true);\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RAFILE,\n      token: authToken,\n      params: {\n        query: \"code:HCMASSET\",\n        hotelrefno: Number(companyId)\n      }\n    }).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n        var _assetsData$colors, assetsData, assets, images, icons;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setRequestSend(false);\n\n                if (!(res.data && res.data.data && res.data.data.length > 0)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                assetsData = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n\n                if (!(assetsData !== null && assetsData !== void 0 && (_assetsData$colors = assetsData.colors) !== null && _assetsData$colors !== void 0 && _assetsData$colors.slider)) {\n                  assetsData.colors['slider'] = {\n                    main: '',\n                    light: '',\n                    dark: '',\n                    contrastText: ''\n                  };\n                }\n\n                if (!(assetsData !== null && assetsData !== void 0 && assetsData.icons)) {\n                  assetsData['icons'] = {\n                    phone: '',\n                    email: '',\n                    facebook: '',\n                    twitter: '',\n                    instagram: '',\n                    linkedin: ''\n                  };\n                }\n\n                updateState('pageBuilder', 'assets', assetsData);\n                _context.next = 8;\n                return handleAssetLogoUrlChange(JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8')));\n\n              case 8:\n                assets = _context.sent;\n                images = assets === null || assets === void 0 ? void 0 : assets.images;\n                icons = assets === null || assets === void 0 ? void 0 : assets.icons;\n\n                if (Object.keys(images).length > 0) {\n                  updateState('pageBuilder', 'logoUrl', images === null || images === void 0 ? void 0 : images.logo);\n                  updateState('pageBuilder', 'altLogoUrl', images === null || images === void 0 ? void 0 : images.altLogo);\n                  updateState('pageBuilder', 'logoBanner', images === null || images === void 0 ? void 0 : images.logoBanner);\n                  updateState('pageBuilder', 'faviconUrl', images === null || images === void 0 ? void 0 : images.favIcon);\n                  updateState('pageBuilder', 'backgroundUrl', images === null || images === void 0 ? void 0 : images.background);\n                  updateState('pageBuilder', 'poweredByUrl', images === null || images === void 0 ? void 0 : images.poweredBy);\n                  updateState('pageBuilder', 'thumbnailUrl', images === null || images === void 0 ? void 0 : images.thumbnail);\n                }\n\n                if (icons && Object.keys(icons).length > 0) {\n                  updateState('pageBuilder', 'phoneIconUrl', icons === null || icons === void 0 ? void 0 : icons.phone);\n                  updateState('pageBuilder', 'emailIconUrl', icons === null || icons === void 0 ? void 0 : icons.email);\n                  updateState('pageBuilder', 'facebookIconUrl', icons === null || icons === void 0 ? void 0 : icons.facebook);\n                  updateState('pageBuilder', 'twitterIconUrl', icons === null || icons === void 0 ? void 0 : icons.twitter);\n                  updateState('pageBuilder', 'instagramIconUrl', icons === null || icons === void 0 ? void 0 : icons.instagram);\n                  updateState('pageBuilder', 'linkedinIconUrl', icons === null || icons === void 0 ? void 0 : icons.linkedin);\n                }\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.INFO + '/' + OREST_ENDPOINT.LOGIN,\n      token: authToken,\n      method: 'get'\n    }).then(function (res) {\n      if (res.status === 200 && res.data && res.data.data && res.data.data.hotelmid) {\n        updateState('pageBuilder', 'hotelMid', res.data.data.hotelmid);\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    }); //for default language\n\n    UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: 'sett/lang/local',\n      token: authToken,\n      method: 'get'\n    }).then(function (res) {\n      if (res.status === 200 && res.data && res.data.success && res.data.data) {\n        var _res$data, _res$data$data, _res$data2, _res$data2$data;\n\n        if (res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && (_res$data$data = _res$data.data) !== null && _res$data$data !== void 0 && _res$data$data.code && res !== null && res !== void 0 && (_res$data2 = res.data) !== null && _res$data2 !== void 0 && (_res$data2$data = _res$data2.data) !== null && _res$data2$data !== void 0 && _res$data2$data.id) {\n          var _res$data$data2, _res$data$data2$code, _res$data$data3;\n\n          updateState('pageBuilder', 'defaultLang', (_res$data$data2 = res.data.data) === null || _res$data$data2 === void 0 ? void 0 : (_res$data$data2$code = _res$data$data2.code) === null || _res$data$data2$code === void 0 ? void 0 : _res$data$data2$code.toLowerCase());\n          updateState('pageBuilder', 'defaultLangId', (_res$data$data3 = res.data.data) === null || _res$data$data3 === void 0 ? void 0 : _res$data$data3.id);\n        } else toast.error('Default language is not set yet!', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    }); //request for logininfo to get super hotel\n\n    UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: 'info/login',\n      token: authToken,\n      method: 'get'\n    }).then(function (res) {\n      var _res$data3;\n\n      if ((res === null || res === void 0 ? void 0 : res.status) === 200 && res !== null && res !== void 0 && (_res$data3 = res.data) !== null && _res$data3 !== void 0 && _res$data3.data) {\n        var _res$data$data4, _res$data$data5;\n\n        updateState('pageBuilder', 'isSuperHotel', (_res$data$data4 = res.data.data) === null || _res$data$data4 === void 0 ? void 0 : _res$data$data4.issuperhotel);\n        updateState('pageBuilder', 'isSuperUser', (_res$data$data5 = res.data.data) === null || _res$data$data5 === void 0 ? void 0 : _res$data$data5.issuperuser);\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n  }, []);\n  useEffect(function () {\n    // getting languages from service\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RALANG,\n      token: authToken,\n      params: {\n        hotelrefno: Number(companyId)\n      }\n    }).then(function (res) {\n      var _res$data4, _res$data4$data;\n\n      if ((res === null || res === void 0 ? void 0 : res.status) === 200 && (res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$data = _res$data4.data) === null || _res$data4$data === void 0 ? void 0 : _res$data4$data.length) > 0) {\n        res.data.data.map(function (lang) {\n          var _lang$code;\n\n          pushToState('pageBuilder', ['languages'], [{\n            id: lang === null || lang === void 0 ? void 0 : lang.id,\n            code: lang === null || lang === void 0 ? void 0 : (_lang$code = lang.code) === null || _lang$code === void 0 ? void 0 : _lang$code.toLowerCase(),\n            description: lang === null || lang === void 0 ? void 0 : lang.description\n          }]);\n\n          if (lang.code.toLowerCase() === state.defaultLang) {\n            updateState('pageBuilder', 'langId', lang.id);\n            updateState('pageBuilder', 'langCode', lang.code.toLowerCase());\n          }\n        });\n      }\n    });\n  }, [state.defaultLang]);\n  useEffect(function () {\n    if (pageStep === 0) {\n      var _router$query3, _router$query4, _router$query5, _router$query6;\n\n      if (router !== null && router !== void 0 && (_router$query3 = router.query) !== null && _router$query3 !== void 0 && _router$query3.sliderOnly) {\n        updateState('pageBuilder', 'type', 'generic-slider');\n      } else if (router !== null && router !== void 0 && (_router$query4 = router.query) !== null && _router$query4 !== void 0 && _router$query4.emailOnly) {\n        updateState('pageBuilder', 'type', 'emailOnly');\n        setPageBuilderType('email');\n      } else if (router !== null && router !== void 0 && (_router$query5 = router.query) !== null && _router$query5 !== void 0 && _router$query5.assetOnly) {\n        updateState('pageBuilder', 'type', 'assetOnly');\n        setPageBuilderType('assetOnly');\n      } else if (router !== null && router !== void 0 && (_router$query6 = router.query) !== null && _router$query6 !== void 0 && _router$query6.faqOnly) {\n        updateState('pageBuilder', 'type', 'faqOnly');\n        setPageBuilderType('faqOnly');\n      } else {\n        updateState('pageBuilder', 'type', 'webPage');\n        setPageBuilderType('webPage');\n      }\n    }\n  }, [pageStep]);\n  useEffect(function () {\n    setIsLoaded(true);\n    resetSteps(pageBuilderType);\n    setSteps(pageBuilderType);\n  }, [pageBuilderType]);\n\n  var resetSteps = function resetSteps() {\n    var steps = [2, 1, 0];\n    steps.map(function (index) {\n      return deleteFromState('pageBuilder', ['steps'], [index, 1]);\n    });\n  };\n\n  var setSteps = function setSteps(pageBuilderType) {\n    switch (pageBuilderType) {\n      case 'webPage':\n        var webPageSteps = ['Home', 'Page', 'Preview'];\n        webPageSteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      case 'email':\n        var emailSteps = ['Home', 'Design', 'Preview'];\n        emailSteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      case 'website':\n        var websiteSteps = ['Home', 'Design', 'Preview'];\n        websiteSteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      case 'assets':\n        var assetSteps = ['Home', 'Style', 'Assets'];\n        assetSteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      case 'assetOnly':\n        var assetOnlySteps = ['Style', 'Assets'];\n        assetOnlySteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      case 'faq':\n        var faqSteps = ['Home', \"FAQ's\", 'Preview'];\n        faqSteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      case 'faqOnly':\n        var faqOnlySteps = ['Design', 'Preview'];\n        faqOnlySteps.map(function (element) {\n          pushToState('pageBuilder', ['steps'], [element]);\n        });\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  var handleNext = function handleNext() {\n    if (pageStep === steps.length - 1) {\n      handleSave();\n    } else {\n      updateState('pageBuilder', 'previousStep', pageStep);\n      updateState('pageBuilder', 'pageStep', pageStep + 1);\n    }\n  };\n\n  var handleBack = function handleBack() {\n    updateState('pageBuilder', 'previousStep', pageStep);\n    updateState('pageBuilder', 'pageStep', pageStep - 1);\n  };\n\n  var handleNextDisable = function handleNextDisable() {\n    switch (state.type) {\n      case 'assets':\n        if (pageStep === 1) {\n          var colors = hasColors();\n          if (colors) return false;else return true;\n        } else if (pageStep === 2) {\n          var assets = hasAssets();\n          if (assets) return false;else return true;\n        }\n\n      case 'webPage':\n        if (pageStep === 0) {\n          if (isWebPageSelected) {\n            return false;\n          } else {\n            return true;\n          }\n        } else if (pageStep === 1) {\n          if (state.page.sections.length === 0) {\n            return true;\n          } else {\n            return false;\n          }\n        } else {\n          return false;\n        }\n\n      case 'email':\n        if (pageStep === 0) {\n          if (isEmailSelected) return false;else return true;\n        }\n\n        if (pageStep === 1) {\n          if (state.email.body.length === 0) return true;else return false;\n        }\n\n        return false;\n\n      case 'emailOnly':\n        if (pageStep === 1) {\n          if (state.email.body.length === 0) return true;else return false;\n        }\n\n        return false;\n\n      case 'website':\n        if (pageStep === 0) {\n          if (isWebsiteSelected) return false;else return true;\n        }\n\n        if (pageStep === 1) {\n          if (state.footerOnly) {\n            if (Object.keys(state.website.footer).length === 0) return true;else return false;\n          } else {\n            if (Object.keys(state.website.header).length === 0 || Object.keys(state.website.footer).length === 0 || state.website.pages.length === 0) return true;else return false;\n          }\n        }\n\n        return false;\n\n      case 'faqOnly':\n        if (state.faq.length > 0) return false;else return true;\n\n      default:\n        return;\n    }\n  };\n\n  var hasColors = function hasColors() {\n    for (var color in state === null || state === void 0 ? void 0 : (_state$assets = state.assets) === null || _state$assets === void 0 ? void 0 : _state$assets.colors) {\n      var _state$assets;\n\n      for (var type in state === null || state === void 0 ? void 0 : (_state$assets2 = state.assets) === null || _state$assets2 === void 0 ? void 0 : _state$assets2.colors[color]) {\n        var _state$assets2, _state$assets3;\n\n        if (!(state !== null && state !== void 0 && (_state$assets3 = state.assets) !== null && _state$assets3 !== void 0 && _state$assets3.colors[color][type])) return false;\n      }\n    }\n\n    return true;\n  };\n\n  var hasAssets = function hasAssets() {\n    var _state$assets4, _state$assets4$meta;\n\n    console.log(state.assets.images);\n    if (!(state !== null && state !== void 0 && (_state$assets4 = state.assets) !== null && _state$assets4 !== void 0 && (_state$assets4$meta = _state$assets4.meta) !== null && _state$assets4$meta !== void 0 && _state$assets4$meta.title)) return false;\n\n    for (var img in state === null || state === void 0 ? void 0 : (_state$assets5 = state.assets) === null || _state$assets5 === void 0 ? void 0 : _state$assets5.images) {\n      var _state$assets5, _state$assets6;\n\n      if (!(state !== null && state !== void 0 && (_state$assets6 = state.assets) !== null && _state$assets6 !== void 0 && _state$assets6.images[img])) return false;\n    }\n\n    return true;\n  };\n\n  var setPageBuilderType_ = function setPageBuilderType_(value) {\n    setPageBuilderType(value);\n    updateState('pageBuilder', 'type', value);\n    updateState('pageBuilder', 'code', '');\n\n    if (value === 'webPage') {\n      updateState('pageBuilder', 'page', emptyPage);\n    } else if (value === 'website') {\n      var website = {\n        header: {},\n        footer: {},\n        pages: []\n      };\n      updateState('pageBuilder', 'website', website);\n    } else if (value === 'email') {\n      var emptyEmail = {\n        header: {},\n        footer: {},\n        body: []\n      };\n      updateState('pageBuilder', 'email', emptyEmail);\n    }\n  };\n\n  var handleNew = function handleNew() {\n    updateState('pageBuilder', 'langCode', state.defaultLang);\n    updateState('pageBuilder', 'langsFile', {});\n    updateState('pageBuilder', 'isTemplate', false);\n    updateState('pageBuilder', 'previousStep', pageStep);\n    updateState('pageBuilder', 'pageStep', pageStep + 1);\n\n    if (pageBuilderType === 'webPage') {\n      updateState('pageBuilder', 'code', 'NEW PAGE');\n      updateState('pageBuilder', 'page', emptyPage);\n      setWebPageSelected(false);\n    }\n\n    if (pageBuilderType === 'website') {\n      var website = {\n        header: {},\n        footer: {},\n        pages: []\n      };\n      updateState('pageBuilder', 'code', 'NEW WEBSITE');\n      updateState('pageBuilder', 'footerOnly', false);\n      updateState('pageBuilder', 'website', website);\n      setWebsiteSelected(false);\n    }\n\n    if (pageBuilderType === 'email') {\n      var email = {\n        header: {},\n        footer: {},\n        body: []\n      };\n      updateState('pageBuilder', 'email', email);\n      updateState('pageBuilder', 'code', 'NEW EMAIL');\n      setEmailSelected(false);\n    }\n  };\n\n  var resetFinal = function resetFinal() {\n    setRenderFinal('');\n  };\n\n  var handleSave = function handleSave() {\n    if (state.type === 'assets' || state.type === 'assetOnly') {\n      handleSaveAssets();\n    } else if (state.type === 'webPage') {\n      setRenderFinal(__jsx(Final, {\n        isWebPageSelected: isWebPageSelected,\n        dialogTitle: 'Save',\n        resetFinal: resetFinal,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 28\n        }\n      }));\n    } else if (state.type === 'website') {\n      setRenderFinal(__jsx(WebsiteFinal, {\n        isWebsiteSelected: isWebsiteSelected,\n        dialogTitle: 'Save',\n        resetFinal: resetFinal,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 17\n        }\n      }));\n    } else if (state.type === 'email') {\n      setRenderFinal(__jsx(EmailSave, {\n        dialogTitle: 'Save',\n        resetFinal: resetFinal,\n        isEmailSelected: isEmailSelected,\n        onSelectEmail: onSelectEmail,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 17\n        }\n      }));\n    } else if (state.type === 'emailOnly') {\n      if (isEmailSelected) {\n        setRenderFinal(__jsx(EmailSave, {\n          dialogTitle: 'Save',\n          resetFinal: resetFinal,\n          isEmailSelected: !isEmailSelected,\n          onSelectEmail: onSelectEmail,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 21\n          }\n        }));\n      } else {\n        var _router$query7;\n\n        if (router !== null && router !== void 0 && (_router$query7 = router.query) !== null && _router$query7 !== void 0 && _router$query7.masterid) {\n          var _router$query8;\n\n          ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            params: {\n              hotelrefno: Number(companyId),\n              query: \"masterid::\".concat(router === null || router === void 0 ? void 0 : (_router$query8 = router.query) === null || _router$query8 === void 0 ? void 0 : _router$query8.masterid, \",filetype::PB-EMAIL\")\n            }\n          }).then(function (res) {\n            if ((res === null || res === void 0 ? void 0 : res.status) === 200 && res !== null && res !== void 0 && res.data) {\n              var _res$data5, _res$data5$data;\n\n              if ((res === null || res === void 0 ? void 0 : (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : (_res$data5$data = _res$data5.data) === null || _res$data5$data === void 0 ? void 0 : _res$data5$data.length) > 0) {\n                setRenderFinal(__jsx(EmailSave, {\n                  dialogTitle: 'Save',\n                  resetFinal: resetFinal,\n                  isEmailSelected: true,\n                  onSelectEmail: onSelectEmail,\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 37\n                  }\n                }));\n              } else {\n                setRenderFinal(__jsx(EmailSave, {\n                  dialogTitle: 'Save',\n                  resetFinal: resetFinal,\n                  isEmailSelected: false,\n                  onSelectEmail: onSelectEmail,\n                  __self: _this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 37\n                  }\n                }));\n              }\n            } else {\n              var retErr = isErrorMsg(res);\n              toast.error(retErr.errorMsg, {\n                position: toast.POSITION.TOP_RIGHT\n              });\n            }\n          });\n        }\n      }\n    } else if (state.type === 'faqOnly') {\n      setRenderFinal(__jsx(FAQSave, {\n        resetFinal: resetFinal,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 28\n        }\n      }));\n    }\n  };\n\n  var handleSaveAssets = function handleSaveAssets() {\n    setRequestSend(true);\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RAFILE,\n      token: authToken,\n      params: {\n        query: \"code:HCMASSET\",\n        hotelrefno: Number(companyId)\n      }\n    }).then(function (res1) {\n      if (res1.data && res1.data.data && res1.data.data.length === 0) {\n        Insert({\n          // insert header into rafile\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.RAFILE,\n          token: authToken,\n          data: {\n            code: \"HCMASSET\",\n            masterid: GENERAL_SETTINGS.HOTELMID,\n            filename: 'HCMASSET',\n            filetype: 'HCMASSET',\n            filedata: Buffer.from(JSON.stringify(state === null || state === void 0 ? void 0 : state.assets)).toString('base64'),\n            isorsactive: true,\n            hotelrefno: Number(companyId)\n          }\n        }).then( /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res2) {\n            var redisStdJson;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    setRequestSend(false);\n\n                    if (!(res2.status === 200 && res2.data.data)) {\n                      _context2.next = 9;\n                      break;\n                    }\n\n                    redisStdJson = state.redisStdJson;\n                    _context2.next = 5;\n                    return handleAssetLogoUrlChange(JSON.parse(Buffer.from(res2.data.data.filedata, 'base64').toString('utf-8')));\n\n                  case 5:\n                    redisStdJson.assets = _context2.sent;\n                    toast.success(SAVED_SUCCESS, {\n                      position: toast.POSITION.TOP_RIGHT\n                    });\n                    updateState('pageBuilder', 'previousStep', 0);\n                    updateState('pageBuilder', 'pageStep', 0);\n\n                  case 9:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          return function (_x2) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      } else {\n        Patch({\n          // update header into rafile\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.RAFILE,\n          token: authToken,\n          gid: res1.data.data[0].gid,\n          params: {\n            hotelrefno: Number(companyId)\n          },\n          data: {\n            filedata: Buffer.from(JSON.stringify(state === null || state === void 0 ? void 0 : state.assets)).toString('base64'),\n            isorsactive: true,\n            hotelrefno: Number(companyId)\n          }\n        }).then( /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res2) {\n            var redisStdJson;\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    setRequestSend(false);\n\n                    if (!(res2.status === 200 && res2.data.data)) {\n                      _context3.next = 9;\n                      break;\n                    }\n\n                    redisStdJson = state.redisStdJson;\n                    _context3.next = 5;\n                    return handleAssetLogoUrlChange(JSON.parse(Buffer.from(res2.data.data.filedata, 'base64').toString('utf-8')));\n\n                  case 5:\n                    redisStdJson.assets = _context3.sent;\n                    toast.success(SAVED_SUCCESS, {\n                      position: toast.POSITION.TOP_RIGHT\n                    });\n                    updateState('pageBuilder', 'previousStep', 0);\n                    updateState('pageBuilder', 'pageStep', 0);\n\n                  case 9:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          return function (_x3) {\n            return _ref3.apply(this, arguments);\n          };\n        }());\n      }\n    });\n  };\n\n  var handleAssetLogoUrlChange = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(assets) {\n      var images, icons, logo, _image$url, REQUEST_OPTIONS, image, _url, icon, _image$url2, _REQUEST_OPTIONS, _image, _url2;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setRequestSend(true);\n              images = assets === null || assets === void 0 ? void 0 : assets.images;\n              icons = assets === null || assets === void 0 ? void 0 : assets.icons;\n              _context4.t0 = _regeneratorRuntime.keys(images);\n\n            case 4:\n              if ((_context4.t1 = _context4.t0()).done) {\n                _context4.next = 15;\n                break;\n              }\n\n              logo = _context4.t1.value;\n\n              if (!images[logo]) {\n                _context4.next = 13;\n                break;\n              }\n\n              REQUEST_OPTIONS = {\n                url: GENERAL_SETTINGS.OREST_URL + '/rafile/view/list',\n                method: 'get',\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  query: 'gid::' + images[logo],\n                  hotelrefno: Number(companyId)\n                }\n              };\n              _context4.next = 10;\n              return getImageData(REQUEST_OPTIONS);\n\n            case 10:\n              image = _context4.sent;\n              _url = image === null || image === void 0 ? void 0 : (_image$url = image.url) === null || _image$url === void 0 ? void 0 : _image$url.replace('/var/otello', '').replace('/public', '');\n              assets.images[logo] = _url;\n\n            case 13:\n              _context4.next = 4;\n              break;\n\n            case 15:\n              _context4.t2 = _regeneratorRuntime.keys(icons);\n\n            case 16:\n              if ((_context4.t3 = _context4.t2()).done) {\n                _context4.next = 27;\n                break;\n              }\n\n              icon = _context4.t3.value;\n\n              if (!icons[icon]) {\n                _context4.next = 25;\n                break;\n              }\n\n              _REQUEST_OPTIONS = {\n                url: GENERAL_SETTINGS.OREST_URL + '/rafile/view/list',\n                method: 'get',\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  query: 'gid::' + icons[icon],\n                  hotelrefno: Number(companyId)\n                }\n              };\n              _context4.next = 22;\n              return getImageData(_REQUEST_OPTIONS);\n\n            case 22:\n              _image = _context4.sent;\n              _url2 = _image === null || _image === void 0 ? void 0 : (_image$url2 = _image.url) === null || _image$url2 === void 0 ? void 0 : _image$url2.replace('/var/otello', '').replace('/public', '');\n              assets.icons[icon] = _url2;\n\n            case 25:\n              _context4.next = 16;\n              break;\n\n            case 27:\n              setRequestSend(false);\n              return _context4.abrupt(\"return\", assets);\n\n            case 29:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleAssetLogoUrlChange(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var getImageData = function getImageData(option) {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(resv) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return axios(option).then( /*#__PURE__*/function () {\n                  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(response) {\n                    var _response$data, _response$data$data, retErr;\n\n                    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            if (response.status === 200) {\n                              if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.length) > 0) {\n                                resv(response.data.data[0]);\n                              } else {\n                                resv(null);\n                              }\n                            } else {\n                              retErr = isErrorMsg(response);\n                              toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                              });\n                              resv(null);\n                            }\n\n                          case 1:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function (_x6) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }())[\"catch\"](function (error) {\n                  console.log(error);\n                  resv(error.response || {\n                    status: 0\n                  });\n                });\n\n              case 2:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n  };\n\n  var onSelectPage = function onSelectPage(isSelected) {\n    setWebPageSelected(isSelected);\n  };\n\n  var handleAssets = function handleAssets() {\n    var website = {\n      header: {},\n      footer: {},\n      pages: []\n    };\n    setPageBuilderType_('assets');\n    updateState('pageBuilder', 'code', '');\n    updateState('pageBuilder', 'page', emptyPage);\n    updateState('pageBuilder', 'website', website);\n    updateState('pageBuilder', 'previousStep', pageStep);\n    updateState('pageBuilder', 'pageStep', pageStep + 1);\n  };\n\n  var onSelectWebsite = function onSelectWebsite(isSelected) {\n    setWebsiteSelected(isSelected);\n  };\n\n  var onSelectEmail = function onSelectEmail(isSelected) {\n    setEmailSelected(isSelected);\n  };\n\n  var handleClearCache = function handleClearCache() {\n    // clear cache from redis\n    setRequestSend(true);\n    axios.get(url + '/?clearall=true').then(function (res) {\n      setRequestSend(false);\n\n      if (res.status === 200) {\n        toast.success('Cache cleared', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      } else {\n        toast.error('The is no data available', {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n  };\n\n  if (!isLoaded) {\n    return __jsx(LoadingSpinner, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 911,\n      columnNumber: 9\n    }\n  }, __jsx(MuiThemeProvider, {\n    theme: theme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 912,\n      columnNumber: 13\n    }\n  }, __jsx(Typography, {\n    component: 'div',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 17\n    }\n  }, (router === null || router === void 0 ? void 0 : (_router$query9 = router.query) === null || _router$query9 === void 0 ? void 0 : _router$query9.sliderOnly) && __jsx(GenericSlider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 914,\n      columnNumber: 51\n    }\n  }), steps && steps.length > 0 && __jsx(Stepper, {\n    activeStep: pageStep,\n    alternativeLabel: true,\n    connector: __jsx(ColorlibConnector, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 84\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 25\n    }\n  }, steps.map(function (label, index) {\n    return __jsx(Step, {\n      key: \"step-\".concat(index),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 37\n      }\n    }, __jsx(StepLabel, {\n      color: \"secondary\",\n      StepIconComponent: function StepIconComponent() {\n        return getStepsIcons(index, pageStep === index, pageStep > index, pageBuilderType);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 920,\n        columnNumber: 41\n      }\n    }, label));\n  })), pageStep === 0 && !(router !== null && router !== void 0 && (_router$query10 = router.query) !== null && _router$query10 !== void 0 && _router$query10.sliderOnly) && !(router !== null && router !== void 0 && (_router$query11 = router.query) !== null && _router$query11 !== void 0 && _router$query11.assetOnly) && !(router !== null && router !== void 0 && (_router$query12 = router.query) !== null && _router$query12 !== void 0 && _router$query12.faqOnly) && __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 942,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 943,\n      columnNumber: 33\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 944,\n      columnNumber: 37\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 945,\n      columnNumber: 41\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 946,\n      columnNumber: 45\n    }\n  }, __jsx(FormControl, {\n    variant: \"outlined\",\n    style: {\n      marginTop: 16\n    },\n    disabled: router === null || router === void 0 ? void 0 : (_router$query13 = router.query) === null || _router$query13 === void 0 ? void 0 : _router$query13.emailOnly,\n    size: 'small',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 947,\n      columnNumber: 49\n    }\n  }, __jsx(Select, {\n    value: pageBuilderType,\n    onChange: function onChange(e) {\n      return setPageBuilderType_(e.target.value);\n    },\n    label: \"Select PB Options\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 953,\n      columnNumber: 53\n    }\n  }, PB_OPTIONS.map(function (option, index) {\n    return __jsx(MenuItem, {\n      value: option.code,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 960,\n        columnNumber: 65\n      }\n    }, ' ', option.description, ' ');\n  })))))), __jsx(Grid, {\n    item: true,\n    xs: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 37\n    }\n  }, !(router !== null && router !== void 0 && (_router$query14 = router.query) !== null && _router$query14 !== void 0 && _router$query14.emailOnly) && __jsx(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    onClick: handleNew,\n    className: clsx((_clsx2 = {}, _defineProperty(_clsx2, classes.actionButton, true), _defineProperty(_clsx2, classes.newButton, true), _clsx2)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 973,\n      columnNumber: 45\n    }\n  }, \"+NEW\"), __jsx(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    className: classes.assetButton,\n    onClick: handleAssets,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 987,\n      columnNumber: 41\n    }\n  }, \"ASSETS\"), state.type === 'webPage' && __jsx(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    onClick: function onClick() {\n      return setOpenRedirectEditor(true);\n    },\n    className: classes.assetButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 45\n    }\n  }, \"REDIRECTS\"), !(router !== null && router !== void 0 && (_router$query15 = router.query) !== null && _router$query15 !== void 0 && _router$query15.emailOnly) && __jsx(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    onClick: handleClearCache,\n    className: classes.assetButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1010,\n      columnNumber: 45\n    }\n  }, \"CLEAR CACHE\")))), isRequestSend && !(router !== null && router !== void 0 && (_router$query16 = router.query) !== null && _router$query16 !== void 0 && _router$query16.sliderOnly) ? __jsx(LoadingSpinner, {\n    style: {\n      color: COLORS.secondary\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1026,\n      columnNumber: 25\n    }\n  }) : __jsx(React.Fragment, null, state.type === 'assets' && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 33\n    }\n  }, pageStep === 0 && __jsx(Home, {\n    onSelectPage: onSelectPage,\n    onSelectWebsite: onSelectWebsite,\n    onSelectEmail: onSelectEmail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1032,\n      columnNumber: 41\n    }\n  }), pageStep === 1 && __jsx(Style, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1038,\n      columnNumber: 56\n    }\n  }), pageStep === 2 && __jsx(Asset, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1039,\n      columnNumber: 56\n    }\n  })), state.type === 'webPage' && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1043,\n      columnNumber: 33\n    }\n  }, pageStep === 0 && __jsx(Home, {\n    onSelectPage: onSelectPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1044,\n      columnNumber: 56\n    }\n  }), pageStep === 1 && __jsx(Page, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1045,\n      columnNumber: 56\n    }\n  }), pageStep === 2 && __jsx(Preview, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1046,\n      columnNumber: 56\n    }\n  })), state.type === 'website' && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 33\n    }\n  }, pageStep === 0 && __jsx(Home, {\n    onSelectWebsite: onSelectWebsite,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 56\n    }\n  }), pageStep === 1 && __jsx(WebsitePage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1052,\n      columnNumber: 56\n    }\n  }), pageStep === 2 && __jsx(WebsitePreview, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1053,\n      columnNumber: 56\n    }\n  })), (state.type === 'email' || state.type === 'emailOnly') && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1057,\n      columnNumber: 33\n    }\n  }, pageStep === 0 && __jsx(Home, {\n    onSelectEmail: onSelectEmail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 56\n    }\n  }), pageStep === 1 && __jsx(EmailDesign, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1059,\n      columnNumber: 56\n    }\n  }), pageStep === 2 && __jsx(EmailPreview, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1060,\n      columnNumber: 56\n    }\n  })), state.type === 'assetOnly' && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 33\n    }\n  }, pageStep === 0 && __jsx(Style, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1065,\n      columnNumber: 56\n    }\n  }), pageStep === 1 && __jsx(Asset, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 56\n    }\n  })), state.type === 'faqOnly' && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 33\n    }\n  }, pageStep === 0 && __jsx(FAQDesign, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 56\n    }\n  }), pageStep === 1 && __jsx(FAQPreview, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1072,\n      columnNumber: 56\n    }\n  })), !(router !== null && router !== void 0 && (_router$query17 = router.query) !== null && _router$query17 !== void 0 && _router$query17.sliderOnly) && __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-end\",\n    alignItems: \"flex-end\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1076,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: classes.actionButtons,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1077,\n      columnNumber: 37\n    }\n  }, pageStep !== 0 && __jsx(Button, {\n    onClick: handleBack,\n    variant: \"contained\",\n    size: \"small\",\n    \"aria-label\": \"add\",\n    className: classes.backButton,\n    style: {\n      marginRight: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1079,\n      columnNumber: 45\n    }\n  }, \"BACK\"), __jsx(Button, {\n    onClick: handleNext,\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    className: classes.actionButton,\n    style: {\n      marginRight: 24\n    },\n    disabled: handleNextDisable(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1090,\n      columnNumber: 41\n    }\n  }, pageStep === steps.length - 1 ? 'SAVE' : 'NEXT'), renderFinal)))), __jsx(RedirectsEditor, {\n    open: openRedirectEditor,\n    onClose: function onClose() {\n      return setOpenRedirectEditor(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1109,\n      columnNumber: 17\n    }\n  })), __jsx(ToastContainer, {\n    autoClose: 8000,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1111,\n      columnNumber: 13\n    }\n  }));\n};\n\n_s2(PageBuilderStepper, \"snKLd3x0iPvF0sA5Dcu1T8QzfGs=\", false, function () {\n  return [useStyles, useRouter];\n});\n\n_c = PageBuilderStepper;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setToState: function setToState(stateType, stateName, value) {\n      return dispatch(_setToState(stateType, stateName, value));\n    },\n    updateState: function updateState(stateType, stateName, value) {\n      return dispatch(_updateState(stateType, stateName, value));\n    },\n    pushToState: function pushToState(stateType, stateName, value) {\n      return dispatch(_pushToState(stateType, stateName, value));\n    },\n    deleteFromState: function deleteFromState(stateType, stateName, value) {\n      return dispatch(_deleteFromState(stateType, stateName, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageBuilderStepper);\n\nvar _c;\n\n$RefreshReg$(_c, \"PageBuilderStepper\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderStepper.js"],"names":["React","useEffect","useState","useContext","connect","pushToState","deleteFromState","setToState","updateState","makeStyles","createMuiTheme","MuiThemeProvider","withStyles","Typography","Grid","Container","Button","Stepper","Step","StepLabel","StepConnector","FormControl","WebAssetIcon","WebIcon","EmailIcon","HomeIcon","BrushIcon","VisibilityIcon","HelpIcon","MenuBookIcon","Select","MenuItem","clsx","Page","Style","Asset","Final","Preview","Home","WebsitePage","WebsitePreview","WebsiteFinal","EmailDesign","EmailPreview","EmailSave","LoadingSpinner","GenericSlider","FAQDesign","FAQPreview","FAQSave","ToastContainer","toast","COLORS","SAVED_SUCCESS","PB_OPTIONS","WebCmsGlobal","isErrorMsg","OREST_ENDPOINT","ViewList","Insert","Patch","UseOrest","useRouter","axios","RedirectsEditor","useStyles","theme","actionButtons","display","justifyContent","marginTop","spacing","actionButton","borderRadius","marginBottom","backgroundColor","secondary","newButton","assetButton","marginRight","backButton","disabled","pointerEvents","opacity","palette","primary","main","dark","light","contrastText","useColorStepIconStyle","root","zIndex","color","width","height","alignItems","iconSize","active","boxShadow","completed","ColorlibConnector","alternativeLabel","top","left","right","background","line","border","getStepsIcons","step","isActive","isCompleted","pageBuilderType","icon_classes","icons","PageBuilderStepper","props","state","classes","renderFinal","setRenderFinal","setPageBuilderType","isWebPageSelected","setWebPageSelected","isWebsiteSelected","setWebsiteSelected","isEmailSelected","setEmailSelected","isLoaded","setIsLoaded","isRequestSend","setRequestSend","url","setUrl","openRedirectEditor","setOpenRedirectEditor","steps","pageStep","emptyPage","id","sections","GENERAL_SETTINGS","token","router","companyId","query","companyID","authToken","window","location","port","protocol","hostname","emailOnly","apiUrl","OREST_URL","endpoint","RAFILE","params","hotelrefno","Number","then","res","data","length","assetsData","JSON","parse","Buffer","from","filedata","toString","colors","slider","phone","email","facebook","twitter","instagram","linkedin","handleAssetLogoUrlChange","assets","images","Object","keys","logo","altLogo","logoBanner","favIcon","poweredBy","thumbnail","INFO","LOGIN","method","status","hotelmid","retErr","error","errorMsg","position","POSITION","TOP_RIGHT","success","code","toLowerCase","issuperhotel","issuperuser","RALANG","map","lang","description","defaultLang","sliderOnly","assetOnly","faqOnly","resetSteps","setSteps","index","webPageSteps","element","emailSteps","websiteSteps","assetSteps","assetOnlySteps","faqSteps","faqOnlySteps","handleNext","handleSave","handleBack","handleNextDisable","type","hasColors","hasAssets","page","body","footerOnly","website","footer","header","pages","faq","console","log","meta","title","img","setPageBuilderType_","value","emptyEmail","handleNew","resetFinal","handleSaveAssets","onSelectEmail","masterid","res1","HOTELMID","filename","filetype","stringify","isorsactive","res2","redisStdJson","gid","REQUEST_OPTIONS","headers","Authorization","getImageData","image","replace","icon","option","Promise","resv","response","onSelectPage","isSelected","handleAssets","onSelectWebsite","handleClearCache","get","label","e","target","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["//imports from react\nimport React, { useEffect, useState, useContext } from 'react'\n//redux imports\nimport { connect } from 'react-redux'\nimport { pushToState, deleteFromState, setToState, updateState } from '../../state/actions'\n//material imports\nimport { makeStyles, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles'\nimport { withStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport Container from '@material-ui/core/Container'\nimport Button from '@material-ui/core/Button'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport StepConnector from '@material-ui/core/StepConnector'\nimport FormControl from '@material-ui/core/FormControl'\nimport WebAssetIcon from '@material-ui/icons/WebAsset'\nimport WebIcon from '@material-ui/icons/Web'\nimport EmailIcon from '@material-ui/icons/Email'\nimport HomeIcon from '@material-ui/icons/Home'\nimport BrushIcon from '@material-ui/icons/Brush'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport HelpIcon from '@material-ui/icons/Help'\nimport MenuBookIcon from '@material-ui/icons/MenuBook'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport clsx from 'clsx'\n//custom components imports\nimport Page from './PageBuilderSteps/steps/webpage/Page'\nimport Style from './PageBuilderSteps/steps/assets/Style'\nimport Asset from './PageBuilderSteps/steps/assets/Asset'\nimport Final from './PageBuilderSteps/steps/webpage/Final'\nimport Preview from './PageBuilderSteps/steps/webpage/Preview'\nimport Home from './PageBuilderSteps/steps/home/Home'\nimport WebsitePage from './PageBuilderSteps/steps/website/Page'\nimport WebsitePreview from './PageBuilderSteps/steps/website/Preview'\nimport WebsiteFinal from './PageBuilderSteps/steps/website/Final'\nimport EmailDesign from './PageBuilderSteps/steps/email/EmailDesign'\nimport EmailPreview from './PageBuilderSteps/steps/email/EmailPreview'\nimport EmailSave from './PageBuilderSteps/steps/email/EmailSave'\nimport LoadingSpinner from '../LoadingSpinner'\nimport GenericSlider from './PageBuilderSteps/components/slider'\nimport FAQDesign from './PageBuilderSteps/steps/faq/FaqDesign'\nimport FAQPreview from './PageBuilderSteps/steps/faq/FAQPreview'\nimport FAQSave from './PageBuilderSteps/steps/faq/FAQSave'\n// imports for toaster\nimport { ToastContainer, toast } from 'react-toastify'\n//constants imports\nimport { COLORS, SAVED_SUCCESS, PB_OPTIONS } from './PageBuilderSteps/constants/index'\nimport WebCmsGlobal from 'components/webcms-global'\nimport { isErrorMsg, OREST_ENDPOINT } from '../../model/orest/constants'\nimport { ViewList, Insert, Patch, UseOrest } from '@webcms/orest'\nimport { useRouter } from 'next/router'\nimport axios from 'axios'\nimport RedirectsEditor from '../redirects'\n\nconst useStyles = makeStyles((theme) => ({\n    actionButtons: {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        marginTop: theme.spacing(2),\n    },\n    actionButton: {\n        borderRadius: 20,\n        marginBottom: 16,\n        backgroundColor: COLORS?.secondary,\n    },\n    newButton: {\n        marginTop: theme.spacing(2),\n        float: 'right',\n        backgroundColor: COLORS?.secondary,\n    },\n    assetButton: {\n        borderRadius: 20,\n        float: 'right',\n        marginTop: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        // backgroundColor: COLORS.secondary\n    },\n    backButton: {\n        borderRadius: 20,\n        marginBottom: 16,\n    },\n    disabled: {\n        pointerEvents: 'none',\n        opacity: 0.5,\n    },\n}))\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: COLORS?.secondary,\n            dark: COLORS?.primary,\n            light: COLORS?.secondary,\n            contrastText: 'white',\n        },\n    },\n})\n\nconst useColorStepIconStyle = makeStyles(() => ({\n    root: {\n        backgroundColor: '#ccc',\n        zIndex: 1,\n        color: '#fff',\n        width: 65,\n        height: 65,\n        display: 'flex',\n        borderRadius: '50%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        '& img': {\n            width: 35,\n        },\n    },\n    iconSize: {\n        height: 50,\n        width: 50,\n    },\n    active: {\n        backgroundColor: COLORS?.secondary,\n        boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\n    },\n    completed: {\n        backgroundColor: COLORS?.primary,\n        color: '#fff',\n    },\n}))\n\nconst ColorlibConnector = withStyles({\n    alternativeLabel: {\n        top: 30,\n        left: 'calc(-50% + 10px)',\n        right: 'calc(50% + 10px)',\n    },\n    active: {\n        '& $line': {\n            background: 'transparent linear-gradient(270deg, #269DD4 0%, #0F4571 100%) 0% 0% no-repeat padding-box',\n        },\n    },\n    completed: {\n        '& $line': {\n            backgroundColor: COLORS.primary,\n        },\n    },\n    line: {\n        height: 4,\n        border: 0,\n        backgroundColor: '#eaeaf0',\n        borderRadius: 1,\n    },\n})(StepConnector)\n\nfunction getStepsIcons(step, isActive, isCompleted, pageBuilderType) {\n    const icon_classes = useColorStepIconStyle()\n    let icons = {}\n    switch (pageBuilderType) {\n        case 'webPage':\n            icons = {\n                0: <HomeIcon className={icon_classes.iconSize} />,\n                1: <MenuBookIcon className={icon_classes.iconSize} />,\n                2: <VisibilityIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'website':\n            icons = {\n                0: <HomeIcon className={icon_classes.iconSize} />,\n                1: <WebIcon className={icon_classes.iconSize} />,\n                2: <VisibilityIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'email':\n            icons = {\n                0: <HomeIcon className={icon_classes.iconSize} />,\n                1: <EmailIcon className={icon_classes.iconSize} />,\n                2: <VisibilityIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'faqOnly':\n            icons = {\n                0: <HelpIcon className={icon_classes.iconSize} />,\n                1: <VisibilityIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'assets':\n            icons = {\n                0: <HomeIcon className={icon_classes.iconSize} />,\n                1: <BrushIcon className={icon_classes.iconSize} />,\n                2: <WebAssetIcon className={icon_classes.iconSize} />,\n            }\n            break\n        case 'assetOnly':\n            icons = {\n                0: <BrushIcon className={icon_classes.iconSize} />,\n                1: <WebAssetIcon className={icon_classes.iconSize} />,\n            }\n            break\n        default:\n            return icons\n    }\n\n    return (\n        <div\n            className={clsx(icon_classes.root, {\n                [icon_classes.active]: isActive,\n                [icon_classes.completed]: isCompleted,\n            })}\n        >\n            {icons[step]}\n        </div>\n    )\n}\n\nconst PageBuilderStepper = (props) => {\n    const { state, updateState, deleteFromState, pushToState } = props\n\n    const classes = useStyles()\n\n    //local state\n    const [renderFinal, setRenderFinal] = useState('')\n    const [pageBuilderType, setPageBuilderType] = useState('')\n    const [isWebPageSelected, setWebPageSelected] = useState(false)\n    const [isWebsiteSelected, setWebsiteSelected] = useState(false)\n    const [isEmailSelected, setEmailSelected] = useState(false)\n    const [isLoaded, setIsLoaded] = useState(false)\n    const [isRequestSend, setRequestSend] = useState(false)\n    const [url, setUrl] = useState('')\n    const [openRedirectEditor, setOpenRedirectEditor] = useState(false)\n    const steps = state.steps\n    const pageStep = state.pageStep\n    const emptyPage = {\n        id: '',\n        sections: [],\n    }\n\n    const { GENERAL_SETTINGS, token } = useContext(WebCmsGlobal)\n    const router = useRouter()\n    const companyId = router?.query?.companyID\n    const authToken = token || router.query.authToken\n\n    useEffect(() => {\n        //setting url\n        if (window && window.location && window.location.port) {\n            setUrl(`${window.location.protocol}//${window.location.hostname}:${window.location.port}`)\n        } else {\n            setUrl(`${window.location.protocol}//${window.location.hostname}`)\n        }\n        if (router?.query?.emailOnly) {\n            updateState('pageBuilder', 'previousStep', 0)\n            updateState('pageBuilder', 'pageStep', 1)\n        }\n    }, [])\n\n    useEffect(() => {\n        setRequestSend(true)\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            params: {\n                query: `code:HCMASSET`,\n                hotelrefno: Number(companyId),\n            },\n        }).then(async (res) => {\n            setRequestSend(false)\n            if (res.data && res.data.data && res.data.data.length > 0) {\n                const assetsData = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'))\n                if (!assetsData?.colors?.slider) {\n                    assetsData.colors['slider'] = {\n                        main: '',\n                        light: '',\n                        dark: '',\n                        contrastText: '',\n                    }\n                }\n                if (!assetsData?.icons) {\n                    assetsData['icons'] = {\n                        phone: '',\n                        email: '',\n                        facebook: '',\n                        twitter: '',\n                        instagram: '',\n                        linkedin: '',\n                    }\n                }\n                updateState('pageBuilder', 'assets', assetsData)\n                const assets = await handleAssetLogoUrlChange(\n                    JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'))\n                )\n                const images = assets?.images;\n                const icons = assets?.icons;\n                if (Object.keys(images).length > 0) {\n                    updateState('pageBuilder', 'logoUrl', images?.logo);\n                    updateState('pageBuilder', 'altLogoUrl', images?.altLogo);\n                    updateState('pageBuilder', 'logoBanner', images?.logoBanner);\n                    updateState('pageBuilder', 'faviconUrl', images?.favIcon);\n                    updateState('pageBuilder', 'backgroundUrl', images?.background);\n                    updateState('pageBuilder', 'poweredByUrl', images?.poweredBy);\n                    updateState('pageBuilder', 'thumbnailUrl', images?.thumbnail);\n                }\n                if (icons && Object.keys(icons).length > 0) {\n                    updateState('pageBuilder', 'phoneIconUrl', icons?.phone);\n                    updateState('pageBuilder', 'emailIconUrl', icons?.email);\n                    updateState('pageBuilder', 'facebookIconUrl', icons?.facebook);\n                    updateState('pageBuilder', 'twitterIconUrl', icons?.twitter);\n                    updateState('pageBuilder', 'instagramIconUrl', icons?.instagram);\n                    updateState('pageBuilder', 'linkedinIconUrl', icons?.linkedin);\n                }\n            }\n        })\n\n        UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.INFO + '/' + OREST_ENDPOINT.LOGIN,\n            token: authToken,\n            method: 'get',\n        }).then((res) => {\n            if (res.status === 200 && res.data && res.data.data && res.data.data.hotelmid) {\n                updateState('pageBuilder', 'hotelMid', res.data.data.hotelmid)\n            } else {\n                const retErr = isErrorMsg(res)\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n        //for default language\n        UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: 'sett/lang/local',\n            token: authToken,\n            method: 'get',\n        }).then((res) => {\n            if (res.status === 200 && res.data && res.data.success && res.data.data) {\n                if (res?.data?.data?.code && res?.data?.data?.id) {\n                    updateState('pageBuilder', 'defaultLang', res.data.data?.code?.toLowerCase())\n                    updateState('pageBuilder', 'defaultLangId', res.data.data?.id)\n                } else\n                    toast.error('Default language is not set yet!', {\n                        position: toast.POSITION.TOP_RIGHT,\n                    })\n            } else {\n                const retErr = isErrorMsg(res)\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n        //request for logininfo to get super hotel\n        UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: 'info/login',\n            token: authToken,\n            method: 'get',\n        }).then((res) => {\n            if (res?.status === 200 && res?.data?.data) {\n                updateState('pageBuilder', 'isSuperHotel', res.data.data?.issuperhotel)\n                updateState('pageBuilder', 'isSuperUser', res.data.data?.issuperuser)\n            } else {\n                const retErr = isErrorMsg(res)\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n    }, [])\n\n    useEffect(() => {\n        // getting languages from service\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RALANG,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n            },\n        }).then((res) => {\n            if (res?.status === 200 && res?.data?.data?.length > 0) {\n                res.data.data.map((lang) => {\n                    pushToState(\n                        'pageBuilder',\n                        ['languages'],\n                        [\n                            {\n                                id: lang?.id,\n                                code: lang?.code?.toLowerCase(),\n                                description: lang?.description,\n                            },\n                        ]\n                    )\n                    if (lang.code.toLowerCase() === state.defaultLang) {\n                        updateState('pageBuilder', 'langId', lang.id)\n                        updateState('pageBuilder', 'langCode', lang.code.toLowerCase())\n                    }\n                })\n            }\n        })\n    }, [state.defaultLang])\n\n    useEffect(() => {\n        if (pageStep === 0) {\n            if (router?.query?.sliderOnly) {\n                updateState('pageBuilder', 'type', 'generic-slider')\n            } else if (router?.query?.emailOnly) {\n                updateState('pageBuilder', 'type', 'emailOnly')\n                setPageBuilderType('email')\n            } else if (router?.query?.assetOnly) {\n                updateState('pageBuilder', 'type', 'assetOnly')\n                setPageBuilderType('assetOnly')\n            } else if (router?.query?.faqOnly) {\n                updateState('pageBuilder', 'type', 'faqOnly')\n                setPageBuilderType('faqOnly')\n            } else {\n                updateState('pageBuilder', 'type', 'webPage')\n                setPageBuilderType('webPage')\n            }\n        }\n    }, [pageStep])\n\n    useEffect(() => {\n        setIsLoaded(true)\n        resetSteps(pageBuilderType)\n        setSteps(pageBuilderType)\n    }, [pageBuilderType])\n\n    const resetSteps = () => {\n        const steps = [2, 1, 0]\n        steps.map((index) => deleteFromState('pageBuilder', ['steps'], [index, 1]))\n    }\n\n    const setSteps = (pageBuilderType) => {\n        switch (pageBuilderType) {\n            case 'webPage':\n                const webPageSteps = ['Home', 'Page', 'Preview']\n                webPageSteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            case 'email':\n                const emailSteps = ['Home', 'Design', 'Preview']\n                emailSteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            case 'website':\n                const websiteSteps = ['Home', 'Design', 'Preview']\n                websiteSteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            case 'assets':\n                const assetSteps = ['Home', 'Style', 'Assets']\n                assetSteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            case 'assetOnly':\n                const assetOnlySteps = ['Style', 'Assets']\n                assetOnlySteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            case 'faq':\n                const faqSteps = ['Home', \"FAQ's\", 'Preview']\n                faqSteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            case 'faqOnly':\n                const faqOnlySteps = ['Design', 'Preview']\n                faqOnlySteps.map((element) => {\n                    pushToState('pageBuilder', ['steps'], [element])\n                })\n                break\n            default:\n                return\n        }\n    }\n\n    const handleNext = () => {\n        if (pageStep === steps.length - 1) {\n            handleSave()\n        } else {\n            updateState('pageBuilder', 'previousStep', pageStep)\n            updateState('pageBuilder', 'pageStep', pageStep + 1)\n        }\n    }\n\n    const handleBack = () => {\n        updateState('pageBuilder', 'previousStep', pageStep)\n        updateState('pageBuilder', 'pageStep', pageStep - 1)\n    }\n\n    const handleNextDisable = () => {\n        switch (state.type) {\n            case 'assets':\n                if (pageStep === 1) {\n                    const colors = hasColors()\n                    if (colors) return false\n                    else return true\n                } else if (pageStep === 2) {\n                    const assets = hasAssets()\n                    if (assets) return false\n                    else return true\n                }\n            case 'webPage':\n                if (pageStep === 0) {\n                    if (isWebPageSelected) {\n                        return false\n                    } else {\n                        return true\n                    }\n                } else if (pageStep === 1) {\n                    if (state.page.sections.length === 0) {\n                        return true\n                    } else {\n                        return false\n                    }\n                } else {\n                    return false\n                }\n            case 'email':\n                if (pageStep === 0) {\n                    if (isEmailSelected) return false\n                    else return true\n                }\n                if (pageStep === 1) {\n                    if (state.email.body.length === 0) return true\n                    else return false\n                }\n                return false\n            case 'emailOnly':\n                if (pageStep === 1) {\n                    if (state.email.body.length === 0) return true\n                    else return false\n                }\n                return false\n            case 'website':\n                if (pageStep === 0) {\n                    if (isWebsiteSelected) return false\n                    else return true\n                }\n                if (pageStep === 1) {\n                    if (state.footerOnly) {\n                        if (Object.keys(state.website.footer).length === 0) return true\n                        else return false\n                    } else {\n                        if (\n                            Object.keys(state.website.header).length === 0 ||\n                            Object.keys(state.website.footer).length === 0 ||\n                            state.website.pages.length === 0\n                        )\n                            return true\n                        else return false\n                    }\n                }\n                return false\n            case 'faqOnly':\n                if (state.faq.length > 0) return false\n                else return true\n            default:\n                return\n        }\n    }\n\n    const hasColors = () => {\n        for (const color in state?.assets?.colors) {\n            for (const type in state?.assets?.colors[color]) {\n                if (!state?.assets?.colors[color][type]) return false\n            }\n        }\n        return true\n    }\n\n    const hasAssets = () => {\n        console.log(state.assets.images)\n        if (!state?.assets?.meta?.title) return false\n        for (const img in state?.assets?.images) {\n            if (!state?.assets?.images[img]) return false\n        }\n        return true\n    }\n\n    const setPageBuilderType_ = (value) => {\n        setPageBuilderType(value)\n        updateState('pageBuilder', 'type', value)\n        updateState('pageBuilder', 'code', '')\n        if (value === 'webPage') {\n            updateState('pageBuilder', 'page', emptyPage)\n        } else if (value === 'website') {\n            const website = {\n                header: {},\n                footer: {},\n                pages: [],\n            }\n            updateState('pageBuilder', 'website', website)\n        } else if (value === 'email') {\n            const emptyEmail = {\n                header: {},\n                footer: {},\n                body: [],\n            }\n            updateState('pageBuilder', 'email', emptyEmail)\n        }\n    }\n\n    const handleNew = () => {\n        updateState('pageBuilder', 'langCode', state.defaultLang)\n        updateState('pageBuilder', 'langsFile', {})\n        updateState('pageBuilder', 'isTemplate', false)\n        updateState('pageBuilder', 'previousStep', pageStep)\n        updateState('pageBuilder', 'pageStep', pageStep + 1)\n        if (pageBuilderType === 'webPage') {\n            updateState('pageBuilder', 'code', 'NEW PAGE')\n            updateState('pageBuilder', 'page', emptyPage)\n            setWebPageSelected(false)\n        }\n        if (pageBuilderType === 'website') {\n            const website = {\n                header: {},\n                footer: {},\n                pages: [],\n            }\n            updateState('pageBuilder', 'code', 'NEW WEBSITE')\n            updateState('pageBuilder', 'footerOnly', false)\n            updateState('pageBuilder', 'website', website)\n            setWebsiteSelected(false)\n        }\n        if (pageBuilderType === 'email') {\n            const email = {\n                header: {},\n                footer: {},\n                body: [],\n            }\n            updateState('pageBuilder', 'email', email)\n            updateState('pageBuilder', 'code', 'NEW EMAIL')\n            setEmailSelected(false)\n        }\n    }\n\n    const resetFinal = () => {\n        setRenderFinal('')\n    }\n\n    const handleSave = () => {\n        if (state.type === 'assets' || state.type === 'assetOnly') {\n            handleSaveAssets()\n        } else if (state.type === 'webPage') {\n            setRenderFinal(<Final isWebPageSelected={isWebPageSelected} dialogTitle={'Save'} resetFinal={resetFinal} />)\n        } else if (state.type === 'website') {\n            setRenderFinal(\n                <WebsiteFinal isWebsiteSelected={isWebsiteSelected} dialogTitle={'Save'} resetFinal={resetFinal} />\n            )\n        } else if (state.type === 'email') {\n            setRenderFinal(\n                <EmailSave\n                    dialogTitle={'Save'}\n                    resetFinal={resetFinal}\n                    isEmailSelected={isEmailSelected}\n                    onSelectEmail={onSelectEmail}\n                />\n            )\n        } else if (state.type === 'emailOnly') {\n            if (isEmailSelected) {\n                setRenderFinal(\n                    <EmailSave\n                        dialogTitle={'Save'}\n                        resetFinal={resetFinal}\n                        isEmailSelected={!isEmailSelected}\n                        onSelectEmail={onSelectEmail}\n                    />\n                )\n            } else {\n                if (router?.query?.masterid) {\n                    ViewList({\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.RAFILE,\n                        token: authToken,\n                        params: {\n                            hotelrefno: Number(companyId),\n                            query: `masterid::${router?.query?.masterid},filetype::PB-EMAIL`,\n                        },\n                    }).then((res) => {\n                        if (res?.status === 200 && res?.data) {\n                            if (res?.data?.data?.length > 0) {\n                                setRenderFinal(\n                                    <EmailSave\n                                        dialogTitle={'Save'}\n                                        resetFinal={resetFinal}\n                                        isEmailSelected={true}\n                                        onSelectEmail={onSelectEmail}\n                                    />\n                                )\n                            } else {\n                                setRenderFinal(\n                                    <EmailSave\n                                        dialogTitle={'Save'}\n                                        resetFinal={resetFinal}\n                                        isEmailSelected={false}\n                                        onSelectEmail={onSelectEmail}\n                                    />\n                                )\n                            }\n                        } else {\n                            const retErr = isErrorMsg(res)\n                            toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT,\n                            })\n                        }\n                    })\n                }\n            }\n        } else if (state.type === 'faqOnly') {\n            setRenderFinal(<FAQSave resetFinal={resetFinal} />)\n        }\n    }\n\n    const handleSaveAssets = () => {\n        setRequestSend(true)\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            params: {\n                query: `code:HCMASSET`,\n                hotelrefno: Number(companyId),\n            },\n        }).then((res1) => {\n            if (res1.data && res1.data.data && res1.data.data.length === 0) {\n                Insert({\n                    // insert header into rafile\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    data: {\n                        code: `HCMASSET`,\n                        masterid: GENERAL_SETTINGS.HOTELMID,\n                        filename: 'HCMASSET',\n                        filetype: 'HCMASSET',\n                        filedata: Buffer.from(JSON.stringify(state?.assets)).toString('base64'),\n                        isorsactive: true,\n                        hotelrefno: Number(companyId),\n                    },\n                }).then(async (res2) => {\n                    setRequestSend(false)\n                    if (res2.status === 200 && res2.data.data) {\n                        const redisStdJson = state.redisStdJson\n                        redisStdJson.assets = await handleAssetLogoUrlChange(\n                            JSON.parse(Buffer.from(res2.data.data.filedata, 'base64').toString('utf-8'))\n                        )\n                        toast.success(SAVED_SUCCESS, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                        updateState('pageBuilder', 'previousStep', 0)\n                        updateState('pageBuilder', 'pageStep', 0)\n                    }\n                })\n            } else {\n                Patch({\n                    // update header into rafile\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    gid: res1.data.data[0].gid,\n                    params: {\n                        hotelrefno: Number(companyId),\n                    },\n                    data: {\n                        filedata: Buffer.from(JSON.stringify(state?.assets)).toString('base64'),\n                        isorsactive: true,\n                        hotelrefno: Number(companyId),\n                    },\n                }).then(async (res2) => {\n                    setRequestSend(false)\n                    if (res2.status === 200 && res2.data.data) {\n                        const redisStdJson = state.redisStdJson\n                        redisStdJson.assets = await handleAssetLogoUrlChange(\n                            JSON.parse(Buffer.from(res2.data.data.filedata, 'base64').toString('utf-8'))\n                        )\n                        toast.success(SAVED_SUCCESS, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                        updateState('pageBuilder', 'previousStep', 0)\n                        updateState('pageBuilder', 'pageStep', 0)\n                    }\n                })\n            }\n        })\n    }\n\n    const handleAssetLogoUrlChange = async (assets) => {\n        setRequestSend(true)\n        const images = assets?.images;\n        const icons = assets?.icons;\n        for (const logo in images) {\n            if (images[logo]) {\n                const REQUEST_OPTIONS = {\n                    url: GENERAL_SETTINGS.OREST_URL + '/rafile/view/list',\n                    method: 'get',\n                    headers: {\n                        Authorization: `Bearer ${authToken}`,\n                        'Content-Type': 'application/json',\n                    },\n                    params: {\n                        query: 'gid::' + images[logo],\n                        hotelrefno: Number(companyId),\n                    },\n                }\n                const image = await getImageData(REQUEST_OPTIONS)\n                let url = image?.url?.replace('/var/otello', '').replace('/public', '')\n                assets.images[logo] = url\n            }\n        }\n        for (const icon in icons) {\n            if (icons[icon]) {\n                const REQUEST_OPTIONS = {\n                    url: GENERAL_SETTINGS.OREST_URL + '/rafile/view/list',\n                    method: 'get',\n                    headers: {\n                        Authorization: `Bearer ${authToken}`,\n                        'Content-Type': 'application/json',\n                    },\n                    params: {\n                        query: 'gid::' + icons[icon],\n                        hotelrefno: Number(companyId),\n                    },\n                }\n                const image = await getImageData(REQUEST_OPTIONS)\n                let url = image?.url?.replace('/var/otello', '').replace('/public', '')\n                assets.icons[icon] = url\n            }\n        }\n        setRequestSend(false)\n        return assets\n    }\n\n    const getImageData = (option) => {\n        return new Promise(async (resv) => {\n            return await axios(option)\n                .then(async (response) => {\n                    if (response.status === 200) {\n                        if (response?.data?.data?.length > 0) {\n                            resv(response.data.data[0])\n                        } else {\n                            resv(null)\n                        }\n                    } else {\n                        const retErr = isErrorMsg(response)\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                        resv(null)\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const onSelectPage = (isSelected) => {\n        setWebPageSelected(isSelected)\n    }\n\n    const handleAssets = () => {\n        const website = {\n            header: {},\n            footer: {},\n            pages: [],\n        }\n        setPageBuilderType_('assets')\n        updateState('pageBuilder', 'code', '')\n        updateState('pageBuilder', 'page', emptyPage)\n        updateState('pageBuilder', 'website', website)\n        updateState('pageBuilder', 'previousStep', pageStep)\n        updateState('pageBuilder', 'pageStep', pageStep + 1)\n    }\n\n    const onSelectWebsite = (isSelected) => {\n        setWebsiteSelected(isSelected)\n    }\n\n    const onSelectEmail = (isSelected) => {\n        setEmailSelected(isSelected)\n    }\n\n    const handleClearCache = () => {\n        // clear cache from redis\n        setRequestSend(true)\n        axios.get(url + '/?clearall=true').then((res) => {\n            setRequestSend(false)\n            if (res.status === 200) {\n                toast.success('Cache cleared', {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            } else {\n                toast.error('The is no data available', {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n    }\n\n    if (!isLoaded) {\n        return <LoadingSpinner />\n    }\n\n    return (\n        <React.Fragment>\n            <MuiThemeProvider theme={theme}>\n                <Typography component={'div'}>\n                    {router?.query?.sliderOnly && <GenericSlider />}\n                    {steps && steps.length > 0 && (\n                        <Stepper activeStep={pageStep} alternativeLabel connector={<ColorlibConnector />}>\n                            {steps.map((label, index) => {\n                                return (\n                                    <Step key={`step-${index}`}>\n                                        <StepLabel\n                                            color=\"secondary\"\n                                            StepIconComponent={() =>\n                                                getStepsIcons(\n                                                    index,\n                                                    pageStep === index,\n                                                    pageStep > index,\n                                                    pageBuilderType\n                                                )\n                                            }\n                                        >\n                                            {label}\n                                        </StepLabel>\n                                    </Step>\n                                )\n                            })}\n                        </Stepper>\n                    )}\n                    {pageStep === 0 &&\n                        !router?.query?.sliderOnly &&\n                        !router?.query?.assetOnly &&\n                        !router?.query?.faqOnly && (\n                            <Container>\n                                <Grid container direction=\"row\" justify={'flex-start'}>\n                                    <Grid item xs={8}>\n                                        <Grid container justify={'flex-start'}>\n                                            <Grid item xs={12}>\n                                                <FormControl\n                                                    variant=\"outlined\"\n                                                    style={{ marginTop: 16 }}\n                                                    disabled={router?.query?.emailOnly}\n                                                    size={'small'}\n                                                >\n                                                    <Select\n                                                        value={pageBuilderType}\n                                                        onChange={(e) => setPageBuilderType_(e.target.value)}\n                                                        label=\"Select PB Options\"\n                                                    >\n                                                        {PB_OPTIONS.map((option, index) => {\n                                                            return (\n                                                                <MenuItem value={option.code} key={index}>\n                                                                    {' '}\n                                                                    {option.description}{' '}\n                                                                </MenuItem>\n                                                            )\n                                                        })}\n                                                    </Select>\n                                                </FormControl>\n                                            </Grid>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid item xs={4}>\n                                        {!router?.query?.emailOnly && (\n                                            <Button\n                                                variant=\"contained\"\n                                                size=\"small\"\n                                                color=\"primary\"\n                                                aria-label=\"add\"\n                                                onClick={handleNew}\n                                                className={clsx({\n                                                    [classes.actionButton]: true,\n                                                    [classes.newButton]: true,\n                                                })}\n                                            >\n                                                +NEW\n                                            </Button>\n                                        )}\n                                        <Button\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            color=\"primary\"\n                                            aria-label=\"add\"\n                                            className={classes.assetButton}\n                                            onClick={handleAssets}\n                                        >\n                                            ASSETS\n                                        </Button>\n                                        {state.type === 'webPage' && (\n                                            <Button\n                                                variant=\"contained\"\n                                                size=\"small\"\n                                                color=\"primary\"\n                                                aria-label=\"add\"\n                                                onClick={()=> setOpenRedirectEditor(true)}\n                                                className={classes.assetButton}\n                                            >\n                                                REDIRECTS\n                                            </Button>\n                                        )}\n                                        {!router?.query?.emailOnly && (\n                                            <Button\n                                                variant=\"contained\"\n                                                size=\"small\"\n                                                color=\"primary\"\n                                                aria-label=\"add\"\n                                                onClick={handleClearCache}\n                                                className={classes.assetButton}\n                                            >\n                                                CLEAR CACHE\n                                            </Button>\n                                        )}\n                                    </Grid>\n                                </Grid>\n                            </Container>\n                        )}\n                    {isRequestSend && !router?.query?.sliderOnly ? (\n                        <LoadingSpinner style={{ color: COLORS.secondary }} />\n                    ) : (\n                        <>\n                            {state.type === 'assets' && (\n                                <div>\n                                    {pageStep === 0 && (\n                                        <Home\n                                            onSelectPage={onSelectPage}\n                                            onSelectWebsite={onSelectWebsite}\n                                            onSelectEmail={onSelectEmail}\n                                        />\n                                    )}\n                                    {pageStep === 1 && <Style />}\n                                    {pageStep === 2 && <Asset />}\n                                </div>\n                            )}\n                            {state.type === 'webPage' && (\n                                <div>\n                                    {pageStep === 0 && <Home onSelectPage={onSelectPage} />}\n                                    {pageStep === 1 && <Page />}\n                                    {pageStep === 2 && <Preview />}\n                                </div>\n                            )}\n                            {state.type === 'website' && (\n                                <div>\n                                    {pageStep === 0 && <Home onSelectWebsite={onSelectWebsite} />}\n                                    {pageStep === 1 && <WebsitePage />}\n                                    {pageStep === 2 && <WebsitePreview />}\n                                </div>\n                            )}\n                            {(state.type === 'email' || state.type === 'emailOnly') && (\n                                <div>\n                                    {pageStep === 0 && <Home onSelectEmail={onSelectEmail} />}\n                                    {pageStep === 1 && <EmailDesign />}\n                                    {pageStep === 2 && <EmailPreview />}\n                                </div>\n                            )}\n                            {state.type === 'assetOnly' && (\n                                <div>\n                                    {pageStep === 0 && <Style />}\n                                    {pageStep === 1 && <Asset />}\n                                </div>\n                            )}\n                            {state.type === 'faqOnly' && (\n                                <div>\n                                    {pageStep === 0 && <FAQDesign />}\n                                    {pageStep === 1 && <FAQPreview />}\n                                </div>\n                            )}\n                            {!router?.query?.sliderOnly && (\n                                <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-end\">\n                                    <div className={classes.actionButtons}>\n                                        {pageStep !== 0 && (\n                                            <Button\n                                                onClick={handleBack}\n                                                variant=\"contained\"\n                                                size=\"small\"\n                                                aria-label=\"add\"\n                                                className={classes.backButton}\n                                                style={{ marginRight: 8 }}\n                                            >\n                                                BACK\n                                            </Button>\n                                        )}\n                                        <Button\n                                            onClick={handleNext}\n                                            variant=\"contained\"\n                                            size=\"small\"\n                                            color=\"primary\"\n                                            aria-label=\"add\"\n                                            className={classes.actionButton}\n                                            style={{ marginRight: 24 }}\n                                            disabled={handleNextDisable()}\n                                        >\n                                            {pageStep === steps.length - 1 ? 'SAVE' : 'NEXT'}\n                                        </Button>\n                                        {renderFinal}\n                                    </div>\n                                </Grid>\n                            )}\n                        </>\n                    )}\n                </Typography>\n                <RedirectsEditor open={openRedirectEditor} onClose={()=> setOpenRedirectEditor(false)}/>\n            </MuiThemeProvider>\n            <ToastContainer autoClose={8000} />\n        </React.Fragment>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.pageBuilder,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n    pushToState: (stateType, stateName, value) => dispatch(pushToState(stateType, stateName, value)),\n    deleteFromState: (stateType, stateName, value) => dispatch(deleteFromState(stateType, stateName, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageBuilderStepper)\n"]},"metadata":{},"sourceType":"module"}