{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/payment/credit-card/card.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Payment from './payment';\n\nconst CreditCards = props => {\n  const {\n    number,\n    cvc,\n    focused,\n    locale,\n    name,\n    placeholders\n  } = props;\n\n  const options = () => {\n    const {\n      number\n    } = props;\n    const issuer = Payment.fns.cardType(number) || 'unknown';\n    let maxLength = 16;\n\n    if (issuer === 'amex') {\n      maxLength = 15;\n    } else if (issuer === 'dinersclub') {\n      maxLength = 14;\n    } else if (['hipercard', 'mastercard', 'visa'].includes(issuer)) {\n      maxLength = 19;\n    }\n\n    return {\n      issuer,\n      maxLength\n    };\n  };\n\n  const issuer = () => {\n    const {\n      issuer,\n      preview\n    } = props;\n    return preview && issuer ? issuer.toLowerCase() : options().issuer;\n  };\n\n  const getNumber = () => {\n    const {\n      number,\n      preview\n    } = props;\n    let maxLength = preview ? 19 : options().maxLength;\n    let nextNumber = typeof number === 'number' ? number.toString() : number.replace(/[A-Za-z]| /g, '');\n\n    if (isNaN(parseInt(nextNumber, 10)) && !preview) {\n      nextNumber = '';\n    }\n\n    if (maxLength > 16) {\n      maxLength = nextNumber.length <= 16 ? 16 : maxLength;\n    }\n\n    if (nextNumber.length > maxLength) {\n      nextNumber = nextNumber.slice(0, maxLength);\n    }\n\n    while (nextNumber.length < maxLength) {\n      nextNumber += '•';\n    }\n\n    if (['amex', 'dinersclub'].includes(issuer())) {\n      const format = [0, 4, 10];\n      const limit = [4, 6, 5];\n      nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(format[1], limit[1])} ${nextNumber.substr(format[2], limit[2])}`;\n    } else if (nextNumber.length > 16) {\n      const format = [0, 4, 8, 12];\n      const limit = [4, 7];\n      nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(format[1], limit[0])} ${nextNumber.substr(format[2], limit[0])} ${nextNumber.substr(format[3], limit[1])}`;\n    } else {\n      for (let i = 1; i < maxLength / 4; i++) {\n        const space_index = i * 4 + (i - 1);\n        nextNumber = `${nextNumber.slice(0, space_index)} ${nextNumber.slice(space_index)}`;\n      }\n    }\n\n    return nextNumber;\n  };\n\n  const getExpiry = () => {\n    const {\n      expiry\n    } = props;\n    const date = typeof expiry === 'number' ? expiry.toString() : expiry;\n    let month = '';\n    let year = '';\n\n    if (date.includes('/')) {\n      ;\n      [month, year] = date.split('/');\n    } else if (date.length) {\n      month = date.substr(0, 2);\n      year = date.substr(2, 4);\n    }\n\n    while (month.length < 2) {\n      month += '•';\n    }\n\n    if (year.length > 2) {\n      year = year.substr(2, 2);\n    }\n\n    while (year.length < 2) {\n      year += '•';\n    }\n\n    return `${month}/${year}`;\n  };\n\n  const setCards = () => {\n    const {\n      acceptedCards\n    } = props;\n    let newCardArray = [];\n\n    if (acceptedCards.length) {\n      Payment.getCardArray().forEach(d => {\n        if (acceptedCards.includes(d.type)) {\n          newCardArray.push(d);\n        }\n      });\n    } else {\n      newCardArray = newCardArray.concat(Payment.getCardArray());\n    }\n\n    Payment.setCardArray(newCardArray);\n  };\n\n  useEffect(() => {\n    const {\n      callback,\n      number\n    } = props;\n    callback(options(), Payment.fns.validateCardNumber(number));\n    setCards();\n  }, [number]);\n  return __jsx(\"div\", {\n    key: \"Cards\",\n    className: \"rccs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: ['rccs__card', `rccs__card--${issuer()}`, focused === 'cvc' && issuer() !== 'amex' ? 'rccs__card--flipped' : ''].join(' ').trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"rccs__card--front\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"rccs__card__background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"rccs__issuer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: ['rccs__cvc__front', focused === 'cvc' ? 'rccs--focused' : ''].join(' ').trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, cvc), __jsx(\"div\", {\n    className: ['rccs__number', number.replace(/ /g, '').length > 16 ? 'rccs__number--large' : '', focused === 'number' ? 'rccs--focused' : '', number.substr(0, 1) !== '•' ? 'rccs--filled' : ''].join(' ').trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, getNumber()), __jsx(\"div\", {\n    className: ['rccs__name', focused === 'name' ? 'rccs--focused' : '', name ? 'rccs--filled' : ''].join(' ').trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, name || placeholders.name), __jsx(\"div\", {\n    className: ['rccs__expiry', focused === 'expiry' ? 'rccs--focused' : '', getExpiry().substr(0, 1) !== '•' ? 'rccs--filled' : ''].join(' ').trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"rccs__expiry__valid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, locale.valid), __jsx(\"div\", {\n    className: \"rccs__expiry__value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }, getExpiry())), __jsx(\"div\", {\n    className: \"rccs__chip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"rccs__card--back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"rccs__card__background\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"rccs__stripe\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: \"rccs__signature\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }), __jsx(\"div\", {\n    className: ['rccs__cvc', focused === 'cvc' ? 'rccs--focused' : ''].join(' ').trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, cvc), __jsx(\"div\", {\n    className: \"rccs__issuer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }))));\n};\n\nCreditCards.defaultProps = {\n  acceptedCards: [],\n  locale: {\n    valid: 'valid thru'\n  },\n  placeholders: {\n    name: 'YOUR NAME HERE'\n  },\n  preview: false\n};\nCreditCards.propTypes = {\n  acceptedCards: PropTypes.array,\n  callback: PropTypes.func,\n  cvc: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  expiry: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  focused: PropTypes.string,\n  issuer: PropTypes.string,\n  locale: PropTypes.shape({\n    valid: PropTypes.string\n  }),\n  name: PropTypes.string.isRequired,\n  number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  placeholders: PropTypes.shape({\n    name: PropTypes.string\n  }),\n  preview: PropTypes.bool\n};\nexport default CreditCards;","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/payment/credit-card/card.js"],"names":["React","useEffect","PropTypes","Payment","CreditCards","props","number","cvc","focused","locale","name","placeholders","options","issuer","fns","cardType","maxLength","includes","preview","toLowerCase","getNumber","nextNumber","toString","replace","isNaN","parseInt","length","slice","format","limit","substr","i","space_index","getExpiry","expiry","date","month","year","split","setCards","acceptedCards","newCardArray","getCardArray","forEach","d","type","push","concat","setCardArray","callback","validateCardNumber","join","trim","valid","defaultProps","propTypes","array","func","oneOfType","string","isRequired","shape","bool"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport Payment from './payment'\n\nconst CreditCards = (props) => {\n    const { number, cvc, focused, locale, name, placeholders } = props\n\n    const options = () => {\n        const { number } = props\n        const issuer = Payment.fns.cardType(number) || 'unknown'\n\n        let maxLength = 16\n\n        if (issuer === 'amex') {\n            maxLength = 15\n        } else if (issuer === 'dinersclub') {\n            maxLength = 14\n        } else if (['hipercard', 'mastercard', 'visa'].includes(issuer)) {\n            maxLength = 19\n        }\n\n        return {\n            issuer,\n            maxLength,\n        }\n    }\n\n    const issuer = () => {\n        const { issuer, preview } = props\n\n        return preview && issuer ? issuer.toLowerCase() : options().issuer\n    }\n\n    const getNumber = () => {\n        const { number, preview } = props\n\n        let maxLength = preview ? 19 : options().maxLength\n        let nextNumber = typeof number === 'number' ? number.toString() : number.replace(/[A-Za-z]| /g, '')\n\n        if (isNaN(parseInt(nextNumber, 10)) && !preview) {\n            nextNumber = ''\n        }\n\n        if (maxLength > 16) {\n            maxLength = nextNumber.length <= 16 ? 16 : maxLength\n        }\n\n        if (nextNumber.length > maxLength) {\n            nextNumber = nextNumber.slice(0, maxLength)\n        }\n\n        while (nextNumber.length < maxLength) {\n            nextNumber += '•'\n        }\n\n        if (['amex', 'dinersclub'].includes(issuer())) {\n            const format = [0, 4, 10]\n            const limit = [4, 6, 5]\n            nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(\n                format[1],\n                limit[1]\n            )} ${nextNumber.substr(format[2], limit[2])}`\n        } else if (nextNumber.length > 16) {\n            const format = [0, 4, 8, 12]\n            const limit = [4, 7]\n            nextNumber = `${nextNumber.substr(format[0], limit[0])} ${nextNumber.substr(\n                format[1],\n                limit[0]\n            )} ${nextNumber.substr(format[2], limit[0])} ${nextNumber.substr(format[3], limit[1])}`\n        } else {\n            for (let i = 1; i < maxLength / 4; i++) {\n                const space_index = i * 4 + (i - 1)\n                nextNumber = `${nextNumber.slice(0, space_index)} ${nextNumber.slice(space_index)}`\n            }\n        }\n\n        return nextNumber\n    }\n\n    const getExpiry = () => {\n        const { expiry } = props\n        const date = typeof expiry === 'number' ? expiry.toString() : expiry\n        let month = ''\n        let year = ''\n\n        if (date.includes('/')) {\n            ;[month, year] = date.split('/')\n        } else if (date.length) {\n            month = date.substr(0, 2)\n            year = date.substr(2, 4)\n        }\n\n        while (month.length < 2) {\n            month += '•'\n        }\n\n        if (year.length > 2) {\n            year = year.substr(2, 2)\n        }\n\n        while (year.length < 2) {\n            year += '•'\n        }\n\n        return `${month}/${year}`\n    }\n\n    const setCards = () => {\n        const { acceptedCards } = props\n        let newCardArray = []\n\n        if (acceptedCards.length) {\n            Payment.getCardArray().forEach((d) => {\n                if (acceptedCards.includes(d.type)) {\n                    newCardArray.push(d)\n                }\n            })\n        } else {\n            newCardArray = newCardArray.concat(Payment.getCardArray())\n        }\n\n        Payment.setCardArray(newCardArray)\n    }\n\n    useEffect(() => {\n        const { callback, number } = props\n        callback(options(), Payment.fns.validateCardNumber(number))\n        setCards()\n    }, [number])\n\n    return (\n        <div key=\"Cards\" className=\"rccs\">\n            <div\n                className={[\n                    'rccs__card',\n                    `rccs__card--${issuer()}`,\n                    focused === 'cvc' && issuer() !== 'amex' ? 'rccs__card--flipped' : '',\n                ]\n                    .join(' ')\n                    .trim()}\n            >\n                <div className=\"rccs__card--front\">\n                    <div className=\"rccs__card__background\" />\n                    <div className=\"rccs__issuer\" />\n                    <div className={['rccs__cvc__front', focused === 'cvc' ? 'rccs--focused' : ''].join(' ').trim()}>\n                        {cvc}\n                    </div>\n                    <div\n                        className={[\n                            'rccs__number',\n                            number.replace(/ /g, '').length > 16 ? 'rccs__number--large' : '',\n                            focused === 'number' ? 'rccs--focused' : '',\n                            number.substr(0, 1) !== '•' ? 'rccs--filled' : '',\n                        ]\n                            .join(' ')\n                            .trim()}\n                    >\n                        {getNumber()}\n                    </div>\n                    <div\n                        className={['rccs__name', focused === 'name' ? 'rccs--focused' : '', name ? 'rccs--filled' : '']\n                            .join(' ')\n                            .trim()}\n                    >\n                        {name || placeholders.name}\n                    </div>\n                    <div\n                        className={[\n                            'rccs__expiry',\n                            focused === 'expiry' ? 'rccs--focused' : '',\n                            getExpiry().substr(0, 1) !== '•' ? 'rccs--filled' : '',\n                        ]\n                            .join(' ')\n                            .trim()}\n                    >\n                        <div className=\"rccs__expiry__valid\">{locale.valid}</div>\n                        <div className=\"rccs__expiry__value\">{getExpiry()}</div>\n                    </div>\n                    <div className=\"rccs__chip\" />\n                </div>\n                <div className=\"rccs__card--back\">\n                    <div className=\"rccs__card__background\" />\n                    <div className=\"rccs__stripe\" />\n                    <div className=\"rccs__signature\" />\n                    <div className={['rccs__cvc', focused === 'cvc' ? 'rccs--focused' : ''].join(' ').trim()}>\n                        {cvc}\n                    </div>\n                    <div className=\"rccs__issuer\" />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nCreditCards.defaultProps = {\n    acceptedCards: [],\n    locale: {\n        valid: 'valid thru',\n    },\n    placeholders: {\n        name: 'YOUR NAME HERE',\n    },\n    preview: false,\n}\n\nCreditCards.propTypes = {\n    acceptedCards: PropTypes.array,\n    callback: PropTypes.func,\n    cvc: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    expiry: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    focused: PropTypes.string,\n    issuer: PropTypes.string,\n    locale: PropTypes.shape({\n        valid: PropTypes.string,\n    }),\n    name: PropTypes.string.isRequired,\n    number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    placeholders: PropTypes.shape({\n        name: PropTypes.string,\n    }),\n    preview: PropTypes.bool,\n}\n\nexport default CreditCards\n"]},"metadata":{},"sourceType":"module"}