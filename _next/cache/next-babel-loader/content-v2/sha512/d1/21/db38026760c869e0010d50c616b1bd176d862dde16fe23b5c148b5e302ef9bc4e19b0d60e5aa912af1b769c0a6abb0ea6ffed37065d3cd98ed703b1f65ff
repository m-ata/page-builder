{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/ibe/widget/booking.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport axios from 'axios';\nimport React, { useContext, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { connect, useSelector } from 'react-redux';\nimport { setToState, updateState } from 'state/actions';\nimport moment from 'moment';\nimport MomentAdapter from '@date-io/moment';\nimport { Button, CircularProgress, Container, Grid, MenuItem, Paper, TextField } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport WebCmsGlobal from 'components/webcms-global';\nimport useNotifications from 'model/notification/useNotifications';\nimport { DateRangeDelimiter, DesktopDateRangePicker, LocalizationProvider } from \"@material-ui/pickers\";\nconst useStyles = makeStyles(theme => ({\n  availabilityWrapper: {\n    position: 'relative'\n  },\n  availabilityProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12\n  }\n}));\n\nconst WidgetBooking = props => {\n  const {\n    state,\n    updateState\n  } = props;\n  const classes = useStyles(),\n        Router = useRouter(),\n        {\n    t\n  } = useTranslation(),\n        {\n    showSuccess,\n    showError\n  } = useNotifications(),\n        {\n    GENERAL_SETTINGS,\n    locale\n  } = useContext(WebCmsGlobal),\n        loginfo = useSelector(state => state.orest.currentUser && state.orest.currentUser.loginfo);\n  let clientParams = {};\n  clientParams.hotelrefno = loginfo && loginfo.hotelrefno || GENERAL_SETTINGS.HOTELREFNO;\n\n  if (loginfo && loginfo.hotelgidstr) {\n    clientParams.hoteltoken = loginfo && loginfo.hotelgidstr;\n  } //2. options temp fix\n\n\n  let countryIsoCode = GENERAL_SETTINGS.hotelCountryIso || 'TR';\n  useEffect(() => {\n    let active = true;\n\n    if (active) {\n      if (!state.hotelinfo.length > 0) {\n        axios({\n          url: GENERAL_SETTINGS.BASE_URL + 'api/ors/hotel/book/info',\n          method: 'post',\n          params: Object.assign(clientParams, {\n            langcode: countryIsoCode\n          })\n        }).then(hotelinfoResponse => {\n          if (active) {\n            const hotelinfoData = hotelinfoResponse.data;\n\n            if (hotelinfoData.success) {\n              if (hotelinfoData.data.agencyid !== 0 && hotelinfoData.data.agencyid !== null) {\n                updateState('ibe', 'agencyid', hotelinfoData.data.agencyid);\n              }\n\n              if (hotelinfoData.data.currencyid !== 0 && hotelinfoData.data.currencyid !== null) {\n                updateState('ibe', 'currencyid', hotelinfoData.data.currencyid);\n              }\n\n              if (hotelinfoData.data.minstay !== 0 && hotelinfoData.data.minstay !== null) {\n                updateState('ibe', 'minStay', hotelinfoData.data.minstay);\n              }\n\n              if (hotelinfoData.data.maxpax !== 0 && hotelinfoData.data.maxpax !== null) {\n                var _GENERAL_SETTINGS$hot;\n\n                const maxPax = hotelinfoData.data.maxpax || 0,\n                      defPax = (GENERAL_SETTINGS === null || GENERAL_SETTINGS === void 0 ? void 0 : (_GENERAL_SETTINGS$hot = GENERAL_SETTINGS.hotelSettings) === null || _GENERAL_SETTINGS$hot === void 0 ? void 0 : _GENERAL_SETTINGS$hot.defpax) || 0,\n                      usePax = maxPax >= defPax ? defPax : maxPax;\n                updateState('ibe', 'adult', usePax);\n                updateState('ibe', 'maxAdult', hotelinfoData.data.maxpax);\n              }\n\n              if (hotelinfoData.data.maxchd !== 0 && hotelinfoData.data.maxchd !== null) {\n                updateState('ibe', 'maxChild', hotelinfoData.data.maxchd);\n              }\n\n              if (hotelinfoData.data.maxchdage !== 0 && hotelinfoData.data.maxchdage !== null) {\n                updateState('ibe', 'maxChildAge', hotelinfoData.data.maxchdage);\n              }\n\n              if (hotelinfoData.data.langid !== 0 && hotelinfoData.data.langid !== null) {\n                updateState('ibe', 'langid', hotelinfoData.data.langid);\n              }\n\n              if (hotelinfoData.data.marketid !== 0 && hotelinfoData.data.marketid !== null) {\n                updateState('ibe', 'marketid', hotelinfoData.data.marketid);\n              }\n\n              updateState('ibe', 'guestInfoFormStatus', true);\n            } else {\n              updateState('ibe', 'guestInfoFormStatus', false);\n            }\n          }\n        });\n      }\n    }\n\n    return () => {\n      active = false;\n    };\n  }, []);\n  const CHECKIN_DATE = moment();\n  const CHECKOUT_DATE = moment(CHECKIN_DATE).add(state.minStay, 'days');\n\n  if (state.selectedDate[0] === null && state.selectedDate[1] === null) {\n    updateState('ibe', 'selectedDate', [CHECKIN_DATE, CHECKOUT_DATE]);\n  }\n\n  const handleDate = date => {\n    if (date && date[0] && date[0]._d && date[1] && date[1]._d) {\n      const checkInDateTime = date[0]._d.getTime();\n\n      const checkOutDateTime = date[1]._d.getTime();\n\n      const dateDiff = Math.abs(checkInDateTime - checkOutDateTime);\n      const totalNight = Math.ceil(dateDiff / (1000 * 3600 * 24));\n\n      if (state.minStay > totalNight) {\n        showError(`${t('str_chooseMinError')} ${state.minStay} ${t('str_days')}`);\n        updateState('ibe', 'selectedDate', [moment(state.selectedDate[0]), moment(state.selectedDate[1])]);\n      } else {\n        updateState('ibe', 'selectedDate', date);\n        updateState('ibe', 'night', totalNight);\n      }\n    }\n  };\n\n  const handleAdult = e => {\n    updateState('ibe', 'adult', e.target.value);\n  };\n\n  const handleChd = e => {\n    updateState('ibe', 'child', e.target.value);\n  };\n\n  const handleCheck = () => {\n    updateState('ibe', 'ibeWidgetListInitialized', true);\n    let query = {};\n    query.ci = moment(state.selectedDate[0]).format('DD-MM-YYYY');\n    query.co = moment(state.selectedDate[1]).format('DD-MM-YYYY');\n    query.adult = state.adult;\n    query.child = state.child;\n\n    if (Router.query.lang) {\n      query.lang = Router.query.lang;\n    }\n\n    Router.push({\n      pathname: '/booking/rooms',\n      query: query\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, __jsx(Container, {\n    maxWidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, __jsx(Paper, {\n    elevation: 3,\n    style: {\n      padding: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    md: state.maxChild > 0 ? 5 : 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }, __jsx(LocalizationProvider, {\n    dateLibInstance: moment,\n    dateAdapter: MomentAdapter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 29\n    }\n  }, __jsx(DesktopDateRangePicker, {\n    startText: t('str_checkinDate'),\n    endText: t('str_checkoutDate'),\n    size: \"small\",\n    fullWidth: true,\n    minDate: moment(),\n    onChange: handleDate,\n    value: state.selectedDate,\n    inputFormat: \"DD/MM/YYYY\",\n    renderInput: (startProps, endProps) => __jsx(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 41\n      }\n    }, __jsx(TextField, _extends({}, startProps, {\n      fullWidth: true,\n      size: \"medium\",\n      helperText: '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 45\n      }\n    })), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 45\n      }\n    }), __jsx(DateRangeDelimiter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 45\n      }\n    }, \" \", ' ', \" \"), __jsx(TextField, _extends({}, endProps, {\n      fullWidth: true,\n      size: \"medium\",\n      helperText: '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 45\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 33\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 25\n    }\n  }, __jsx(TextField, {\n    size: \"medium\",\n    fullWidth: true,\n    select: true,\n    id: \"guest\",\n    label: t('str_guest'),\n    variant: \"outlined\",\n    value: state.adult,\n    onChange: e => handleAdult(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 29\n    }\n  }, Array.from({\n    length: state.maxAdult\n  }).map((adult, i) => {\n    let adultNo = i + 1;\n    return __jsx(MenuItem, {\n      key: i,\n      value: adultNo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 41\n      }\n    }, adultNo);\n  }))), state.maxChild > 0 && __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 29\n    }\n  }, __jsx(TextField, {\n    size: \"medium\",\n    fullWidth: true,\n    select: true,\n    id: \"child\",\n    onChange: e => handleChd(e),\n    label: t('str_child'),\n    variant: \"outlined\",\n    value: state.child || 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 33\n    }\n  }, __jsx(MenuItem, {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 37\n    }\n  }, \"0\"), Array.from({\n    length: state.maxChild\n  }).map((chd, i) => {\n    let chdNo = i + 1;\n    return __jsx(MenuItem, {\n      key: i,\n      value: chdNo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 45\n      }\n    }, chdNo);\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: classes.availabilityWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, __jsx(Button, {\n    style: {\n      marginTop: 5,\n      padding: 10\n    },\n    disabled: state.ibeWidgetListInitialized,\n    onClick: handleCheck,\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 33\n    }\n  }, t('str_checkRates')), state.ibeWidgetListInitialized && __jsx(CircularProgress, {\n    size: 24,\n    className: classes.availabilityProgress,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 37\n    }\n  })))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.ibe\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n  updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WidgetBooking);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/ibe/widget/booking.js"],"names":["axios","React","useContext","useEffect","useRouter","connect","useSelector","setToState","updateState","moment","MomentAdapter","Button","CircularProgress","Container","Grid","MenuItem","Paper","TextField","makeStyles","useTranslation","WebCmsGlobal","useNotifications","DateRangeDelimiter","DesktopDateRangePicker","LocalizationProvider","useStyles","theme","availabilityWrapper","position","availabilityProgress","top","left","marginTop","marginLeft","WidgetBooking","props","state","classes","Router","t","showSuccess","showError","GENERAL_SETTINGS","locale","loginfo","orest","currentUser","clientParams","hotelrefno","HOTELREFNO","hotelgidstr","hoteltoken","countryIsoCode","hotelCountryIso","active","hotelinfo","length","url","BASE_URL","method","params","Object","assign","langcode","then","hotelinfoResponse","hotelinfoData","data","success","agencyid","currencyid","minstay","maxpax","maxPax","defPax","hotelSettings","defpax","usePax","maxchd","maxchdage","langid","marketid","CHECKIN_DATE","CHECKOUT_DATE","add","minStay","selectedDate","handleDate","date","_d","checkInDateTime","getTime","checkOutDateTime","dateDiff","Math","abs","totalNight","ceil","handleAdult","e","target","value","handleChd","handleCheck","query","ci","format","co","adult","child","lang","push","pathname","padding","maxChild","startProps","endProps","Array","from","maxAdult","map","i","adultNo","chd","chdNo","ibeWidgetListInitialized","mapStateToProps","formReducer","ibe","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useContext, useEffect } from 'react'\nimport { useRouter } from 'next/router'\nimport { connect, useSelector } from 'react-redux'\nimport { setToState, updateState } from 'state/actions'\nimport moment from 'moment'\nimport MomentAdapter from '@date-io/moment'\nimport { Button, CircularProgress, Container, Grid, MenuItem, Paper, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport WebCmsGlobal from 'components/webcms-global'\nimport useNotifications from 'model/notification/useNotifications'\nimport {\n    DateRangeDelimiter,\n    DesktopDateRangePicker,\n    LocalizationProvider\n} from \"@material-ui/pickers\"\n\nconst useStyles = makeStyles((theme) => ({\n    availabilityWrapper: {\n        position: 'relative',\n    },\n    availabilityProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    },\n}))\n\nconst WidgetBooking = (props) => {\n    const { state, updateState } = props\n\n    const classes = useStyles()\n        , Router = useRouter()\n        , { t } = useTranslation()\n        , { showSuccess, showError } = useNotifications()\n        , { GENERAL_SETTINGS, locale } = useContext(WebCmsGlobal)\n        , loginfo = useSelector((state) => state.orest.currentUser && state.orest.currentUser.loginfo)\n\n    let clientParams = {}\n    clientParams.hotelrefno = loginfo && loginfo.hotelrefno || GENERAL_SETTINGS.HOTELREFNO\n\n    if(loginfo && loginfo.hotelgidstr){\n        clientParams.hoteltoken = loginfo && loginfo.hotelgidstr\n    }\n    //2. options temp fix\n    let countryIsoCode = GENERAL_SETTINGS.hotelCountryIso || 'TR'\n\n    useEffect(() => {\n        let active = true\n        if (active) {\n            if (!state.hotelinfo.length > 0) {\n                axios({\n                    url: GENERAL_SETTINGS.BASE_URL + 'api/ors/hotel/book/info',\n                    method: 'post',\n                    params: Object.assign(clientParams,{\n                        langcode: countryIsoCode,\n                    })\n                }).then((hotelinfoResponse) => {\n                    if (active) {\n                        const hotelinfoData = hotelinfoResponse.data\n                        if (hotelinfoData.success) {\n                            if (hotelinfoData.data.agencyid !== 0 && hotelinfoData.data.agencyid !== null) {\n                                updateState('ibe', 'agencyid', hotelinfoData.data.agencyid)\n                            }\n\n                            if (hotelinfoData.data.currencyid !== 0 && hotelinfoData.data.currencyid !== null) {\n                                updateState('ibe', 'currencyid', hotelinfoData.data.currencyid)\n                            }\n\n                            if (hotelinfoData.data.minstay !== 0 && hotelinfoData.data.minstay !== null) {\n                                updateState('ibe', 'minStay', hotelinfoData.data.minstay)\n                            }\n\n                            if (hotelinfoData.data.maxpax !== 0 && hotelinfoData.data.maxpax !== null) {\n                                const maxPax = hotelinfoData.data.maxpax || 0\n                                    , defPax = GENERAL_SETTINGS?.hotelSettings?.defpax || 0\n                                    , usePax = (maxPax >= defPax) ? defPax : maxPax\n                                updateState('ibe', 'adult', usePax)\n                                updateState('ibe', 'maxAdult', hotelinfoData.data.maxpax)\n                            }\n\n                            if (hotelinfoData.data.maxchd !== 0 && hotelinfoData.data.maxchd !== null) {\n                                updateState('ibe', 'maxChild', hotelinfoData.data.maxchd)\n                            }\n\n                            if (hotelinfoData.data.maxchdage !== 0 && hotelinfoData.data.maxchdage !== null) {\n                                updateState('ibe', 'maxChildAge', hotelinfoData.data.maxchdage)\n                            }\n\n                            if (hotelinfoData.data.langid !== 0 && hotelinfoData.data.langid !== null) {\n                                updateState('ibe', 'langid', hotelinfoData.data.langid)\n                            }\n\n                            if (hotelinfoData.data.marketid !== 0 && hotelinfoData.data.marketid !== null) {\n                                updateState('ibe', 'marketid', hotelinfoData.data.marketid)\n                            }\n\n                            updateState('ibe', 'guestInfoFormStatus', true)\n                        } else {\n                            updateState('ibe', 'guestInfoFormStatus', false)\n                        }\n                    }\n                })\n            }\n        }\n\n        return () => {\n            active = false\n        }\n    }, [])\n\n    const CHECKIN_DATE = moment()\n    const CHECKOUT_DATE = moment(CHECKIN_DATE).add(state.minStay, 'days')\n\n    if (state.selectedDate[0] === null && state.selectedDate[1] === null) {\n        updateState('ibe', 'selectedDate', [CHECKIN_DATE, CHECKOUT_DATE])\n    }\n\n    const handleDate = (date) => {\n        if (date && date[0] && date[0]._d && date[1] && date[1]._d) {\n            const checkInDateTime = date[0]._d.getTime()\n            const checkOutDateTime = date[1]._d.getTime()\n\n            const dateDiff = Math.abs(checkInDateTime - checkOutDateTime)\n            const totalNight = Math.ceil(dateDiff / (1000 * 3600 * 24))\n\n            if (state.minStay > totalNight) {\n                showError(`${t('str_chooseMinError')} ${state.minStay} ${t('str_days')}`)\n                updateState('ibe', 'selectedDate', [moment(state.selectedDate[0]), moment(state.selectedDate[1])])\n            } else {\n                updateState('ibe', 'selectedDate', date)\n                updateState('ibe', 'night', totalNight)\n            }\n        }\n    }\n\n    const handleAdult = (e) => {\n        updateState('ibe', 'adult', e.target.value)\n    }\n\n    const handleChd = (e) => {\n        updateState('ibe', 'child', e.target.value)\n    }\n\n    const handleCheck = () => {\n        updateState('ibe', 'ibeWidgetListInitialized', true)\n        let query = {}\n        query.ci = moment(state.selectedDate[0]).format('DD-MM-YYYY')\n        query.co = moment(state.selectedDate[1]).format('DD-MM-YYYY')\n        query.adult = state.adult\n        query.child = state.child\n\n        if (Router.query.lang) {\n            query.lang = Router.query.lang\n        }\n\n        Router.push({\n            pathname: '/booking/rooms',\n            query: query,\n        })\n    }\n\n    return (\n        <React.Fragment>\n            <Container maxWidth=\"md\">\n                <Paper elevation={3} style={{ padding: 30 }}>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} md={state.maxChild > 0 ? 5 : 7}>\n                            <LocalizationProvider dateLibInstance={moment} dateAdapter={MomentAdapter}>\n                                <DesktopDateRangePicker\n                                    startText={t('str_checkinDate')}\n                                    endText={t('str_checkoutDate')}\n                                    size=\"small\"\n                                    fullWidth={true}\n                                    minDate={moment()}\n                                    onChange={handleDate}\n                                    value={state.selectedDate}\n                                    inputFormat=\"DD/MM/YYYY\"\n                                    renderInput={(startProps, endProps) => (\n                                        <React.Fragment>\n                                            <TextField {...startProps} fullWidth size=\"medium\" helperText={''}/>\n                                            <br/>\n                                            <DateRangeDelimiter> {' '} </DateRangeDelimiter>\n                                            <TextField {...endProps} fullWidth size=\"medium\" helperText={''}/>\n                                        </React.Fragment>\n                                    )}\n                                />\n                            </LocalizationProvider>\n                        </Grid>\n                        <Grid item xs={12} sm={2}>\n                            <TextField\n                                size=\"medium\"\n                                fullWidth={true}\n                                select\n                                id=\"guest\"\n                                label={t('str_guest')}\n                                variant=\"outlined\"\n                                value={state.adult}\n                                onChange={(e) => handleAdult(e)}\n                            >\n                                {Array.from({ length: state.maxAdult }).map((adult, i) => {\n                                    let adultNo = i + 1\n                                    return (\n                                        <MenuItem key={i} value={adultNo}>\n                                            {adultNo}\n                                        </MenuItem>\n                                    )\n                                })}\n                            </TextField>\n                        </Grid>\n                        {state.maxChild > 0 && (\n                            <Grid item xs={12} sm={2}>\n                                <TextField\n                                    size=\"medium\"\n                                    fullWidth={true}\n                                    select\n                                    id=\"child\"\n                                    onChange={(e) => handleChd(e)}\n                                    label={t('str_child')}\n                                    variant=\"outlined\"\n                                    value={state.child || 0}\n                                >\n                                    <MenuItem value={0}>\n                                       0\n                                    </MenuItem>\n                                    {Array.from({ length: state.maxChild }).map((chd, i) => {\n                                        let chdNo = i + 1\n                                        return (\n                                            <MenuItem key={i} value={chdNo}>\n                                                {chdNo}\n                                            </MenuItem>\n                                        )\n                                    })}\n                                </TextField>\n                            </Grid>\n                        )}\n                        <Grid item xs={12} sm={3}>\n                            <div className={classes.availabilityWrapper}>\n                                <Button\n                                    style={{\n                                        marginTop: 5,\n                                        padding: 10\n                                    }}\n                                    disabled={state.ibeWidgetListInitialized}\n                                    onClick={handleCheck}\n                                    fullWidth={true}\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    size=\"medium\"\n                                >\n                                    {t('str_checkRates')}\n                                </Button>\n                                {state.ibeWidgetListInitialized && (\n                                    <CircularProgress\n                                        size={24}\n                                        className={classes.availabilityProgress}\n                                        color=\"inherit\"\n                                    />\n                                )}\n                            </div>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            </Container>\n        </React.Fragment>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.ibe,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WidgetBooking)\n"]},"metadata":{},"sourceType":"module"}