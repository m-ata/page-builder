{"ast":null,"code":"import _extends from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/email/EmailDesign.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//react imports\nimport React, { useContext, useEffect, useState } from 'react'; //material ui imports\n\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\"; //custom imports\n\nimport EmailGenericDialog from \"../../components/email/generic/EmailGenericDialog\";\nimport EmailHeader from \"../../components/email/header/EmailHeader\";\nimport EmailFooter from \"../../components/email/footer/EmailFooter\";\nimport EditEmailSection from \"../../components/email/body/EditEmailSection\";\nimport Image from \"../../components/page/sections/image/Image\";\nimport Paragraph from \"../../components/page/sections/paragraph/Paragraph\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nimport { AlertDialog } from \"../../components/alert\"; //redux imports\n\nimport { connect } from 'react-redux';\nimport { setToState as _setToState, pushToState as _pushToState, deleteFromState as _deleteFromState, updateState as _updateState } from \"../../../../../state/actions\"; //toast import\n\nimport { toast } from \"react-toastify\"; //constants and config imports\n\nimport { DELETE_SUCCESS, emailWidth } from \"../../constants\";\nimport { useRouter } from \"next/router\";\nimport WebCmsGlobal from \"../../../../webcms-global\";\nimport axios from \"axios\";\nimport { FIELDTYPE, isErrorMsg, OREST_ENDPOINT, OREST_UPLOAD, REQUEST_METHOD_CONST } from \"../../../../../model/orest/constants\";\nimport { Insert, ViewList } from \"@webcms/orest\";\nimport LanguageDropdown from \"../../components/language/LanguageDropdown\";\nimport { now } from \"moment\";\nvar defaultProps = {\n  bgcolor: 'background.paper',\n  border: 1,\n  borderColor: 'silver'\n};\nvar useStyles = makeStyles(function () {\n  return {\n    centreContent: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginTop: 8\n    },\n    cursorPointer: {\n      cursor: 'pointer',\n      color: 'silver'\n    },\n    disabledEvent: {\n      pointerEvents: 'none',\n      opacity: 0.5\n    },\n    centerSection: {\n      display: \"block\",\n      marginTop: 8,\n      textAlign: \"center\"\n    }\n  };\n});\n\nvar EmailDesign = function EmailDesign(props) {\n  _s();\n\n  var _state$email10, _state$email10$body, _state$assets, _state$assets$colors, _state$assets$colors$, _state$langsFile7, _state$langsFile7$hea, _state$langsFile7$hea2, _state$langsFile8, _state$langsFile8$hea, _state$langsFile8$hea2, _state$langsFile9, _state$langsFile9$bod, _state$langsFile9$bod2, _state$langsFile9$bod3, _state$email15, _state$email15$body, _state$email16, _state$email16$body, _state$email17, _state$email17$body, _state$email18, _state$email18$body, _state$langsFile10, _state$langsFile10$fo, _state$langsFile10$fo2;\n\n  var state = props.state,\n      setToState = props.setToState,\n      pushToState = props.pushToState,\n      deleteFromState = props.deleteFromState,\n      updateState = props.updateState;\n  var classes = useStyles(); //local states\n\n  var _useState = useState(false),\n      isRenderDialog = _useState[0],\n      setRenderDialog = _useState[1];\n\n  var _useState2 = useState(''),\n      dialogType = _useState2[0],\n      setDialogType = _useState2[1];\n\n  var _useState3 = useState(''),\n      dialogTitle = _useState3[0],\n      setDialogTitle = _useState3[1];\n\n  var _useState4 = useState(''),\n      editSectionDialog = _useState4[0],\n      setEditSectionDialog = _useState4[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isAlert = _React$useState2[0],\n      setAlert = _React$useState2[1];\n\n  var _useState5 = useState(''),\n      alertDialogType = _useState5[0],\n      setAlertDialogType = _useState5[1];\n\n  var _useState6 = useState(''),\n      deletedIndex = _useState6[0],\n      setDeletedIndex = _useState6[1];\n\n  var _useState7 = useState(false),\n      isDeleting = _useState7[0],\n      setIsDeleting = _useState7[1];\n\n  var _useState8 = useState(true),\n      isLoaded = _useState8[0],\n      setIsLoaded = _useState8[1];\n\n  var router = useRouter();\n  var companyId = router.query.companyID;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS,\n      token = _useContext.token;\n\n  var authToken = token || router.query.authToken;\n  useEffect(function () {\n    if (state !== null && state !== void 0 && state.isTemplate) {\n      (state === null || state === void 0 ? void 0 : state.previousStep) === 0 ? handleGenerateNewTemplate(\"code::\".concat(state.code, \",filetype::PB-EMAIL\")) : null;\n    } else {\n      if (router.query.emailOnly) {\n        if (router.query.masterid) {\n          var _state$email, _state$email2, _state$email3, _state$email3$body;\n\n          if (!Object.keys(state === null || state === void 0 ? void 0 : (_state$email = state.email) === null || _state$email === void 0 ? void 0 : _state$email.header).length && !Object.keys(state === null || state === void 0 ? void 0 : (_state$email2 = state.email) === null || _state$email2 === void 0 ? void 0 : _state$email2.footer).length && !(state !== null && state !== void 0 && (_state$email3 = state.email) !== null && _state$email3 !== void 0 && (_state$email3$body = _state$email3.body) !== null && _state$email3$body !== void 0 && _state$email3$body.length)) {\n            setIsLoaded(false);\n            ViewList({\n              apiUrl: GENERAL_SETTINGS.OREST_URL,\n              endpoint: OREST_ENDPOINT.RAFILE,\n              token: authToken,\n              params: {\n                hotelrefno: Number(companyId),\n                query: \"masterid::\".concat(router.query.masterid, \",filetype::PB-EMAIL\")\n              }\n            }).then(function (res) {\n              if (res.status === 200) {\n                var _res$data, _res$data$data;\n\n                if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.length) > 0) {\n                  // setTimeout(() => {\n                  //     console.log(res.data.data[0].langcode.toLowerCase())\n                  //     updateState('pageBuilder', 'langId', res.data.data[0].langid);\n                  //     updateState('pageBuilder', 'langCode', res.data.data[0].langcode.toLowerCase());\n                  //     updateState('pageBuilder', 'defaultLangId', res.data.data[0].langid);\n                  //     updateState('pageBuilder', 'defaultLang', res.data.data[0].langcode.toLowerCase());\n                  //     setIsLoaded(true);\n                  // }, 300);\n                  setIsLoaded(true);\n                  var email = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                  updateState('pageBuilder', 'email', email);\n                  updateState('pageBuilder', 'code', res.data.data[0].code);\n                  ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    params: {\n                      hotelrefno: Number(companyId),\n                      query: \"filetype:LANG.EMAIL,masterid::\".concat(router.query.masterid)\n                    }\n                  }).then(function (res) {\n                    if (res.status === 200 && res.data && res.data.data.length > 0) {\n                      var langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                      updateState('pageBuilder', 'langsFile', langFile);\n                    }\n                  });\n                } else {\n                  setIsLoaded(true);\n                }\n              } else {\n                setIsLoaded(true);\n                var retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              }\n            });\n          }\n        }\n      }\n    }\n  }, []);\n\n  var handleGenerateNewTemplate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(query) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoaded(false);\n              ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token: authToken,\n                params: {\n                  hotelrefno: Number(companyId),\n                  query: query\n                }\n              }).then(function (res) {\n                if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n                  var _res$data2, _res$data2$data;\n\n                  if ((res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$data = _res$data2.data) === null || _res$data2$data === void 0 ? void 0 : _res$data2$data.length) > 0) {\n                    var emailData = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                    setToState('pageBuilder', ['email', 'header'], emailData === null || emailData === void 0 ? void 0 : emailData.header);\n                    setToState('pageBuilder', ['email', 'footer'], emailData === null || emailData === void 0 ? void 0 : emailData.footer);\n                    var body = emailData === null || emailData === void 0 ? void 0 : emailData.body;\n                    Promise.all(body.map(function (b, i) {\n                      Promise.all(b.items.map( /*#__PURE__*/function () {\n                        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item, j) {\n                          var HCMITEMIMG_OPTION, image, FILEGET_OPTION, file, _file$, _downloadedFile$data, _file$2, _image$, _image$2, _image$3, downloadedFile, blob, imageUrl, m, imageType, fileObject, HCMITEMINS, imageInsert, binaryData, formData, uploadOptions, uploadedFile, HCMITEMTXTPAR_OPTION, paragraph, _paragraph$, HCMITEM_OPTION, hcmitem, _HCMITEMTXTPAR_OPTION, hcmItemTxtPar;\n\n                          return _regeneratorRuntime.wrap(function _callee$(_context) {\n                            while (1) {\n                              switch (_context.prev = _context.next) {\n                                case 0:\n                                  if (!(item.type === 'image')) {\n                                    _context.next = 34;\n                                    break;\n                                  }\n\n                                  HCMITEMIMG_OPTION = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMIMG + OREST_ENDPOINT.SLASH + 'view/list',\n                                    method: REQUEST_METHOD_CONST.GET,\n                                    headers: {\n                                      Authorization: \"Bearer \".concat(authToken),\n                                      'Content-Type': 'application/json'\n                                    },\n                                    params: {\n                                      hotelrefno: Number(companyId),\n                                      query: \"gid::\".concat(item.gid)\n                                    }\n                                  };\n                                  _context.next = 4;\n                                  return getData(HCMITEMIMG_OPTION);\n\n                                case 4:\n                                  image = _context.sent;\n\n                                  if (!((image === null || image === void 0 ? void 0 : image.length) > 0)) {\n                                    _context.next = 34;\n                                    break;\n                                  }\n\n                                  FILEGET_OPTION = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.RAFILE + OREST_ENDPOINT.SLASH + 'view/list',\n                                    method: REQUEST_METHOD_CONST.GET,\n                                    headers: {\n                                      Authorization: \"Bearer \".concat(authToken),\n                                      'Content-Type': '0000510'\n                                    },\n                                    params: {\n                                      hotelrefno: Number(companyId),\n                                      query: \"masterid::\".concat(image[0].mid)\n                                    }\n                                  };\n                                  _context.next = 9;\n                                  return getData(FILEGET_OPTION);\n\n                                case 9:\n                                  file = _context.sent;\n\n                                  if (!(file.length > 0)) {\n                                    _context.next = 34;\n                                    break;\n                                  }\n\n                                  _context.next = 13;\n                                  return fileDownload({\n                                    url: \"\".concat(GENERAL_SETTINGS.OREST_URL, \"/tools/file/download\"),\n                                    headers: {\n                                      \"Authorization\": \"Bearer \".concat(authToken)\n                                    },\n                                    method: 'get',\n                                    responseType: 'arraybuffer',\n                                    params: {\n                                      gid: (_file$ = file[0]) === null || _file$ === void 0 ? void 0 : _file$.gid,\n                                      hotelrefno: companyId\n                                    }\n                                  });\n\n                                case 13:\n                                  downloadedFile = _context.sent;\n                                  blob = new Blob([downloadedFile === null || downloadedFile === void 0 ? void 0 : downloadedFile.data], {\n                                    type: downloadedFile === null || downloadedFile === void 0 ? void 0 : (_downloadedFile$data = downloadedFile.data) === null || _downloadedFile$data === void 0 ? void 0 : _downloadedFile$data.type\n                                  });\n                                  imageUrl = GENERAL_SETTINGS.STATIC_URL + ((_file$2 = file[0]) === null || _file$2 === void 0 ? void 0 : _file$2.url.replace('/var/otello', '').replace('/public', ''));\n                                  m = imageUrl.replace(/^.*[\\\\\\/]/, '');\n                                  imageType = m.split('.')[1];\n                                  fileObject = new File([blob], m, {\n                                    lastModified: new Date(now()),\n                                    type: 'image/' + imageType\n                                  });\n                                  HCMITEMINS = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMIMG + OREST_ENDPOINT.SLASH + 'ins',\n                                    method: REQUEST_METHOD_CONST.POST,\n                                    headers: {\n                                      Authorization: \"Bearer \".concat(authToken),\n                                      'Content-Type': 'application/json'\n                                    },\n                                    data: {\n                                      itemid: state.hcmItemId,\n                                      imgtype: FIELDTYPE.IMG,\n                                      title: (_image$ = image[0]) === null || _image$ === void 0 ? void 0 : _image$.title,\n                                      description: (_image$2 = image[0]) === null || _image$2 === void 0 ? void 0 : _image$2.description,\n                                      cta: (_image$3 = image[0]) === null || _image$3 === void 0 ? void 0 : _image$3.cta,\n                                      orderno: 1,\n                                      hotelrefno: Number(companyId)\n                                    }\n                                  };\n                                  _context.next = 22;\n                                  return handleInsertData(HCMITEMINS);\n\n                                case 22:\n                                  imageInsert = _context.sent;\n\n                                  if (!imageInsert) {\n                                    _context.next = 34;\n                                    break;\n                                  }\n\n                                  binaryData = [];\n                                  binaryData.push(fileObject);\n                                  formData = new FormData();\n                                  formData.append('file', new Blob(binaryData, {\n                                    type: fileObject.type\n                                  }), fileObject.name);\n                                  uploadOptions = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.RAFILE + OREST_UPLOAD,\n                                    method: 'post',\n                                    headers: {\n                                      \"Authorization\": \"Bearer \".concat(authToken),\n                                      'Content-Type': 'multipart/form-data'\n                                    },\n                                    params: {\n                                      orsactive: true,\n                                      masterid: imageInsert === null || imageInsert === void 0 ? void 0 : imageInsert.mid,\n                                      hotelrefno: companyId\n                                    },\n                                    data: formData\n                                  };\n                                  _context.next = 31;\n                                  return handleInsertData(uploadOptions);\n\n                                case 31:\n                                  uploadedFile = _context.sent;\n                                  if (i === body.length - 1) setIsLoaded(true);\n\n                                  if (uploadedFile !== null && uploadedFile !== void 0 && uploadedFile.url) {\n                                    b.items[j] = {\n                                      service: \"hcmitemimg\",\n                                      type: \"image\",\n                                      gid: imageInsert === null || imageInsert === void 0 ? void 0 : imageInsert.gid,\n                                      width: item === null || item === void 0 ? void 0 : item.width,\n                                      id: item === null || item === void 0 ? void 0 : item.id\n                                    };\n                                  } else {\n                                    toast.error('Upload failed', {\n                                      position: toast.POSITION.TOP_RIGHT\n                                    });\n                                  }\n\n                                case 34:\n                                  if (!(item.type === 'paragraph')) {\n                                    _context.next = 50;\n                                    break;\n                                  }\n\n                                  HCMITEMTXTPAR_OPTION = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMTXTPAR + OREST_ENDPOINT.SLASH + 'view/list',\n                                    method: REQUEST_METHOD_CONST.GET,\n                                    headers: {\n                                      Authorization: \"Bearer \".concat(authToken),\n                                      'Content-Type': 'application/json'\n                                    },\n                                    params: {\n                                      hotelrefno: Number(companyId),\n                                      query: \"gid::\".concat(item.gid)\n                                    }\n                                  };\n                                  _context.next = 38;\n                                  return getData(HCMITEMTXTPAR_OPTION);\n\n                                case 38:\n                                  paragraph = _context.sent;\n\n                                  if (!((paragraph === null || paragraph === void 0 ? void 0 : paragraph.length) > 0)) {\n                                    _context.next = 50;\n                                    break;\n                                  }\n\n                                  HCMITEM_OPTION = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMTXT + OREST_ENDPOINT.SLASH + 'ins',\n                                    method: REQUEST_METHOD_CONST.POST,\n                                    headers: {\n                                      Authorization: \"Bearer \".concat(authToken),\n                                      'Content-Type': 'application/json'\n                                    },\n                                    data: {\n                                      itemid: state === null || state === void 0 ? void 0 : state.hcmItemId,\n                                      hotelrefno: Number(companyId)\n                                    }\n                                  };\n                                  _context.next = 43;\n                                  return handleInsertData(HCMITEM_OPTION);\n\n                                case 43:\n                                  hcmitem = _context.sent;\n                                  _HCMITEMTXTPAR_OPTION = {\n                                    url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMTXTPAR + OREST_ENDPOINT.SLASH + 'ins',\n                                    method: REQUEST_METHOD_CONST.POST,\n                                    headers: {\n                                      Authorization: \"Bearer \".concat(authToken),\n                                      'Content-Type': 'application/json'\n                                    },\n                                    data: {\n                                      itemid: hcmitem === null || hcmitem === void 0 ? void 0 : hcmitem.id,\n                                      itemtext: (_paragraph$ = paragraph[0]) === null || _paragraph$ === void 0 ? void 0 : _paragraph$.itemtext,\n                                      hotelrefno: Number(companyId)\n                                    }\n                                  };\n                                  _context.next = 47;\n                                  return handleInsertData(_HCMITEMTXTPAR_OPTION);\n\n                                case 47:\n                                  hcmItemTxtPar = _context.sent;\n                                  if (i === body.length - 1) setIsLoaded(true);\n\n                                  if (hcmItemTxtPar) {\n                                    b.items[j] = {\n                                      service: \"hcmitemtxtpar\",\n                                      type: \"paragraph\",\n                                      gid: hcmItemTxtPar === null || hcmItemTxtPar === void 0 ? void 0 : hcmItemTxtPar.gid,\n                                      width: item === null || item === void 0 ? void 0 : item.width,\n                                      id: item === null || item === void 0 ? void 0 : item.id\n                                    };\n                                  }\n\n                                case 50:\n                                case \"end\":\n                                  return _context.stop();\n                              }\n                            }\n                          }, _callee);\n                        }));\n\n                        return function (_x2, _x3) {\n                          return _ref2.apply(this, arguments);\n                        };\n                      }()));\n                    }));\n                    setToState('pageBuilder', ['email', 'body'], body);\n                    ViewList({\n                      apiUrl: GENERAL_SETTINGS.OREST_URL,\n                      endpoint: OREST_ENDPOINT.RAFILE,\n                      token: authToken,\n                      params: {\n                        hotelrefno: Number(companyId),\n                        query: \"filetype:LANG.EMAIL,refid::\".concat(res.data.data[0].id)\n                      }\n                    }).then(function (res2) {\n                      var _res2$data, _res2$data$data;\n\n                      if (res2.status === 200 && (res2 === null || res2 === void 0 ? void 0 : (_res2$data = res2.data) === null || _res2$data === void 0 ? void 0 : (_res2$data$data = _res2$data.data) === null || _res2$data$data === void 0 ? void 0 : _res2$data$data.length) > 0) {\n                        var langFile = JSON.parse(Buffer.from(res2.data.data[0].filedata, 'base64').toString('utf-8'));\n                        updateState('pageBuilder', 'langsFile', langFile);\n                      }\n                    });\n                  }\n                } else {\n                  var retErr = isErrorMsg(res);\n                  toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleGenerateNewTemplate(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var fileDownload = function fileDownload(option) {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resv) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios(option).then( /*#__PURE__*/function () {\n                  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(response) {\n                    var retErr;\n                    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            if (response.status === 200) {\n                              resv(response);\n                            } else {\n                              retErr = isErrorMsg(response);\n                              toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                              });\n                            }\n\n                          case 1:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  }));\n\n                  return function (_x5) {\n                    return _ref4.apply(this, arguments);\n                  };\n                }())[\"catch\"](function (error) {\n                  console.log(error);\n                  resv(error.response || {\n                    status: 0\n                  });\n                });\n\n              case 2:\n                return _context4.abrupt(\"return\", _context4.sent);\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  };\n\n  var getData = function getData(option) {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(resv) {\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return axios(option).then( /*#__PURE__*/function () {\n                  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(response) {\n                    var _response$data, _response$data$data, retErr;\n\n                    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            if (response.status === 200) {\n                              if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.length) > 0) resv(response.data.data);\n                            } else {\n                              retErr = isErrorMsg(response);\n                              toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                              });\n                            }\n\n                          case 1:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function (_x7) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }())[\"catch\"](function (error) {\n                  console.log(error);\n                  resv(error.response || {\n                    status: 0\n                  });\n                });\n\n              case 2:\n                return _context6.abrupt(\"return\", _context6.sent);\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x6) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n  };\n\n  var handleInsertData = function handleInsertData(option) {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(resv) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return axios(option).then( /*#__PURE__*/function () {\n                  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(response) {\n                    var _response$data2, retErr;\n\n                    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                      while (1) {\n                        switch (_context7.prev = _context7.next) {\n                          case 0:\n                            if (response.status === 200) {\n                              if (response !== null && response !== void 0 && (_response$data2 = response.data) !== null && _response$data2 !== void 0 && _response$data2.data) resv(response.data.data);\n                            } else {\n                              retErr = isErrorMsg(response);\n                              toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                              });\n                            }\n\n                          case 1:\n                          case \"end\":\n                            return _context7.stop();\n                        }\n                      }\n                    }, _callee7);\n                  }));\n\n                  return function (_x9) {\n                    return _ref8.apply(this, arguments);\n                  };\n                }())[\"catch\"](function (error) {\n                  console.log(error);\n                  resv(error.response || {\n                    status: 0\n                  });\n                });\n\n              case 2:\n                return _context8.abrupt(\"return\", _context8.sent);\n\n              case 3:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function (_x8) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n  };\n\n  useEffect(function () {\n    var _state$languages;\n\n    (state === null || state === void 0 ? void 0 : (_state$languages = state.languages) === null || _state$languages === void 0 ? void 0 : _state$languages.length) > 0 && state.languages.forEach(function (lang) {\n      var _state$langsFile, _state$langsFile$head, _lang$code, _state$langsFile2, _state$langsFile2$bod, _lang$code2, _state$langsFile3, _state$langsFile3$foo, _lang$code3;\n\n      if (state !== null && state !== void 0 && (_state$langsFile = state.langsFile) !== null && _state$langsFile !== void 0 && (_state$langsFile$head = _state$langsFile.header) !== null && _state$langsFile$head !== void 0 && _state$langsFile$head[lang === null || lang === void 0 ? void 0 : (_lang$code = lang.code) === null || _lang$code === void 0 ? void 0 : _lang$code.toLowerCase()] && state !== null && state !== void 0 && (_state$langsFile2 = state.langsFile) !== null && _state$langsFile2 !== void 0 && (_state$langsFile2$bod = _state$langsFile2.body) !== null && _state$langsFile2$bod !== void 0 && _state$langsFile2$bod[lang === null || lang === void 0 ? void 0 : (_lang$code2 = lang.code) === null || _lang$code2 === void 0 ? void 0 : _lang$code2.toLowerCase()] && state !== null && state !== void 0 && (_state$langsFile3 = state.langsFile) !== null && _state$langsFile3 !== void 0 && (_state$langsFile3$foo = _state$langsFile3.footer) !== null && _state$langsFile3$foo !== void 0 && _state$langsFile3$foo[lang === null || lang === void 0 ? void 0 : (_lang$code3 = lang.code) === null || _lang$code3 === void 0 ? void 0 : _lang$code3.toLowerCase()]) {\n        var _state$translatedLang;\n\n        var isExist = state === null || state === void 0 ? void 0 : (_state$translatedLang = state.translatedLanguages) === null || _state$translatedLang === void 0 ? void 0 : _state$translatedLang.find(function (x) {\n          return x.id === lang.id;\n        });\n        !isExist ? pushToState('pageBuilder', ['translatedLanguages'], [lang]) : null;\n      }\n    });\n  }, [state.langsFile]);\n\n  var resetRenderDialog = function resetRenderDialog() {\n    setRenderDialog(false);\n  };\n\n  var handleSelectedHeader = function handleSelectedHeader(header) {\n    // saving header into redux\n    if (state.langCode === state.defaultLang) {\n      setToState('pageBuilder', ['email', 'header'], header);\n    } else {\n      var updatedlangsFile = _objectSpread({}, state.langsFile);\n\n      if (updatedlangsFile.header[state.langCode]) {\n        setToState('pageBuilder', ['langsFile', 'header', state.langCode], header);\n      }\n    }\n  };\n\n  var handleSelectedFooter = function handleSelectedFooter(footer) {\n    // saving footer into redux\n    if (state.langCode === state.defaultLang) {\n      setToState('pageBuilder', ['email', 'footer'], footer);\n    } else {\n      var updatedlangsFile = _objectSpread({}, state.langsFile);\n\n      if (updatedlangsFile.footer[state.langCode]) {\n        setToState('pageBuilder', ['langsFile', 'footer', state.langCode], footer);\n      }\n    }\n  };\n\n  var handleAddEmailSection = function handleAddEmailSection(body, order) {\n    if (body && body.items && body.items.length > 0) {\n      if (body.items[body.items.length - 1].type === 'paragraph') {\n        Insert({\n          // insert paragraph into hcmitemtxt\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMTXT,\n          token: authToken,\n          data: {\n            itemid: state.hcmItemId,\n            hotelrefno: Number(companyId)\n          }\n        }).then(function (res) {\n          if (res.status === 200 && res.data.data) {\n            Insert({\n              // insert textpar\n              apiUrl: GENERAL_SETTINGS.OREST_URL,\n              endpoint: OREST_ENDPOINT.HCMITEMTXTPAR,\n              token: authToken,\n              data: {\n                itemid: res.data.data.id,\n                itemtext: body.items[body.items.length - 1].service,\n                hotelrefno: Number(companyId)\n              }\n            }).then(function (res1) {\n              var _res1$data;\n\n              if ((res1 === null || res1 === void 0 ? void 0 : res1.status) === 200 && res1 !== null && res1 !== void 0 && (_res1$data = res1.data) !== null && _res1$data !== void 0 && _res1$data.data) {\n                var _body$items, _body$items2, _body$items3, _updatedEmailObj$body;\n\n                body.items[body.items.length - 1] = {\n                  service: \"hcmitemtxtpar\",\n                  type: \"paragraph\",\n                  gid: res1.data.data.gid,\n                  width: body === null || body === void 0 ? void 0 : (_body$items = body.items[body.items.length - 1]) === null || _body$items === void 0 ? void 0 : _body$items.width,\n                  id: \"item-\".concat(body === null || body === void 0 ? void 0 : (_body$items2 = body.items) === null || _body$items2 === void 0 ? void 0 : _body$items2.length),\n                  useBgColor: body === null || body === void 0 ? void 0 : (_body$items3 = body.items[body.items.length - 1]) === null || _body$items3 === void 0 ? void 0 : _body$items3.useBgColor\n                };\n\n                var updatedEmailObj = _objectSpread({}, state === null || state === void 0 ? void 0 : state.email);\n\n                updatedEmailObj === null || updatedEmailObj === void 0 ? void 0 : (_updatedEmailObj$body = updatedEmailObj.body) === null || _updatedEmailObj$body === void 0 ? void 0 : _updatedEmailObj$body.splice(order - 1, 0, body);\n                updateState('pageBuilder', 'email', updatedEmailObj);\n              }\n            });\n          }\n        });\n      } else {\n        var _updatedEmailObj$body2;\n\n        var updatedEmailObj = _objectSpread({}, state === null || state === void 0 ? void 0 : state.email);\n\n        updatedEmailObj === null || updatedEmailObj === void 0 ? void 0 : (_updatedEmailObj$body2 = updatedEmailObj.body) === null || _updatedEmailObj$body2 === void 0 ? void 0 : _updatedEmailObj$body2.splice(order - 1, 0, body);\n        updateState('pageBuilder', 'email', updatedEmailObj);\n      }\n    }\n  };\n\n  var handleDeleteHeader = function handleDeleteHeader() {\n    // deleting header from redux\n    setToState('pageBuilder', ['email', 'header'], {});\n    setToState('pageBuilder', ['langsFile', 'header'], {});\n    toast.success(DELETE_SUCCESS, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  };\n\n  var handleDeleteFooter = function handleDeleteFooter() {\n    // deleting footer from redux\n    setToState('pageBuilder', ['email', 'footer'], {});\n    setToState('pageBuilder', ['langsFile', 'footer'], {});\n    toast.success(DELETE_SUCCESS, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  };\n\n  var handleDeleteEmailSection = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(index) {\n      var body, req, _iterator, _step, component, REQUEST_OPTIONS_DELETE_HCMITEMIMG, image, REQUEST_OPTIONS_DELETE_HCMITEMTXTPAR, paragrapgh;\n\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              // deleting body from redux\n              setIsDeleting(true);\n              body = state.email.body[index];\n              req = [];\n              _iterator = _createForOfIteratorHelper(body.items);\n              _context10.prev = 4;\n\n              _iterator.s();\n\n            case 6:\n              if ((_step = _iterator.n()).done) {\n                _context10.next = 22;\n                break;\n              }\n\n              component = _step.value;\n\n              if (!(component.type === 'image')) {\n                _context10.next = 14;\n                break;\n              }\n\n              REQUEST_OPTIONS_DELETE_HCMITEMIMG = {\n                url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMIMG + OREST_ENDPOINT.SLASH + 'del/' + component.gid,\n                method: REQUEST_METHOD_CONST.DELETE,\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId)\n                }\n              };\n              _context10.next = 12;\n              return deleteImage(REQUEST_OPTIONS_DELETE_HCMITEMIMG);\n\n            case 12:\n              image = _context10.sent;\n              req.push(image);\n\n            case 14:\n              if (!(component.type === 'paragraph')) {\n                _context10.next = 20;\n                break;\n              }\n\n              REQUEST_OPTIONS_DELETE_HCMITEMTXTPAR = {\n                url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.HCMITEMTXTPAR + OREST_ENDPOINT.SLASH + 'del/' + component.gid,\n                method: REQUEST_METHOD_CONST.DELETE,\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId)\n                }\n              };\n              _context10.next = 18;\n              return deleteParagraph(REQUEST_OPTIONS_DELETE_HCMITEMTXTPAR);\n\n            case 18:\n              paragrapgh = _context10.sent;\n              req.push(paragrapgh);\n\n            case 20:\n              _context10.next = 6;\n              break;\n\n            case 22:\n              _context10.next = 27;\n              break;\n\n            case 24:\n              _context10.prev = 24;\n              _context10.t0 = _context10[\"catch\"](4);\n\n              _iterator.e(_context10.t0);\n\n            case 27:\n              _context10.prev = 27;\n\n              _iterator.f();\n\n              return _context10.finish(27);\n\n            case 30:\n              _context10.next = 32;\n              return Promise.all(req).then( /*#__PURE__*/function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(res) {\n                  var isSuccess, updatedOtherLangs, lang;\n                  return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                    while (1) {\n                      switch (_context9.prev = _context9.next) {\n                        case 0:\n                          isSuccess = true;\n                          _context9.next = 3;\n                          return res.map(function (r) {\n                            if (r.status !== 200) {\n                              isSuccess = false;\n                            }\n                          });\n\n                        case 3:\n                          setIsDeleting(false);\n\n                          if (isSuccess) {\n                            deleteFromState('pageBuilder', ['email', 'body'], [index, 1]);\n                            updatedOtherLangs = _objectSpread({}, state.langsFile.body);\n\n                            for (lang in updatedOtherLangs) {\n                              if (updatedOtherLangs[lang].items && updatedOtherLangs[lang].items.length > 0) {\n                                updatedOtherLangs[lang].items.splice(index, 1);\n                              }\n                            }\n\n                            setToState('pageBuilder', ['langsFile', 'body'], updatedOtherLangs);\n                            toast.success(DELETE_SUCCESS, {\n                              position: toast.POSITION.TOP_RIGHT\n                            });\n                          } else {\n                            toast.error('Something went wrong', {\n                              position: toast.POSITION.TOP_RIGHT\n                            });\n                          }\n\n                        case 5:\n                        case \"end\":\n                          return _context9.stop();\n                      }\n                    }\n                  }, _callee9);\n                }));\n\n                return function (_x11) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n\n            case 32:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10, null, [[4, 24, 27, 30]]);\n    }));\n\n    return function handleDeleteEmailSection(_x10) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var deleteImage = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(header) {\n      return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              return _context13.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(resv) {\n                  return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n                    while (1) {\n                      switch (_context12.prev = _context12.next) {\n                        case 0:\n                          _context12.next = 2;\n                          return axios(header).then( /*#__PURE__*/function () {\n                            var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(response) {\n                              var retErr;\n                              return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                                while (1) {\n                                  switch (_context11.prev = _context11.next) {\n                                    case 0:\n                                      if (response.status === 200 && response.data && response.data.success) {\n                                        resv(response);\n                                      } else {\n                                        retErr = isErrorMsg(response);\n                                        toast.error(retErr.errorMsg, {\n                                          position: toast.POSITION.TOP_RIGHT\n                                        });\n                                      }\n\n                                    case 1:\n                                    case \"end\":\n                                      return _context11.stop();\n                                  }\n                                }\n                              }, _callee11);\n                            }));\n\n                            return function (_x14) {\n                              return _ref13.apply(this, arguments);\n                            };\n                          }())[\"catch\"](function (error) {\n                            console.log(error);\n                            resv(error.response || {\n                              status: 0\n                            });\n                          });\n\n                        case 2:\n                          return _context12.abrupt(\"return\", _context12.sent);\n\n                        case 3:\n                        case \"end\":\n                          return _context12.stop();\n                      }\n                    }\n                  }, _callee12);\n                }));\n\n                return function (_x13) {\n                  return _ref12.apply(this, arguments);\n                };\n              }()));\n\n            case 1:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13);\n    }));\n\n    return function deleteImage(_x12) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  var deleteParagraph = /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(header) {\n      return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              return _context16.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(resv) {\n                  return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n                    while (1) {\n                      switch (_context15.prev = _context15.next) {\n                        case 0:\n                          _context15.next = 2;\n                          return axios(header).then( /*#__PURE__*/function () {\n                            var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(response) {\n                              var retErr;\n                              return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n                                while (1) {\n                                  switch (_context14.prev = _context14.next) {\n                                    case 0:\n                                      if (response.status === 200 && response.data && response.data.success) {\n                                        resv(response);\n                                      } else {\n                                        retErr = isErrorMsg(response);\n                                        toast.error(retErr.errorMsg, {\n                                          position: toast.POSITION.TOP_RIGHT\n                                        });\n                                      }\n\n                                    case 1:\n                                    case \"end\":\n                                      return _context14.stop();\n                                  }\n                                }\n                              }, _callee14);\n                            }));\n\n                            return function (_x17) {\n                              return _ref16.apply(this, arguments);\n                            };\n                          }())[\"catch\"](function (error) {\n                            console.log(error);\n                            resv(error.response || {\n                              status: 0\n                            });\n                          });\n\n                        case 2:\n                          return _context15.abrupt(\"return\", _context15.sent);\n\n                        case 3:\n                        case \"end\":\n                          return _context15.stop();\n                      }\n                    }\n                  }, _callee15);\n                }));\n\n                return function (_x16) {\n                  return _ref15.apply(this, arguments);\n                };\n              }()));\n\n            case 1:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee16);\n    }));\n\n    return function deleteParagraph(_x15) {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n\n  var onEditSection = function onEditSection(newSection, index, order) {\n    if (state.langCode === state.defaultLang) {\n      var updatedBody = _toConsumableArray(state.email.body);\n\n      updatedBody.splice(index, 1);\n      updatedBody.splice(order - 1, 0, newSection);\n      setToState('pageBuilder', ['email', 'body'], updatedBody);\n    } else {\n      if (Object.keys(state.langsFile.body[state.langCode]).length > 0) {\n        var updatedLangs = _objectSpread({}, state.langsFile);\n\n        var updatedItems = state.langsFile.body[state.langCode].items;\n        var items = {\n          items: newSection.items\n        };\n        updatedItems[index] = items;\n        updatedLangs.body[state.langCode].items = updatedItems;\n        updateState('pageBuilder', 'langsFile', updatedLangs);\n      }\n    }\n  };\n\n  var handleEditSectionDialog = function handleEditSectionDialog(section, otherLangSection) {\n    setEditSectionDialog(__jsx(EditEmailSection, {\n      section: section,\n      onEditSection: onEditSection,\n      dialogTitle: \"Edit Section\",\n      isDialogOpen: true,\n      resetRender: function resetRender() {\n        return setEditSectionDialog('');\n      },\n      otherLangSection: otherLangSection,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 13\n      }\n    }));\n  };\n\n  var handleDelete = function handleDelete(type, isDelete) {\n    if (isDelete) {\n      switch (type) {\n        case 'header':\n          handleDeleteHeader();\n          break;\n\n        case 'footer':\n          handleDeleteFooter();\n          break;\n\n        case 'section':\n          handleDeleteEmailSection(deletedIndex);\n          break;\n      }\n    }\n\n    setAlert(false);\n  };\n\n  var handleLanguageChange = /*#__PURE__*/function () {\n    var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(lang) {\n      var code, updatedlangsFile, _state$langsFile4, _state$langsFile5, _state$langsFile6, _state$email4, _state$email4$header, _state$email4$header$, _state$email5, _state$email5$header, _state$email5$header$, _state$email6, _state$email6$header, _state$email6$header$, _updatedlangsFile$hea, _updatedlangsFile$hea2, _state$email7, _state$email7$header, _state$email7$header$, _updatedlangsFile$hea3, _updatedlangsFile$hea4, i, _iterator2, _step2, value, _state$email8, _state$email8$footer, _state$email8$footer$, _state$email9, _state$email9$footer, _loop, _i2, _iterator4, _step4, section, sectionIndex, _iterator5, _step5, item, itemIndex, REQUEST_OPTION_GET_IMAGE, img, REQUEST_OPTION_GET_TEXT, text, _i4, _iterator6, _step6, _item, _itemIndex, _REQUEST_OPTION_GET_IMAGE, _img, _REQUEST_OPTION_GET_TEXT, _text;\n\n      return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              code = lang === null || lang === void 0 ? void 0 : lang.code.toLowerCase();\n              updateState('pageBuilder', 'langCode', code);\n              updateState('pageBuilder', 'langId', lang === null || lang === void 0 ? void 0 : lang.id);\n              updatedlangsFile = _objectSpread({}, state.langsFile);\n\n              if (!(code !== state.defaultLang)) {\n                _context17.next = 97;\n                break;\n              }\n\n              !(state !== null && state !== void 0 && (_state$langsFile4 = state.langsFile) !== null && _state$langsFile4 !== void 0 && _state$langsFile4.header) ? updatedlangsFile['header'] = {} : null;\n              !(state !== null && state !== void 0 && (_state$langsFile5 = state.langsFile) !== null && _state$langsFile5 !== void 0 && _state$langsFile5.footer) ? updatedlangsFile['footer'] = {} : null;\n              !(state !== null && state !== void 0 && (_state$langsFile6 = state.langsFile) !== null && _state$langsFile6 !== void 0 && _state$langsFile6.body) ? updatedlangsFile['body'] = {} : null;\n\n              if (!updatedlangsFile.header[code]) {\n                if ((state === null || state === void 0 ? void 0 : (_state$email4 = state.email) === null || _state$email4 === void 0 ? void 0 : (_state$email4$header = _state$email4.header) === null || _state$email4$header === void 0 ? void 0 : (_state$email4$header$ = _state$email4$header.items) === null || _state$email4$header$ === void 0 ? void 0 : _state$email4$header$.length) > 0) {\n                  updatedlangsFile.header[code] = {\n                    items: []\n                  };\n                  Promise.all(state.email.header.items.map(function (rowItem, rowIndex) {\n                    if (rowItem.type === 'logo') {\n                      updatedlangsFile.header[code].items[rowIndex] = {\n                        value: rowItem.value.link\n                      };\n                    }\n\n                    if (rowItem.type === 'link') {\n                      updatedlangsFile.header[code].items[rowIndex] = {\n                        value: []\n                      };\n                      rowItem.value.map(function (colItem) {\n                        updatedlangsFile.header[code].items[rowIndex].value.push({\n                          value: colItem.title\n                        });\n                      });\n                    }\n\n                    if (rowItem.type === 'social-link') {\n                      updatedlangsFile.header[code].items[rowIndex] = {\n                        value: []\n                      };\n                      rowItem.value.map(function (colItem) {\n                        updatedlangsFile.header[code].items[rowIndex].value.push({\n                          value: colItem.title\n                        });\n                      });\n                    }\n                  }));\n                  updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n              } else {\n                if ((state === null || state === void 0 ? void 0 : (_state$email5 = state.email) === null || _state$email5 === void 0 ? void 0 : (_state$email5$header = _state$email5.header) === null || _state$email5$header === void 0 ? void 0 : (_state$email5$header$ = _state$email5$header.items) === null || _state$email5$header$ === void 0 ? void 0 : _state$email5$header$.length) > 0) {\n                  if ((state === null || state === void 0 ? void 0 : (_state$email6 = state.email) === null || _state$email6 === void 0 ? void 0 : (_state$email6$header = _state$email6.header) === null || _state$email6$header === void 0 ? void 0 : (_state$email6$header$ = _state$email6$header.items) === null || _state$email6$header$ === void 0 ? void 0 : _state$email6$header$.length) > (updatedlangsFile === null || updatedlangsFile === void 0 ? void 0 : (_updatedlangsFile$hea = updatedlangsFile.header[code]) === null || _updatedlangsFile$hea === void 0 ? void 0 : (_updatedlangsFile$hea2 = _updatedlangsFile$hea.items) === null || _updatedlangsFile$hea2 === void 0 ? void 0 : _updatedlangsFile$hea2.length)) {\n                    for (i = updatedlangsFile.header[code].items.length; i < state.email.header.items.length; i++) {\n                      if (state.email.header.items[i].type === 'social-link' || state.email.header.items[i].type === 'link') {\n                        updatedlangsFile.header[code].items.push({\n                          value: []\n                        });\n                        _iterator2 = _createForOfIteratorHelper(state.email.header.items[i].value);\n\n                        try {\n                          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                            value = _step2.value;\n                            updatedlangsFile.header[code].items[i].value.push({\n                              value: value.title\n                            });\n                          }\n                        } catch (err) {\n                          _iterator2.e(err);\n                        } finally {\n                          _iterator2.f();\n                        }\n                      }\n\n                      if (state.email.header.items[i].type === 'logo') {\n                        updatedlangsFile.header[code].items.push({\n                          value: state.email.header.items[i].value.value\n                        });\n                      }\n                    }\n                  }\n\n                  if ((state === null || state === void 0 ? void 0 : (_state$email7 = state.email) === null || _state$email7 === void 0 ? void 0 : (_state$email7$header = _state$email7.header) === null || _state$email7$header === void 0 ? void 0 : (_state$email7$header$ = _state$email7$header.items) === null || _state$email7$header$ === void 0 ? void 0 : _state$email7$header$.length) < (updatedlangsFile === null || updatedlangsFile === void 0 ? void 0 : (_updatedlangsFile$hea3 = updatedlangsFile.header[code]) === null || _updatedlangsFile$hea3 === void 0 ? void 0 : (_updatedlangsFile$hea4 = _updatedlangsFile$hea3.items) === null || _updatedlangsFile$hea4 === void 0 ? void 0 : _updatedlangsFile$hea4.length)) {\n                    updatedlangsFile.header[code].items.length = state.email.header.items.length;\n                  }\n\n                  Promise.all(state.email.header.items.map(function (item, index) {\n                    if (item.type === 'social-link' || item.type === 'link') {\n                      if (item.value.length > updatedlangsFile.header[code].items[index].value.length) {\n                        for (var _i = updatedlangsFile.header[code].items[index].value.length; _i < item.value.length; _i++) {\n                          updatedlangsFile.header[code].items[index].value.push({\n                            value: item.value[_i].title\n                          });\n                        }\n                      }\n\n                      if (item.value.length < updatedlangsFile.header[code].items[index].value.length) {\n                        updatedlangsFile.header[code].items[index].value.length = item.value.length;\n                      }\n                    }\n                  }));\n                  updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n              } // footer related conditions\n\n\n              if (!updatedlangsFile.footer[code]) {\n                if ((state === null || state === void 0 ? void 0 : (_state$email8 = state.email) === null || _state$email8 === void 0 ? void 0 : (_state$email8$footer = _state$email8.footer) === null || _state$email8$footer === void 0 ? void 0 : (_state$email8$footer$ = _state$email8$footer.items) === null || _state$email8$footer$ === void 0 ? void 0 : _state$email8$footer$.length) > 0) {\n                  updatedlangsFile.footer[code] = {\n                    items: []\n                  };\n                  Promise.all(state.email.footer.items.map(function (rowItem, rowIndex) {\n                    updatedlangsFile.footer[code].items[rowIndex] = {\n                      items: []\n                    };\n                    rowItem.items.map(function (colItem, colIndex) {\n                      if (colItem.type === 'social-link' || colItem.type === 'link') {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                          value: colItem.value.title\n                        };\n                      }\n\n                      if (colItem.type === 'image') {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                          value: colItem.value.image\n                        };\n                      }\n\n                      if (colItem.type === 'heading' || colItem.type === 'paragraph') {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                          value: colItem.value\n                        };\n                      }\n\n                      if (colItem.type === 'address') {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                          value: []\n                        };\n                        colItem.value.map(function (val, i) {\n                          updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n                            value: val.title\n                          };\n                        });\n                      }\n                    });\n                  }));\n                  updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n              } else {\n                if ((state === null || state === void 0 ? void 0 : (_state$email9 = state.email) === null || _state$email9 === void 0 ? void 0 : (_state$email9$footer = _state$email9.footer) === null || _state$email9$footer === void 0 ? void 0 : _state$email9$footer.length) > 0) {\n                  if (state.email.footer.items.length > updatedlangsFile.footer[code].items.length) {\n                    _loop = function _loop(_i2) {\n                      updatedlangsFile.footer[code].items.push({\n                        items: []\n                      });\n\n                      var _iterator3 = _createForOfIteratorHelper(state.email.footer.items[_i2].items),\n                          _step3;\n\n                      try {\n                        var _loop2 = function _loop2() {\n                          var item = _step3.value;\n\n                          var index = state.email.footer.items[_i2].items.indexOf(item);\n\n                          if (item.type === 'social-link' || item.type === 'link') {\n                            updatedlangsFile.footer[code].items[_i2].items[index] = {\n                              value: item.value.title\n                            };\n                          }\n\n                          if (item.type === 'heading' || item.type === 'paragraph') {\n                            updatedlangsFile.footer[code].items[_i2].items[index] = {\n                              value: item.value\n                            };\n                          }\n\n                          if (item.type === 'address') {\n                            updatedlangsFile.footer[code].items[_i2].items[index] = {\n                              value: []\n                            };\n                            item.value.map(function (val, j) {\n                              updatedlangsFile.footer[code].items[_i2].items[index].value[j] = {\n                                value: val.title\n                              };\n                            });\n                          }\n                        };\n\n                        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                          _loop2();\n                        }\n                      } catch (err) {\n                        _iterator3.e(err);\n                      } finally {\n                        _iterator3.f();\n                      }\n                    };\n\n                    for (_i2 = updatedlangsFile.footer[code].items.length; _i2 < state.email.footer.items.length; _i2++) {\n                      _loop(_i2);\n                    }\n                  }\n\n                  if (state.email.footer.items.length < updatedlangsFile.footer[code].items.length) {\n                    updatedlangsFile.footer[code].items.length = state.email.footer.items.length;\n                  }\n\n                  if (state.email.footer.items.length === updatedlangsFile.footer[code].items.length) {\n                    Promise.all(state.email.footer.items.map(function (item, index) {\n                      if (item.items.length > updatedlangsFile.footer[code].items[index].items.length) {\n                        var _loop3 = function _loop3(_i3) {\n                          if (item.items[_i3].type === 'social-link' || item.items[_i3].type === 'link') {\n                            updatedlangsFile.footer[code].items[index].items[_i3] = {\n                              value: item.items[_i3].value.title\n                            };\n                          }\n\n                          if (item.items[_i3].type === 'heading' || item.items[_i3].type === 'paragraph') {\n                            updatedlangsFile.footer[code].items[index].items[_i3] = {\n                              value: item.items[_i3].value\n                            };\n                          }\n\n                          if (item.items[_i3].type === 'address') {\n                            updatedlangsFile.footer[code].items[index].items[_i3] = {\n                              value: []\n                            };\n\n                            item.items[_i3].value.map(function (val, j) {\n                              updatedlangsFile.footer[code].items[index].items[_i3].value[j] = {\n                                value: val.title\n                              };\n                            });\n                          }\n                        };\n\n                        for (var _i3 = updatedlangsFile.footer[code].items[index].items.length; _i3 < state.email.footer.items[index].items.length; _i3++) {\n                          _loop3(_i3);\n                        }\n                      }\n\n                      if (item.items.length < updatedlangsFile.footer[code].items[index].items.length) {\n                        updatedlangsFile.footer[code].items[index].items.length = item.items.length;\n                      }\n                    }));\n                  }\n\n                  Promise.all(state.email.footer.items.map(function (item, index) {\n                    item.items.length > 0 && item.items.map(function (subItem, i) {\n                      if (subItem.type === 'address') {\n                        if (subItem.value.length > updatedlangsFile.footer[code].items[index].items[i].value.length) {\n                          for (var j = updatedlangsFile.footer[code].items[index].items[i].value.length; j < subItem.value.length; j++) {\n                            updatedlangsFile.footer[code].items[index].items[i].value[j] = {\n                              value: subItem.value[j].title\n                            };\n                          }\n                        }\n\n                        if (subItem.value.length < updatedlangsFile.footer[code].items[index].items[i].value.length) {\n                          updatedlangsFile.footer[code].items[index].items[i].value.length = subItem.value.length;\n                        }\n                      }\n                    });\n                  }));\n                  updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n              } //body related condition\n\n\n              if (updatedlangsFile.body[code]) {\n                _context17.next = 61;\n                break;\n              }\n\n              if (!(state.email.body.length > 0)) {\n                _context17.next = 58;\n                break;\n              }\n\n              updatedlangsFile.body[code] = {\n                items: []\n              };\n              _iterator4 = _createForOfIteratorHelper(state.email.body);\n              _context17.prev = 14;\n\n              _iterator4.s();\n\n            case 16:\n              if ((_step4 = _iterator4.n()).done) {\n                _context17.next = 50;\n                break;\n              }\n\n              section = _step4.value;\n              sectionIndex = state.email.body.indexOf(section);\n              updatedlangsFile.body[code].items.push({\n                items: []\n              });\n              _iterator5 = _createForOfIteratorHelper(section.items);\n              _context17.prev = 21;\n\n              _iterator5.s();\n\n            case 23:\n              if ((_step5 = _iterator5.n()).done) {\n                _context17.next = 40;\n                break;\n              }\n\n              item = _step5.value;\n              itemIndex = section.items.indexOf(item);\n\n              if (!(item.type === 'image')) {\n                _context17.next = 32;\n                break;\n              }\n\n              REQUEST_OPTION_GET_IMAGE = {\n                url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMIMG + '/view/list',\n                method: 'get',\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId),\n                  query: \"gid:\".concat(item.gid)\n                }\n              };\n              _context17.next = 30;\n              return getImageData(REQUEST_OPTION_GET_IMAGE);\n\n            case 30:\n              img = _context17.sent;\n              updatedlangsFile.body[code].items[sectionIndex].items[itemIndex] = {\n                image: {\n                  title: img.title,\n                  description: img.description\n                }\n              };\n\n            case 32:\n              if (!(item.type === 'paragraph')) {\n                _context17.next = 38;\n                break;\n              }\n\n              REQUEST_OPTION_GET_TEXT = {\n                url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMTXTPAR + '/view/list',\n                method: 'get',\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId),\n                  query: \"gid:\".concat(item.gid)\n                }\n              };\n              _context17.next = 36;\n              return getTextData(REQUEST_OPTION_GET_TEXT);\n\n            case 36:\n              text = _context17.sent;\n              updatedlangsFile.body[code].items[sectionIndex].items[itemIndex] = {\n                text: text\n              };\n\n            case 38:\n              _context17.next = 23;\n              break;\n\n            case 40:\n              _context17.next = 45;\n              break;\n\n            case 42:\n              _context17.prev = 42;\n              _context17.t0 = _context17[\"catch\"](21);\n\n              _iterator5.e(_context17.t0);\n\n            case 45:\n              _context17.prev = 45;\n\n              _iterator5.f();\n\n              return _context17.finish(45);\n\n            case 48:\n              _context17.next = 16;\n              break;\n\n            case 50:\n              _context17.next = 55;\n              break;\n\n            case 52:\n              _context17.prev = 52;\n              _context17.t1 = _context17[\"catch\"](14);\n\n              _iterator4.e(_context17.t1);\n\n            case 55:\n              _context17.prev = 55;\n\n              _iterator4.f();\n\n              return _context17.finish(55);\n\n            case 58:\n              updateState('pageBuilder', 'langsFile', updatedlangsFile);\n              _context17.next = 97;\n              break;\n\n            case 61:\n              if (!(updatedlangsFile.body[code].items.length < state.email.body.length)) {\n                _context17.next = 97;\n                break;\n              }\n\n              _i4 = updatedlangsFile.body[code].items.length;\n\n            case 63:\n              if (!(_i4 < state.email.body.length)) {\n                _context17.next = 96;\n                break;\n              }\n\n              updatedlangsFile.body[code].items.push({\n                items: []\n              });\n              _iterator6 = _createForOfIteratorHelper(state.email.body[_i4].items);\n              _context17.prev = 66;\n\n              _iterator6.s();\n\n            case 68:\n              if ((_step6 = _iterator6.n()).done) {\n                _context17.next = 85;\n                break;\n              }\n\n              _item = _step6.value;\n              _itemIndex = state.email.body[_i4].items.indexOf(_item);\n\n              if (!(_item.type === 'image')) {\n                _context17.next = 77;\n                break;\n              }\n\n              _REQUEST_OPTION_GET_IMAGE = {\n                url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMIMG + '/view/list',\n                method: 'get',\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId),\n                  query: \"gid:\".concat(_item.gid)\n                }\n              };\n              _context17.next = 75;\n              return getImageData(_REQUEST_OPTION_GET_IMAGE);\n\n            case 75:\n              _img = _context17.sent;\n              updatedlangsFile.body[code].items[_i4].items[_itemIndex] = {\n                image: {\n                  title: _img.title,\n                  description: _img.description\n                }\n              };\n\n            case 77:\n              if (!(_item.type === 'paragraph')) {\n                _context17.next = 83;\n                break;\n              }\n\n              _REQUEST_OPTION_GET_TEXT = {\n                url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMTXTPAR + '/view/list',\n                method: 'get',\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId),\n                  query: \"gid:\".concat(_item.gid)\n                }\n              };\n              _context17.next = 81;\n              return getTextData(_REQUEST_OPTION_GET_TEXT);\n\n            case 81:\n              _text = _context17.sent;\n              updatedlangsFile.body[code].items[_i4].items[_itemIndex] = {\n                text: _text\n              };\n\n            case 83:\n              _context17.next = 68;\n              break;\n\n            case 85:\n              _context17.next = 90;\n              break;\n\n            case 87:\n              _context17.prev = 87;\n              _context17.t2 = _context17[\"catch\"](66);\n\n              _iterator6.e(_context17.t2);\n\n            case 90:\n              _context17.prev = 90;\n\n              _iterator6.f();\n\n              return _context17.finish(90);\n\n            case 93:\n              _i4++;\n              _context17.next = 63;\n              break;\n\n            case 96:\n              updateState('pageBuilder', 'langsFile', updatedlangsFile);\n\n            case 97:\n            case \"end\":\n              return _context17.stop();\n          }\n        }\n      }, _callee17, null, [[14, 52, 55, 58], [21, 42, 45, 48], [66, 87, 90, 93]]);\n    }));\n\n    return function handleLanguageChange(_x18) {\n      return _ref17.apply(this, arguments);\n    };\n  }();\n\n  var getImageData = /*#__PURE__*/function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(header) {\n      return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n        while (1) {\n          switch (_context20.prev = _context20.next) {\n            case 0:\n              return _context20.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(resv) {\n                  return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n                    while (1) {\n                      switch (_context19.prev = _context19.next) {\n                        case 0:\n                          _context19.next = 2;\n                          return axios(header).then( /*#__PURE__*/function () {\n                            var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(response) {\n                              var retErr;\n                              return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n                                while (1) {\n                                  switch (_context18.prev = _context18.next) {\n                                    case 0:\n                                      if (response.status === 200 && response.data && response.data.data.length > 0) {\n                                        resv({\n                                          title: response.data.data[0].title,\n                                          description: response.data.data[0].description\n                                        });\n                                      } else {\n                                        retErr = isErrorMsg(response);\n                                        toast.error(retErr.errorMsg, {\n                                          position: toast.POSITION.TOP_RIGHT\n                                        });\n                                      }\n\n                                    case 1:\n                                    case \"end\":\n                                      return _context18.stop();\n                                  }\n                                }\n                              }, _callee18);\n                            }));\n\n                            return function (_x21) {\n                              return _ref20.apply(this, arguments);\n                            };\n                          }())[\"catch\"](function (error) {\n                            console.log(error);\n                            resv(error.response || {\n                              status: 0\n                            });\n                          });\n\n                        case 2:\n                          return _context19.abrupt(\"return\", _context19.sent);\n\n                        case 3:\n                        case \"end\":\n                          return _context19.stop();\n                      }\n                    }\n                  }, _callee19);\n                }));\n\n                return function (_x20) {\n                  return _ref19.apply(this, arguments);\n                };\n              }()));\n\n            case 1:\n            case \"end\":\n              return _context20.stop();\n          }\n        }\n      }, _callee20);\n    }));\n\n    return function getImageData(_x19) {\n      return _ref18.apply(this, arguments);\n    };\n  }();\n\n  var getTextData = /*#__PURE__*/function () {\n    var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23(header) {\n      return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n        while (1) {\n          switch (_context23.prev = _context23.next) {\n            case 0:\n              return _context23.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref22 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22(resv) {\n                  return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n                    while (1) {\n                      switch (_context22.prev = _context22.next) {\n                        case 0:\n                          _context22.next = 2;\n                          return axios(header).then( /*#__PURE__*/function () {\n                            var _ref23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(response) {\n                              var retErr;\n                              return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n                                while (1) {\n                                  switch (_context21.prev = _context21.next) {\n                                    case 0:\n                                      if (response.status === 200 && response.data && response.data.data.length > 0) {\n                                        resv(response.data.data[0].itemtext);\n                                      } else {\n                                        retErr = isErrorMsg(response);\n                                        toast.error(retErr.errorMsg, {\n                                          position: toast.POSITION.TOP_RIGHT\n                                        });\n                                      }\n\n                                    case 1:\n                                    case \"end\":\n                                      return _context21.stop();\n                                  }\n                                }\n                              }, _callee21);\n                            }));\n\n                            return function (_x24) {\n                              return _ref23.apply(this, arguments);\n                            };\n                          }())[\"catch\"](function (error) {\n                            console.log(error);\n                            resv(error.response || {\n                              status: 0\n                            });\n                          });\n\n                        case 2:\n                          return _context22.abrupt(\"return\", _context22.sent);\n\n                        case 3:\n                        case \"end\":\n                          return _context22.stop();\n                      }\n                    }\n                  }, _callee22);\n                }));\n\n                return function (_x23) {\n                  return _ref22.apply(this, arguments);\n                };\n              }()));\n\n            case 1:\n            case \"end\":\n              return _context23.stop();\n          }\n        }\n      }, _callee23);\n    }));\n\n    return function getTextData(_x22) {\n      return _ref21.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Container, {\n    className: isDeleting ? classes.disabledEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1094,\n      columnNumber: 9\n    }\n  }, !isLoaded ? __jsx(LoadingSpinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1096,\n      columnNumber: 29\n    }\n  }) : __jsx(React.Fragment, null, __jsx(Typography, {\n    style: {\n      display: \"flex\",\n      justifyContent: 'flex-end'\n    },\n    component: 'div',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1098,\n      columnNumber: 21\n    }\n  }, __jsx(FormControl, {\n    variant: \"outlined\",\n    style: {\n      marginRight: 8\n    },\n    size: 'small',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1105,\n      columnNumber: 25\n    }\n  }, __jsx(InputLabel, {\n    style: {\n      fontSize: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1110,\n      columnNumber: 29\n    }\n  }, \"Width\"), __jsx(Select, {\n    value: state === null || state === void 0 ? void 0 : state.emailWidth,\n    onChange: function onChange(e) {\n      updateState('pageBuilder', 'emailWidth', e.target.value);\n    },\n    label: \"Width\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1111,\n      columnNumber: 29\n    }\n  }, emailWidth.map(function (width, index) {\n    return __jsx(MenuItem, {\n      value: width,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1120,\n        columnNumber: 41\n      }\n    }, width);\n  }))), __jsx(Typography, {\n    component: 'div',\n    className: (state === null || state === void 0 ? void 0 : (_state$email10 = state.email) === null || _state$email10 === void 0 ? void 0 : (_state$email10$body = _state$email10.body) === null || _state$email10$body === void 0 ? void 0 : _state$email10$body.length) === 0 ? classes.disabledEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1127,\n      columnNumber: 25\n    }\n  }, __jsx(LanguageDropdown, {\n    handleChange: handleLanguageChange,\n    langID: state !== null && state !== void 0 && state.langId ? state === null || state === void 0 ? void 0 : state.langId : state === null || state === void 0 ? void 0 : state.defaultLangId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1129,\n      columnNumber: 29\n    }\n  }))), __jsx(Box, _extends({}, defaultProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1132,\n      columnNumber: 25\n    }\n  }), __jsx(Typography, {\n    component: 'div',\n    style: {\n      height: 'auto',\n      overflow: 'auto'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1133,\n      columnNumber: 29\n    }\n  }, Object.keys(state.email.header).length > 0 ? __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1135,\n      columnNumber: 82\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"Delete item\",\n    color: \"primary\",\n    onClick: function onClick() {\n      setDialogType('edit-header');\n      setDialogTitle('Edit Header');\n      setRenderDialog(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1136,\n      columnNumber: 45\n    }\n  }, __jsx(EditIcon, {\n    color: 'primary',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1145,\n      columnNumber: 49\n    }\n  })), state.langCode === state.defaultLang && __jsx(IconButton, {\n    \"aria-label\": \"Delete item\",\n    color: \"primary\",\n    onClick: function onClick() {\n      setAlert(true);\n      setAlertDialogType('header');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1148,\n      columnNumber: 89\n    }\n  }, __jsx(DeleteIcon, {\n    color: 'primary',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1156,\n      columnNumber: 53\n    }\n  })), __jsx(\"div\", {\n    style: {\n      pointerEvents: \"none\",\n      backgroundColor: state === null || state === void 0 ? void 0 : (_state$assets = state.assets) === null || _state$assets === void 0 ? void 0 : (_state$assets$colors = _state$assets.colors) === null || _state$assets$colors === void 0 ? void 0 : (_state$assets$colors$ = _state$assets$colors.primary) === null || _state$assets$colors$ === void 0 ? void 0 : _state$assets$colors$.main\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1159,\n      columnNumber: 45\n    }\n  }, state.langCode === state.defaultLang && __jsx(EmailHeader, {\n    tpl: state.email.header.tpl,\n    items: state.email.header.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1165,\n      columnNumber: 53\n    }\n  }), (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang) && (state === null || state === void 0 ? void 0 : (_state$langsFile7 = state.langsFile) === null || _state$langsFile7 === void 0 ? void 0 : (_state$langsFile7$hea = _state$langsFile7.header) === null || _state$langsFile7$hea === void 0 ? void 0 : (_state$langsFile7$hea2 = _state$langsFile7$hea[state.langCode]) === null || _state$langsFile7$hea2 === void 0 ? void 0 : _state$langsFile7$hea2.items) && __jsx(EmailHeader, {\n    tpl: state.email.header.tpl,\n    items: (_state$langsFile8 = state.langsFile) === null || _state$langsFile8 === void 0 ? void 0 : (_state$langsFile8$hea = _state$langsFile8.header) === null || _state$langsFile8$hea === void 0 ? void 0 : (_state$langsFile8$hea2 = _state$langsFile8$hea[state.langCode]) === null || _state$langsFile8$hea2 === void 0 ? void 0 : _state$langsFile8$hea2.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1173,\n      columnNumber: 53\n    }\n  }))) : __jsx(\"h3\", {\n    className: classes.centreContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1180,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: classes.cursorPointer,\n    onClick: function onClick() {\n      setDialogType('add-header');\n      setDialogTitle('Add Header');\n      setRenderDialog(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1181,\n      columnNumber: 45\n    }\n  }, \"Click to define Header\"))), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1193,\n      columnNumber: 29\n    }\n  }), __jsx(Typography, {\n    component: 'div',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1194,\n      columnNumber: 29\n    }\n  }, (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang) && (state === null || state === void 0 ? void 0 : (_state$langsFile9 = state.langsFile) === null || _state$langsFile9 === void 0 ? void 0 : (_state$langsFile9$bod = _state$langsFile9.body) === null || _state$langsFile9$bod === void 0 ? void 0 : (_state$langsFile9$bod2 = _state$langsFile9$bod[state.langCode]) === null || _state$langsFile9$bod2 === void 0 ? void 0 : (_state$langsFile9$bod3 = _state$langsFile9$bod2.items) === null || _state$langsFile9$bod3 === void 0 ? void 0 : _state$langsFile9$bod3.length) > 0 && state.langsFile.body[state.langCode].items.map(function (item, index) {\n    var _item$items;\n\n    return __jsx(Typography, {\n      component: 'div',\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 45\n      }\n    }, __jsx(IconButton, {\n      color: \"primary\",\n      onClick: function onClick() {\n        handleEditSectionDialog(state.email.body[index], item.items);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 49\n      }\n    }, __jsx(EditIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1208,\n        columnNumber: 53\n      }\n    })), __jsx(Container, {\n      style: {\n        pointerEvents: \"none\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1210,\n        columnNumber: 49\n      }\n    }, __jsx(Grid, {\n      container: true,\n      spacing: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1211,\n        columnNumber: 53\n      }\n    }, (item === null || item === void 0 ? void 0 : (_item$items = item.items) === null || _item$items === void 0 ? void 0 : _item$items.length) > 0 && item.items.map(function (subItem, i) {\n      var _state$email11, _state$email11$body$i, _state$email11$body$i2, _state$email12, _state$email12$body$i, _state$email13, _state$email13$body$i, _state$email14, _state$email14$body$i, _state$email14$body$i2, _state$assets2, _state$assets2$colors, _state$assets2$colors2;\n\n      return __jsx(Grid, {\n        item: true,\n        style: {\n          width: (state === null || state === void 0 ? void 0 : (_state$email11 = state.email) === null || _state$email11 === void 0 ? void 0 : (_state$email11$body$i = _state$email11.body[index]) === null || _state$email11$body$i === void 0 ? void 0 : (_state$email11$body$i2 = _state$email11$body$i.items[i]) === null || _state$email11$body$i2 === void 0 ? void 0 : _state$email11$body$i2.width) + '%'\n        },\n        key: i,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 69\n        }\n      }, 'image' in subItem && __jsx(Image, {\n        imageComponent: state === null || state === void 0 ? void 0 : (_state$email12 = state.email) === null || _state$email12 === void 0 ? void 0 : (_state$email12$body$i = _state$email12.body[index]) === null || _state$email12$body$i === void 0 ? void 0 : _state$email12$body$i.items[i],\n        otherLangsImage: subItem.image,\n        sectionType: state === null || state === void 0 ? void 0 : (_state$email13 = state.email) === null || _state$email13 === void 0 ? void 0 : (_state$email13$body$i = _state$email13.body[index]) === null || _state$email13$body$i === void 0 ? void 0 : _state$email13$body$i.type,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1221,\n          columnNumber: 81\n        }\n      }), 'text' in subItem && __jsx(\"div\", {\n        style: {\n          backgroundColor: state !== null && state !== void 0 && (_state$email14 = state.email) !== null && _state$email14 !== void 0 && (_state$email14$body$i = _state$email14.body[index]) !== null && _state$email14$body$i !== void 0 && (_state$email14$body$i2 = _state$email14$body$i.items[i]) !== null && _state$email14$body$i2 !== void 0 && _state$email14$body$i2.useBgColor ? state === null || state === void 0 ? void 0 : (_state$assets2 = state.assets) === null || _state$assets2 === void 0 ? void 0 : (_state$assets2$colors = _state$assets2.colors) === null || _state$assets2$colors === void 0 ? void 0 : (_state$assets2$colors2 = _state$assets2$colors.message) === null || _state$assets2$colors2 === void 0 ? void 0 : _state$assets2$colors2.main : 'white',\n          height: '100%'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1229,\n          columnNumber: 77\n        }\n      }, __jsx(Paragraph, {\n        paragraph: subItem.text,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 81\n        }\n      })));\n    }))));\n  }), (state === null || state === void 0 ? void 0 : state.langCode) === (state === null || state === void 0 ? void 0 : state.defaultLang) && (state === null || state === void 0 ? void 0 : (_state$email15 = state.email) === null || _state$email15 === void 0 ? void 0 : (_state$email15$body = _state$email15.body) === null || _state$email15$body === void 0 ? void 0 : _state$email15$body.length) > 0 && state.email.body.map(function (body, index) {\n    var _body$items4;\n\n    return __jsx(Typography, {\n      component: 'div',\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1251,\n        columnNumber: 45\n      }\n    }, __jsx(IconButton, {\n      color: \"primary\",\n      onClick: function onClick() {\n        handleEditSectionDialog(body);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1252,\n        columnNumber: 49\n      }\n    }, __jsx(EditIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 53\n      }\n    })), state.langCode === state.defaultLang && __jsx(IconButton, {\n      \"aria-label\": \"Delete item\",\n      color: \"primary\",\n      onClick: function onClick() {\n        setDeletedIndex(index);\n        setAlert(true);\n        setAlertDialogType('section');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 93\n      }\n    }, __jsx(DeleteIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1270,\n        columnNumber: 57\n      }\n    })), __jsx(Container, {\n      style: {\n        pointerEvents: \"none\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 49\n      }\n    }, __jsx(Grid, {\n      container: true,\n      spacing: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1274,\n        columnNumber: 53\n      }\n    }, (body === null || body === void 0 ? void 0 : (_body$items4 = body.items) === null || _body$items4 === void 0 ? void 0 : _body$items4.length) > 0 && body.items.map(function (item, i) {\n      var _state$assets3, _state$assets3$colors, _state$assets3$colors2;\n\n      return __jsx(Grid, {\n        item: true,\n        style: {\n          width: item.width + '%'\n        },\n        key: i,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1278,\n          columnNumber: 69\n        }\n      }, (item === null || item === void 0 ? void 0 : item.type) === 'image' && __jsx(Image, {\n        imageComponent: item,\n        sectionType: body === null || body === void 0 ? void 0 : body.type,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1284,\n          columnNumber: 77\n        }\n      }), (item === null || item === void 0 ? void 0 : item.type) === 'paragraph' && __jsx(\"div\", {\n        style: {\n          backgroundColor: item !== null && item !== void 0 && item.useBgColor ? state === null || state === void 0 ? void 0 : (_state$assets3 = state.assets) === null || _state$assets3 === void 0 ? void 0 : (_state$assets3$colors = _state$assets3.colors) === null || _state$assets3$colors === void 0 ? void 0 : (_state$assets3$colors2 = _state$assets3$colors.message) === null || _state$assets3$colors2 === void 0 ? void 0 : _state$assets3$colors2.main : 'white',\n          height: '100%'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1291,\n          columnNumber: 77\n        }\n      }, __jsx(Paragraph, {\n        paragraph: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1294,\n          columnNumber: 81\n        }\n      })));\n    }))));\n  })), (state === null || state === void 0 ? void 0 : (_state$email16 = state.email) === null || _state$email16 === void 0 ? void 0 : (_state$email16$body = _state$email16.body) === null || _state$email16$body === void 0 ? void 0 : _state$email16$body.length) > 0 && __jsx(Divider, {\n    style: {\n      marginTop: 16\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1309,\n      columnNumber: 67\n    }\n  }), __jsx(Typography, {\n    component: 'div',\n    style: {\n      minHeight: state.email.body.length === 0 ? 500 : 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 29\n    }\n  }, __jsx(\"h3\", {\n    className: (state === null || state === void 0 ? void 0 : (_state$email17 = state.email) === null || _state$email17 === void 0 ? void 0 : (_state$email17$body = _state$email17.body) === null || _state$email17$body === void 0 ? void 0 : _state$email17$body.length) === 0 ? classes.centreContent : classes.centerSection,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1317,\n      columnNumber: 33\n    }\n  }, __jsx(\"span\", {\n    className: classes.cursorPointer,\n    onClick: function onClick() {\n      setDialogType('add-section');\n      setDialogTitle('Add Section');\n      setRenderDialog(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1318,\n      columnNumber: 37\n    }\n  }, \"Click to define Section\")), (state === null || state === void 0 ? void 0 : (_state$email18 = state.email) === null || _state$email18 === void 0 ? void 0 : (_state$email18$body = _state$email18.body) === null || _state$email18$body === void 0 ? void 0 : _state$email18$body.length) === 0 && __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1329,\n      columnNumber: 73\n    }\n  })), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1332,\n      columnNumber: 29\n    }\n  }), __jsx(Typography, {\n    component: 'div',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1333,\n      columnNumber: 29\n    }\n  }, Object.keys(state.email.footer).length > 0 ? __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1335,\n      columnNumber: 82\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"Delete item\",\n    color: \"primary\",\n    onClick: function onClick() {\n      setDialogType('edit-footer');\n      setDialogTitle('Edit Footer');\n      setRenderDialog(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1336,\n      columnNumber: 45\n    }\n  }, __jsx(EditIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1345,\n      columnNumber: 49\n    }\n  })), state.langCode === state.defaultLang && __jsx(IconButton, {\n    \"aria-label\": \"Delete item\",\n    color: \"primary\",\n    onClick: function onClick() {\n      setAlert(true);\n      setAlertDialogType('footer');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1349,\n      columnNumber: 49\n    }\n  }, __jsx(DeleteIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1357,\n      columnNumber: 53\n    }\n  })), __jsx(\"div\", {\n    style: {\n      pointerEvents: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1360,\n      columnNumber: 45\n    }\n  }, state.langCode === state.defaultLang && __jsx(EmailFooter, {\n    items: state.email.footer.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1363,\n      columnNumber: 53\n    }\n  }), state.langCode && state.langCode !== state.defaultLang && (state === null || state === void 0 ? void 0 : (_state$langsFile10 = state.langsFile) === null || _state$langsFile10 === void 0 ? void 0 : (_state$langsFile10$fo = _state$langsFile10.footer) === null || _state$langsFile10$fo === void 0 ? void 0 : (_state$langsFile10$fo2 = _state$langsFile10$fo[state.langCode]) === null || _state$langsFile10$fo2 === void 0 ? void 0 : _state$langsFile10$fo2.items) && __jsx(EmailFooter, {\n    items: state.langsFile.footer[state.langCode].items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1368,\n      columnNumber: 53\n    }\n  }))) : __jsx(\"h3\", {\n    className: classes.centreContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1372,\n      columnNumber: 41\n    }\n  }, __jsx(\"span\", {\n    className: classes.cursorPointer,\n    onClick: function onClick() {\n      setDialogType('add-footer');\n      setDialogTitle('Add Footer');\n      setRenderDialog(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1373,\n      columnNumber: 45\n    }\n  }, \"Click to define Footer\"))))), isRenderDialog && __jsx(EmailGenericDialog, {\n    type: dialogType,\n    title: dialogTitle,\n    resetRenderDialog: resetRenderDialog,\n    onSelectHeader: handleSelectedHeader,\n    onSelectFooter: handleSelectedFooter,\n    onAddEmailSection: handleAddEmailSection,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1389,\n      columnNumber: 35\n    }\n  }), editSectionDialog, isAlert && __jsx(AlertDialog, {\n    handleDelete: handleDelete,\n    alertDialogType: alertDialogType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1402,\n      columnNumber: 28\n    }\n  }));\n};\n\n_s(EmailDesign, \"mNGs2ue6Hu1qXXuuk48zqpAXFL4=\", false, function () {\n  return [useStyles, useRouter];\n});\n\n_c = EmailDesign;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setToState: function setToState(stateType, stateName, value) {\n      return dispatch(_setToState(stateType, stateName, value));\n    },\n    pushToState: function pushToState(stateType, stateName, value) {\n      return dispatch(_pushToState(stateType, stateName, value));\n    },\n    deleteFromState: function deleteFromState(stateType, stateName, value) {\n      return dispatch(_deleteFromState(stateType, stateName, value));\n    },\n    updateState: function updateState(stateType, stateName, value) {\n      return dispatch(_updateState(stateType, stateName, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EmailDesign);\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailDesign\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/email/EmailDesign.js"],"names":["React","useContext","useEffect","useState","Container","Grid","Box","Typography","Divider","makeStyles","DeleteIcon","IconButton","EditIcon","Select","MenuItem","FormControl","InputLabel","EmailGenericDialog","EmailHeader","EmailFooter","EditEmailSection","Image","Paragraph","LoadingSpinner","AlertDialog","connect","setToState","pushToState","deleteFromState","updateState","toast","DELETE_SUCCESS","emailWidth","useRouter","WebCmsGlobal","axios","FIELDTYPE","isErrorMsg","OREST_ENDPOINT","OREST_UPLOAD","REQUEST_METHOD_CONST","Insert","ViewList","LanguageDropdown","now","defaultProps","bgcolor","border","borderColor","useStyles","centreContent","display","justifyContent","marginTop","cursorPointer","cursor","color","disabledEvent","pointerEvents","opacity","centerSection","textAlign","EmailDesign","props","state","classes","isRenderDialog","setRenderDialog","dialogType","setDialogType","dialogTitle","setDialogTitle","editSectionDialog","setEditSectionDialog","isAlert","setAlert","alertDialogType","setAlertDialogType","deletedIndex","setDeletedIndex","isDeleting","setIsDeleting","isLoaded","setIsLoaded","router","companyId","query","companyID","GENERAL_SETTINGS","token","authToken","isTemplate","previousStep","handleGenerateNewTemplate","code","emailOnly","masterid","Object","keys","email","header","length","footer","body","apiUrl","OREST_URL","endpoint","RAFILE","params","hotelrefno","Number","then","res","status","data","JSON","parse","Buffer","from","filedata","toString","langFile","retErr","error","errorMsg","position","POSITION","TOP_RIGHT","emailData","Promise","all","map","b","i","items","item","j","type","HCMITEMIMG_OPTION","url","SLASH","HCMITEMIMG","method","GET","headers","Authorization","gid","getData","image","FILEGET_OPTION","mid","file","fileDownload","responseType","downloadedFile","blob","Blob","imageUrl","STATIC_URL","replace","m","imageType","split","fileObject","File","lastModified","Date","HCMITEMINS","POST","itemid","hcmItemId","imgtype","IMG","title","description","cta","orderno","handleInsertData","imageInsert","binaryData","push","formData","FormData","append","name","uploadOptions","orsactive","uploadedFile","service","width","id","HCMITEMTXTPAR_OPTION","HCMITEMTXTPAR","paragraph","HCMITEM_OPTION","HCMITEMTXT","hcmitem","itemtext","hcmItemTxtPar","res2","option","resv","response","console","log","languages","forEach","lang","langsFile","toLowerCase","isExist","translatedLanguages","find","x","resetRenderDialog","handleSelectedHeader","langCode","defaultLang","updatedlangsFile","handleSelectedFooter","handleAddEmailSection","order","res1","useBgColor","updatedEmailObj","splice","handleDeleteHeader","success","handleDeleteFooter","handleDeleteEmailSection","index","req","component","REQUEST_OPTIONS_DELETE_HCMITEMIMG","DELETE","deleteImage","REQUEST_OPTIONS_DELETE_HCMITEMTXTPAR","deleteParagraph","paragrapgh","isSuccess","r","updatedOtherLangs","onEditSection","newSection","updatedBody","updatedLangs","updatedItems","handleEditSectionDialog","section","otherLangSection","handleDelete","isDelete","handleLanguageChange","rowItem","rowIndex","value","link","colItem","colIndex","val","indexOf","subItem","sectionIndex","itemIndex","REQUEST_OPTION_GET_IMAGE","getImageData","img","REQUEST_OPTION_GET_TEXT","getTextData","text","marginRight","fontSize","e","target","langId","defaultLangId","height","overflow","backgroundColor","assets","colors","primary","main","tpl","message","minHeight","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["//react imports\nimport React, {useContext, useEffect, useState} from 'react';\n//material ui imports\nimport Container  from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n//custom imports\nimport EmailGenericDialog from \"../../components/email/generic/EmailGenericDialog\";\nimport EmailHeader from \"../../components/email/header/EmailHeader\";\nimport EmailFooter from \"../../components/email/footer/EmailFooter\";\nimport EditEmailSection from \"../../components/email/body/EditEmailSection\";\nimport Image from \"../../components/page/sections/image/Image\";\nimport Paragraph from \"../../components/page/sections/paragraph/Paragraph\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nimport {AlertDialog} from \"../../components/alert\";\n//redux imports\nimport { connect } from 'react-redux';\nimport {setToState, pushToState, deleteFromState, updateState} from \"../../../../../state/actions\";\n//toast import\nimport {toast} from \"react-toastify\";\n//constants and config imports\nimport {DELETE_SUCCESS, emailWidth} from \"../../constants\";\nimport {useRouter} from \"next/router\";\nimport WebCmsGlobal from \"../../../../webcms-global\";\nimport axios from \"axios\";\nimport {\n    FIELDTYPE,\n    isErrorMsg,\n    OREST_ENDPOINT,\n    OREST_UPLOAD,\n    REQUEST_METHOD_CONST\n} from \"../../../../../model/orest/constants\";\nimport {Insert, ViewList} from \"@webcms/orest\";\nimport LanguageDropdown from \"../../components/language/LanguageDropdown\";\nimport {now} from \"moment\";\n\n\nconst defaultProps = {\n    bgcolor: 'background.paper',\n    border: 1,\n    borderColor: 'silver',\n};\n\nconst useStyles = makeStyles(() => ({\n    centreContent: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: 8\n    },\n    cursorPointer: {\n        cursor: 'pointer',\n        color: 'silver'\n    },\n    disabledEvent: {\n        pointerEvents: 'none',\n        opacity: 0.5,\n    },\n    centerSection: {\n        display: \"block\",\n        marginTop: 8,\n        textAlign: \"center\"\n    }\n}));\n\nconst EmailDesign = (props) => {\n\n    const {\n        state,\n        setToState,\n        pushToState,\n        deleteFromState,\n        updateState\n    } = props;\n\n    const classes = useStyles();\n    //local states\n    const [isRenderDialog, setRenderDialog] = useState(false);\n    const [dialogType, setDialogType] = useState('');\n    const [dialogTitle, setDialogTitle] = useState('');\n    const [editSectionDialog, setEditSectionDialog] = useState('');\n    const [isAlert, setAlert] = React.useState(false);\n    const [alertDialogType, setAlertDialogType] = useState('');\n    const [deletedIndex, setDeletedIndex] = useState('');\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [isLoaded, setIsLoaded] = useState(true);\n\n    const router = useRouter();\n    const companyId = router.query.companyID\n    const { GENERAL_SETTINGS, token } = useContext(WebCmsGlobal);\n    const authToken = token || router.query.authToken;\n\n    useEffect(() => {\n        if (state?.isTemplate) {\n            state?.previousStep === 0 ?\n                handleGenerateNewTemplate(`code::${state.code},filetype::PB-EMAIL`) : null\n        } else {\n            if (router.query.emailOnly) {\n                if (router.query.masterid) {\n                    if (!Object.keys(state?.email?.header).length  && !Object.keys(state?.email?.footer).length && !state?.email?.body?.length) {\n                        setIsLoaded(false);\n                        ViewList({\n                            apiUrl: GENERAL_SETTINGS.OREST_URL,\n                            endpoint: OREST_ENDPOINT.RAFILE,\n                            token: authToken,\n                            params: {\n                                hotelrefno: Number(companyId),\n                                query: `masterid::${router.query.masterid},filetype::PB-EMAIL`,\n                            }\n                        }).then(res => {\n                            if (res.status === 200) {\n                                if (res?.data?.data?.length > 0) {\n                                    // setTimeout(() => {\n                                    //     console.log(res.data.data[0].langcode.toLowerCase())\n                                    //     updateState('pageBuilder', 'langId', res.data.data[0].langid);\n                                    //     updateState('pageBuilder', 'langCode', res.data.data[0].langcode.toLowerCase());\n                                    //     updateState('pageBuilder', 'defaultLangId', res.data.data[0].langid);\n                                    //     updateState('pageBuilder', 'defaultLang', res.data.data[0].langcode.toLowerCase());\n                                    //     setIsLoaded(true);\n                                    // }, 300);\n                                    setIsLoaded(true);\n                                    const email = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                                    updateState('pageBuilder', 'email', email);\n                                    updateState('pageBuilder', 'code', res.data.data[0].code);\n                                    ViewList({\n                                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                        endpoint: OREST_ENDPOINT.RAFILE,\n                                        token: authToken,\n                                        params: {\n                                            hotelrefno: Number(companyId),\n                                            query: `filetype:LANG.EMAIL,masterid::${router.query.masterid}`,\n                                        }\n                                    }).then(res => {\n                                        if (res.status === 200 && res.data && res.data.data.length > 0) {\n                                            const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                                            updateState('pageBuilder', 'langsFile', langFile);\n                                        }\n                                    })\n                                } else {\n                                    setIsLoaded(true);\n                                }\n                            } else {\n                                setIsLoaded(true);\n                                const retErr = isErrorMsg(res);\n                                toast.error(retErr.errorMsg, {\n                                    position: toast.POSITION.TOP_RIGHT\n                                });\n                            }\n                        })\n                    }\n                }\n            }\n        }\n    }, []);\n\n    const handleGenerateNewTemplate = async (query) => {\n        setIsLoaded(false);\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n                query: query,\n            }\n        }).then(res => {\n            if (res?.status === 200) {\n                if (res?.data?.data?.length > 0) {\n                    const emailData = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                    setToState('pageBuilder', ['email', 'header'], emailData?.header);\n                    setToState('pageBuilder', ['email', 'footer'], emailData?.footer);\n                    const body = emailData?.body;\n                    Promise.all(body.map((b, i) => {\n                        Promise.all(b.items.map(async (item, j) => {\n                            if (item.type === 'image') {\n                                const HCMITEMIMG_OPTION = {\n                                    url:\n                                        GENERAL_SETTINGS.OREST_URL +\n                                        OREST_ENDPOINT.SLASH +\n                                        OREST_ENDPOINT.HCMITEMIMG +\n                                        OREST_ENDPOINT.SLASH +\n                                        'view/list',\n                                    method: REQUEST_METHOD_CONST.GET,\n                                    headers: {\n                                        Authorization: `Bearer ${authToken}`,\n                                        'Content-Type': 'application/json',\n                                    },\n                                    params: {\n                                        hotelrefno: Number(companyId),\n                                        query: `gid::${item.gid}`\n                                    },\n                                }\n                                const image = await getData(HCMITEMIMG_OPTION);\n                                if (image?.length > 0) {\n                                    const FILEGET_OPTION = {\n                                        url:\n                                            GENERAL_SETTINGS.OREST_URL +\n                                            OREST_ENDPOINT.SLASH +\n                                            OREST_ENDPOINT.RAFILE +\n                                            OREST_ENDPOINT.SLASH +\n                                            'view/list',\n                                        method: REQUEST_METHOD_CONST.GET,\n                                        headers: {\n                                            Authorization: `Bearer ${authToken}`,\n                                            'Content-Type': '0000510',\n                                        },\n                                        params: {\n                                            hotelrefno: Number(companyId),\n                                            query: `masterid::${image[0].mid}`\n                                        },\n                                    }\n                                    const file = await getData(FILEGET_OPTION);\n                                    if (file.length > 0) {\n                                        const downloadedFile = await fileDownload({\n                                            url: `${GENERAL_SETTINGS.OREST_URL}/tools/file/download`,\n                                            headers: {\n                                                \"Authorization\": `Bearer ${authToken}`\n                                            },\n                                            method: 'get',\n                                            responseType: 'arraybuffer',\n                                            params: {\n                                                gid: file[0]?.gid,\n                                                hotelrefno: companyId\n                                            },\n                                        });\n                                        let blob = new Blob([downloadedFile?.data], { type: downloadedFile?.data?.type });\n                                        const imageUrl = GENERAL_SETTINGS.STATIC_URL + file[0]?.url.replace('/var/otello', '').replace('/public', '');\n                                        const m = imageUrl.replace(/^.*[\\\\\\/]/, '')\n                                        const imageType = m.split('.')[1];\n                                        const fileObject = new File([blob], m, {\n                                            lastModified: new Date(now()),\n                                            type: 'image/' + imageType\n                                        });\n                                        const HCMITEMINS = {\n                                            url:\n                                                GENERAL_SETTINGS.OREST_URL +\n                                                OREST_ENDPOINT.SLASH +\n                                                OREST_ENDPOINT.HCMITEMIMG +\n                                                OREST_ENDPOINT.SLASH +\n                                                'ins',\n                                            method: REQUEST_METHOD_CONST.POST,\n                                            headers: {\n                                                Authorization: `Bearer ${authToken}`,\n                                                'Content-Type': 'application/json',\n                                            },\n                                            data: {\n                                                itemid: state.hcmItemId,\n                                                imgtype: FIELDTYPE.IMG,\n                                                title: image[0]?.title,\n                                                description: image[0]?.description,\n                                                cta: image[0]?.cta,\n                                                orderno: 1,\n                                                hotelrefno: Number(companyId)\n                                            },\n                                        }\n                                        const imageInsert = await handleInsertData(HCMITEMINS);\n                                        if (imageInsert) {\n                                            let binaryData = [];\n                                            binaryData.push(fileObject);\n                                            let formData = new FormData();\n                                            formData.append('file', new Blob(binaryData, {type: fileObject.type}), fileObject.name);\n                                            const uploadOptions = {\n                                                url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.RAFILE + OREST_UPLOAD,\n                                                method: 'post',\n                                                headers: {\n                                                    \"Authorization\": `Bearer ${authToken}`,\n                                                    'Content-Type': 'multipart/form-data',\n                                                },\n                                                params: {\n                                                    orsactive: true,\n                                                    masterid: imageInsert?.mid,\n                                                    hotelrefno: companyId\n                                                },\n                                                data: formData,\n                                            }\n                                            const uploadedFile = await handleInsertData(uploadOptions);\n                                            if (i === body.length - 1)\n                                                setIsLoaded(true)\n                                            if (uploadedFile?.url) {\n                                                b.items[j] = {\n                                                    service: \"hcmitemimg\",\n                                                    type: \"image\",\n                                                    gid: imageInsert?.gid,\n                                                    width: item?.width,\n                                                    id: item?.id\n                                                }\n                                            } else {\n                                                toast.error('Upload failed', {position: toast.POSITION.TOP_RIGHT})\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            if (item.type === 'paragraph') {\n                                const HCMITEMTXTPAR_OPTION = {\n                                    url:\n                                        GENERAL_SETTINGS.OREST_URL +\n                                        OREST_ENDPOINT.SLASH +\n                                        OREST_ENDPOINT.HCMITEMTXTPAR +\n                                        OREST_ENDPOINT.SLASH +\n                                        'view/list',\n                                    method: REQUEST_METHOD_CONST.GET,\n                                    headers: {\n                                        Authorization: `Bearer ${authToken}`,\n                                        'Content-Type': 'application/json',\n                                    },\n                                    params: {\n                                        hotelrefno: Number(companyId),\n                                        query: `gid::${item.gid}`\n                                    },\n                                }\n                                const paragraph = await getData(HCMITEMTXTPAR_OPTION);\n                                if (paragraph?.length > 0) {\n                                    const HCMITEM_OPTION = {\n                                        url:\n                                            GENERAL_SETTINGS.OREST_URL +\n                                            OREST_ENDPOINT.SLASH +\n                                            OREST_ENDPOINT.HCMITEMTXT +\n                                            OREST_ENDPOINT.SLASH +\n                                            'ins',\n                                        method: REQUEST_METHOD_CONST.POST,\n                                        headers: {\n                                            Authorization: `Bearer ${authToken}`,\n                                            'Content-Type': 'application/json',\n                                        },\n                                        data: {\n                                            itemid: state?.hcmItemId,\n                                            hotelrefno: Number(companyId)\n                                        },\n                                    }\n                                    const hcmitem = await handleInsertData(HCMITEM_OPTION);\n                                    const HCMITEMTXTPAR_OPTION = {\n                                        url:\n                                            GENERAL_SETTINGS.OREST_URL +\n                                            OREST_ENDPOINT.SLASH +\n                                            OREST_ENDPOINT.HCMITEMTXTPAR +\n                                            OREST_ENDPOINT.SLASH +\n                                            'ins',\n                                        method: REQUEST_METHOD_CONST.POST,\n                                        headers: {\n                                            Authorization: `Bearer ${authToken}`,\n                                            'Content-Type': 'application/json',\n                                        },\n                                        data: {\n                                            itemid: hcmitem?.id,\n                                            itemtext: paragraph[0]?.itemtext,\n                                            hotelrefno: Number(companyId)\n                                        },\n                                    }\n                                    const hcmItemTxtPar = await handleInsertData(HCMITEMTXTPAR_OPTION);\n                                    if (i === body.length - 1)\n                                        setIsLoaded(true)\n                                    if (hcmItemTxtPar) {\n                                        b.items[j] = {\n                                            service: \"hcmitemtxtpar\",\n                                            type: \"paragraph\",\n                                            gid: hcmItemTxtPar?.gid,\n                                            width: item?.width,\n                                            id: item?.id\n                                        }\n                                    }\n                                }\n                            }\n                        }));\n                    }));\n                    setToState('pageBuilder', ['email', 'body'], body);\n                    ViewList({\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.RAFILE,\n                        token: authToken,\n                        params: {\n                            hotelrefno: Number(companyId),\n                            query: `filetype:LANG.EMAIL,refid::${res.data.data[0].id}`,\n                        }\n                    }).then(res2 => {\n                        if (res2.status === 200 && res2?.data?.data?.length > 0) {\n                            const langFile = JSON.parse(Buffer.from(res2.data.data[0].filedata, 'base64').toString('utf-8'));\n                            updateState('pageBuilder', 'langsFile', langFile);\n                        }\n                    })\n                }\n            } else {\n                const retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        });\n    }\n\n    const fileDownload = (option) => {\n        return new Promise(async (resv) => {\n            return await axios(option)\n                .then(async (response) => {\n                    if (response.status === 200) {\n                        resv(response);\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const getData = (option) => {\n        return new Promise(async (resv) => {\n            return await axios(option)\n                .then(async (response) => {\n                    if (response.status === 200) {\n                        if (response?.data?.data?.length > 0)\n                            resv(response.data.data)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const handleInsertData = (option) => {\n        return new Promise(async (resv) => {\n            return await axios(option)\n                .then(async (response) => {\n                    if (response.status === 200) {\n                        if (response?.data?.data)\n                            resv(response.data.data)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    useEffect(() => {\n        state?.languages?.length > 0 && state.languages.forEach(lang => {\n            if (state?.langsFile?.header?.[lang?.code?.toLowerCase()] &&\n                state?.langsFile?.body?.[lang?.code?.toLowerCase()] &&\n                state?.langsFile?.footer?.[lang?.code?.toLowerCase()]) {\n                const isExist = state?.translatedLanguages?.find(x => x.id === lang.id);\n                !isExist ?  pushToState('pageBuilder', ['translatedLanguages'], [lang]) : null\n            }\n        })\n    }, [state.langsFile]);\n\n    const resetRenderDialog = () => {\n        setRenderDialog(false);\n    }\n\n    const handleSelectedHeader = (header) => { // saving header into redux\n        if (state.langCode === state.defaultLang) {\n            setToState('pageBuilder', ['email', 'header'], header);\n        } else {\n            const updatedlangsFile = {...state.langsFile};\n            if (updatedlangsFile.header[state.langCode]) {\n                setToState('pageBuilder', ['langsFile', 'header', state.langCode], header);\n            }\n        }\n    }\n\n    const handleSelectedFooter = (footer) => { // saving footer into redux\n        if (state.langCode === state.defaultLang) {\n            setToState('pageBuilder', ['email', 'footer'], footer);\n        } else {\n            const updatedlangsFile = {...state.langsFile};\n            if (updatedlangsFile.footer[state.langCode]) {\n                setToState('pageBuilder', ['langsFile', 'footer', state.langCode], footer);\n            }\n        }\n    }\n\n    const handleAddEmailSection = (body, order) => {\n        if (body && body.items && body.items.length > 0) {\n            if (body.items[body.items.length - 1].type === 'paragraph') {\n                Insert({ // insert paragraph into hcmitemtxt\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMTXT,\n                    token: authToken,\n                    data: {\n                        itemid: state.hcmItemId,\n                        hotelrefno: Number(companyId)\n                    },\n                }).then(res => {\n                    if(res.status === 200 && res.data.data) {\n                        Insert({ // insert textpar\n                            apiUrl: GENERAL_SETTINGS.OREST_URL,\n                            endpoint: OREST_ENDPOINT.HCMITEMTXTPAR,\n                            token: authToken,\n                            data: {\n                                itemid: res.data.data.id,\n                                itemtext: body.items[body.items.length - 1].service,\n                                hotelrefno: Number(companyId)\n                            },\n                        }).then(res1 => {\n                            if (res1?.status === 200 && res1?.data?.data) {\n                                body.items[body.items.length - 1] = {\n                                    service: \"hcmitemtxtpar\",\n                                    type: \"paragraph\",\n                                    gid: res1.data.data.gid,\n                                    width: body?.items[body.items.length - 1]?.width,\n                                    id: `item-${body?.items?.length}`,\n                                    useBgColor: body?.items[body.items.length - 1]?.useBgColor\n                                }\n                                const updatedEmailObj = {...state?.email};\n                                updatedEmailObj?.body?.splice(order - 1, 0, body);\n                                updateState('pageBuilder', 'email', updatedEmailObj);\n                            }\n                        })\n                    }\n                });\n            } else {\n                const updatedEmailObj = {...state?.email};\n                updatedEmailObj?.body?.splice(order - 1, 0, body);\n                updateState('pageBuilder', 'email', updatedEmailObj);\n            }\n        }\n    }\n\n    const handleDeleteHeader = () => { // deleting header from redux\n        setToState('pageBuilder', ['email', 'header'], {});\n        setToState('pageBuilder', ['langsFile', 'header'], {});\n        toast.success(DELETE_SUCCESS, {\n            position: toast.POSITION.TOP_RIGHT\n        });\n    }\n\n    const handleDeleteFooter = () => { // deleting footer from redux\n        setToState('pageBuilder', ['email', 'footer'], {});\n        setToState('pageBuilder', ['langsFile', 'footer'], {});\n        toast.success(DELETE_SUCCESS, {\n            position: toast.POSITION.TOP_RIGHT\n        });\n    }\n\n    const handleDeleteEmailSection = async (index) => { // deleting body from redux\n        setIsDeleting(true);\n        const body = state.email.body[index];\n        let req = []\n        for (let component of body.items) {\n            if (component.type === 'image') {\n                const REQUEST_OPTIONS_DELETE_HCMITEMIMG = {\n                    url:\n                        GENERAL_SETTINGS.OREST_URL +\n                        OREST_ENDPOINT.SLASH +\n                        OREST_ENDPOINT.HCMITEMIMG +\n                        OREST_ENDPOINT.SLASH +\n                        'del/' +\n                        component.gid,\n                    method: REQUEST_METHOD_CONST.DELETE,\n                    headers: {\n                        Authorization: `Bearer ${authToken}`,\n                        'Content-Type': 'application/json',\n                    },\n                    params: {\n                        hotelrefno: Number(companyId),\n                    },\n                }\n                const image = await deleteImage(REQUEST_OPTIONS_DELETE_HCMITEMIMG)\n                req.push(image)\n            }\n            if (component.type === 'paragraph') {\n                const REQUEST_OPTIONS_DELETE_HCMITEMTXTPAR = {\n                    url:\n                        GENERAL_SETTINGS.OREST_URL +\n                        OREST_ENDPOINT.SLASH +\n                        OREST_ENDPOINT.HCMITEMTXTPAR +\n                        OREST_ENDPOINT.SLASH +\n                        'del/' +\n                        component.gid,\n                    method: REQUEST_METHOD_CONST.DELETE,\n                    headers: {\n                        Authorization: `Bearer ${authToken}`,\n                        'Content-Type': 'application/json',\n                    },\n                    params: {\n                        hotelrefno: Number(companyId),\n                    },\n                }\n                const paragrapgh = await deleteParagraph(REQUEST_OPTIONS_DELETE_HCMITEMTXTPAR)\n                req.push(paragrapgh)\n            }\n        }\n        await Promise.all(req).then(async (res) => {\n            let isSuccess = true\n            await res.map((r) => {\n                if (r.status !== 200) {\n                    isSuccess = false\n                }\n            });\n            setIsDeleting(false);\n            if (isSuccess) {\n                deleteFromState('pageBuilder', ['email', 'body'], [index, 1]);\n                const updatedOtherLangs = {...state.langsFile.body};\n                for (const lang in updatedOtherLangs ) {\n                    if (updatedOtherLangs[lang].items && updatedOtherLangs[lang].items.length > 0) {\n                        updatedOtherLangs[lang].items.splice(index, 1);\n                    }\n                }\n                setToState('pageBuilder', ['langsFile', 'body'], updatedOtherLangs);\n                toast.success(DELETE_SUCCESS, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            } else {\n                toast.error('Something went wrong', {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n    }\n\n    const deleteImage = async (header) => { //delete image from hcmitem img\n        return new Promise(async (resv) => {\n            return await axios(header)\n                .then(async (response) => {\n                    if (response.status === 200 && response.data && response.data.success) {\n                        resv(response)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const deleteParagraph = async (header) => { // delete text from hcmitemtxtpar\n        return new Promise(async (resv) => {\n            return await axios(header)\n                .then(async (response) => {\n                    if (response.status === 200 && response.data && response.data.success) {\n                        resv(response)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const onEditSection = (newSection, index, order) => {\n        if (state.langCode === state.defaultLang) {\n            let updatedBody = [...state.email.body];\n            updatedBody.splice(index, 1);\n            updatedBody.splice(order - 1, 0, newSection);\n            setToState('pageBuilder', ['email', 'body'], updatedBody);\n        } else {\n            if (Object.keys(state.langsFile.body[state.langCode]).length > 0) {\n                const updatedLangs = {...state.langsFile};\n                const updatedItems = state.langsFile.body[state.langCode].items;\n                const items = {\n                    items: newSection.items\n                };\n                updatedItems[index] = items;\n                updatedLangs.body[state.langCode].items = updatedItems;\n                updateState('pageBuilder', 'langsFile', updatedLangs);\n            }\n        }\n    }\n\n    const handleEditSectionDialog = (section, otherLangSection) => {\n        setEditSectionDialog(\n            <EditEmailSection\n                section={section}\n                onEditSection={onEditSection}\n                dialogTitle=\"Edit Section\"\n                isDialogOpen={true}\n                resetRender={() => setEditSectionDialog('')}\n                otherLangSection={otherLangSection}\n            />\n        )\n    }\n\n    const handleDelete = (type, isDelete) => {\n        if (isDelete) {\n            switch (type) {\n                case 'header':\n                    handleDeleteHeader();\n                    break;\n                case 'footer':\n                    handleDeleteFooter();\n                    break;\n                case 'section':\n                    handleDeleteEmailSection(deletedIndex);\n                    break;\n            }\n        }\n        setAlert(false);\n    }\n\n    const handleLanguageChange = async (lang) => {\n        const code = lang?.code.toLowerCase();\n        updateState('pageBuilder', 'langCode', code);\n        updateState('pageBuilder', 'langId', lang?.id);\n        const updatedlangsFile = {...state.langsFile};\n        if (code !== state.defaultLang) {\n            !state?.langsFile?.header ? updatedlangsFile['header'] = {} : null;\n            !state?.langsFile?.footer ? updatedlangsFile['footer'] = {} : null;\n            !state?.langsFile?.body ? updatedlangsFile['body'] = {} : null\n\n            if (!updatedlangsFile.header[code]) {\n                if (state?.email?.header?.items?.length > 0) {\n                    updatedlangsFile.header[code] = {\n                        items: []\n                    }\n                    Promise.all(state.email.header.items.map((rowItem, rowIndex) => {\n                        if (rowItem.type === 'logo') {\n                            updatedlangsFile.header[code].items[rowIndex] = {\n                                value: rowItem.value.link\n                            }\n                        }\n                        if (rowItem.type === 'link') {\n                            updatedlangsFile.header[code].items[rowIndex] = {\n                                value: []\n                            }\n                            rowItem.value.map((colItem) => {\n                                updatedlangsFile.header[code].items[rowIndex].value.push({\n                                    value: colItem.title\n                                });\n                            });\n                        }\n                        if (rowItem.type === 'social-link') {\n                            updatedlangsFile.header[code].items[rowIndex] = {\n                                value: []\n                            }\n                            rowItem.value.map((colItem) => {\n                                updatedlangsFile.header[code].items[rowIndex].value.push({\n                                    value: colItem.title\n                                });\n                            });\n                        }\n                    }))\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n            } else {\n                if (state?.email?.header?.items?.length > 0) {\n                    if (state?.email?.header?.items?.length > updatedlangsFile?.header[code]?.items?.length) {\n                        for (let i = updatedlangsFile.header[code].items.length; i < state.email.header.items.length; i++) {\n                            if (state.email.header.items[i].type === 'social-link' ||\n                                state.email.header.items[i].type === 'link') {\n                                updatedlangsFile.header[code].items.push({\n                                    value: []\n                                });\n                                for (let value of state.email.header.items[i].value) {\n                                    updatedlangsFile.header[code].items[i].value.push({\n                                        value: value.title\n                                    });\n                                }\n                            }\n                            if (state.email.header.items[i].type === 'logo') {\n                                updatedlangsFile.header[code].items.push({\n                                    value: state.email.header.items[i].value.value\n                                });\n                            }\n                        }\n                    }\n                    if (state?.email?.header?.items?.length < updatedlangsFile?.header[code]?.items?.length) {\n                        updatedlangsFile.header[code].items.length = state.email.header.items.length\n                    }\n                    Promise.all(state.email.header.items.map((item, index) => {\n                        if (item.type === 'social-link' || item.type === 'link') {\n                            if (item.value.length > updatedlangsFile.header[code].items[index].value.length) {\n                                for (let i = updatedlangsFile.header[code].items[index].value.length; i < item.value.length; i++) {\n                                    updatedlangsFile.header[code].items[index].value.push({\n                                        value: item.value[i].title\n                                    })\n                                }\n                            }\n                            if (item.value.length < updatedlangsFile.header[code].items[index].value.length) {\n                                updatedlangsFile.header[code].items[index].value.length = item.value.length\n                            }\n                        }\n                    }));\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n            }\n            // footer related conditions\n            if (!updatedlangsFile.footer[code]) {\n                if (state?.email?.footer?.items?.length > 0) {\n                    updatedlangsFile.footer[code] = {\n                        items: []\n                    }\n                    Promise.all(state.email.footer.items.map((rowItem, rowIndex) => {\n                        updatedlangsFile.footer[code].items[rowIndex] = {\n                            items: []\n                        }\n                        rowItem.items.map((colItem, colIndex) => {\n                            if (colItem.type === 'social-link' || colItem.type === 'link') {\n                                updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                                    value: colItem.value.title\n                                }\n                            }\n                            if (colItem.type === 'image') {\n                                updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                                    value: colItem.value.image\n                                }\n                            }\n                            if (colItem.type === 'heading' || colItem.type === 'paragraph') {\n                                updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                                    value: colItem.value\n                                }\n                            }\n                            if (colItem.type === 'address') {\n                                updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                                    value: []\n                                }\n                                colItem.value.map((val, i) => {\n                                    updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n                                        value: val.title\n                                    }\n                                })\n                            }\n                        })\n                    }))\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n            } else {\n                if (state?.email?.footer?.length > 0) {\n                    if (state.email.footer.items.length > updatedlangsFile.footer[code].items.length) {\n                        for (let i = updatedlangsFile.footer[code].items.length; i < state.email.footer.items.length; i++) {\n                            updatedlangsFile.footer[code].items.push({\n                                items: []\n                            });\n                            for (let item of state.email.footer.items[i].items) {\n                                const index = state.email.footer.items[i].items.indexOf(item);\n                                if (item.type === 'social-link' || item.type === 'link') {\n                                    updatedlangsFile.footer[code].items[i].items[index] = {\n                                        value: item.value.title\n                                    }\n                                }\n                                if (item.type === 'heading' || item.type === 'paragraph') {\n                                    updatedlangsFile.footer[code].items[i].items[index] = {\n                                        value: item.value\n                                    }\n                                }\n                                if (item.type === 'address') {\n                                    updatedlangsFile.footer[code].items[i].items[index] = {\n                                        value: []\n                                    }\n                                    item.value.map((val, j) => {\n                                        updatedlangsFile.footer[code].items[i].items[index].value[j] = {\n                                            value: val.title\n                                        }\n                                    })\n                                }\n                            }\n                        }\n                    }\n                    if (state.email.footer.items.length < updatedlangsFile.footer[code].items.length) {\n                        updatedlangsFile.footer[code].items.length = state.email.footer.items.length\n                    }\n                    if (state.email.footer.items.length === updatedlangsFile.footer[code].items.length) {\n                        Promise.all(state.email.footer.items.map((item, index) => {\n                            if (item.items.length > updatedlangsFile.footer[code].items[index].items.length) {\n                                for (let i = updatedlangsFile.footer[code].items[index].items.length; i < state.email.footer.items[index].items.length; i++) {\n                                    if (item.items[i].type === 'social-link' || item.items[i].type === 'link') {\n                                        updatedlangsFile.footer[code].items[index].items[i] = {\n                                            value: item.items[i].value.title\n                                        }\n                                    }\n                                    if (item.items[i].type === 'heading' || item.items[i].type === 'paragraph') {\n                                        updatedlangsFile.footer[code].items[index].items[i] = {\n                                            value: item.items[i].value\n                                        }\n                                    }\n                                    if (item.items[i].type === 'address') {\n                                        updatedlangsFile.footer[code].items[index].items[i] = {\n                                            value: []\n                                        }\n                                        item.items[i].value.map((val, j) => {\n                                            updatedlangsFile.footer[code].items[index].items[i].value[j] = {\n                                                value: val.title\n                                            }\n                                        })\n                                    }\n                                }\n                            }\n                            if (item.items.length < updatedlangsFile.footer[code].items[index].items.length) {\n                                updatedlangsFile.footer[code].items[index].items.length = item.items.length\n                            }\n                        }))\n                    }\n                    Promise.all(state.email.footer.items.map((item, index) => {\n                        item.items.length > 0 && item.items.map((subItem, i) => {\n                            if (subItem.type === 'address') {\n                                if (subItem.value.length > updatedlangsFile.footer[code].items[index].items[i].value.length) {\n                                    for (let j = updatedlangsFile.footer[code].items[index].items[i].value.length; j < subItem.value.length; j ++) {\n                                        updatedlangsFile.footer[code].items[index].items[i].value[j] = {\n                                            value: subItem.value[j].title\n                                        }\n                                    }\n                                }\n                                if (subItem.value.length < updatedlangsFile.footer[code].items[index].items[i].value.length) {\n                                    updatedlangsFile.footer[code].items[index].items[i].value.length = subItem.value.length;\n                                }\n                            }\n                        })\n                    }))\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n            }\n            //body related condition\n            if (!updatedlangsFile.body[code]) {\n                if (state.email.body.length > 0) {\n                    updatedlangsFile.body[code] = {\n                        items: []\n                    };\n                    for (let section of state.email.body) {\n                        const sectionIndex = state.email.body.indexOf(section);\n                        updatedlangsFile.body[code].items.push({\n                            items: []\n                        });\n                        for (let item of section.items) {\n                            const itemIndex = section.items.indexOf(item);\n                            if (item.type === 'image') {\n                                const REQUEST_OPTION_GET_IMAGE = {\n                                    url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMIMG + '/view/list',\n                                    method: 'get',\n                                    headers: {\n                                        Authorization: `Bearer ${authToken}`,\n                                        'Content-Type': 'application/json',\n                                    },\n                                    params: {\n                                        hotelrefno: Number(companyId),\n                                        query: `gid:${item.gid}`,\n                                    },\n                                }\n                                const img = await getImageData(REQUEST_OPTION_GET_IMAGE);\n                                updatedlangsFile.body[code].items[sectionIndex].items[itemIndex] = {\n                                    image: {\n                                        title: img.title,\n                                        description: img.description\n                                    }\n                                }\n                            }\n                            if (item.type === 'paragraph') {\n                                const REQUEST_OPTION_GET_TEXT = {\n                                    url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMTXTPAR + '/view/list',\n                                    method: 'get',\n                                    headers: {\n                                        Authorization: `Bearer ${authToken}`,\n                                        'Content-Type': 'application/json',\n                                    },\n                                    params: {\n                                        hotelrefno: Number(companyId),\n                                        query: `gid:${item.gid}`,\n                                    },\n                                }\n                                const text = await getTextData(REQUEST_OPTION_GET_TEXT);\n                                updatedlangsFile.body[code].items[sectionIndex].items[itemIndex] = {\n                                    text: text\n                                }\n                            }\n                        }\n                    }\n                }\n                updateState('pageBuilder', 'langsFile', updatedlangsFile);\n            } else {\n                if (updatedlangsFile.body[code].items.length < state.email.body.length) {\n                    for (let i = updatedlangsFile.body[code].items.length; i < state.email.body.length; i++) {\n                        updatedlangsFile.body[code].items.push({\n                            items: []\n                        });\n                        for (let item of state.email.body[i].items) {\n                            const itemIndex = state.email.body[i].items.indexOf(item);\n                            if (item.type === 'image') {\n                                const REQUEST_OPTION_GET_IMAGE = {\n                                    url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMIMG + '/view/list',\n                                    method: 'get',\n                                    headers: {\n                                        Authorization: `Bearer ${authToken}`,\n                                        'Content-Type': 'application/json',\n                                    },\n                                    params: {\n                                        hotelrefno: Number(companyId),\n                                        query: `gid:${item.gid}`,\n                                    },\n                                }\n                                const img = await getImageData(REQUEST_OPTION_GET_IMAGE);\n                                updatedlangsFile.body[code].items[i].items[itemIndex] = {\n                                    image: {\n                                        title: img.title,\n                                        description: img.description\n                                    }\n                                }\n                            }\n                            if (item.type === 'paragraph') {\n                                const REQUEST_OPTION_GET_TEXT = {\n                                    url: GENERAL_SETTINGS.OREST_URL + '/' + OREST_ENDPOINT.HCMITEMTXTPAR + '/view/list',\n                                    method: 'get',\n                                    headers: {\n                                        Authorization: `Bearer ${authToken}`,\n                                        'Content-Type': 'application/json',\n                                    },\n                                    params: {\n                                        hotelrefno: Number(companyId),\n                                        query: `gid:${item.gid}`,\n                                    },\n                                }\n                                const text = await getTextData(REQUEST_OPTION_GET_TEXT);\n                                updatedlangsFile.body[code].items[i].items[itemIndex] = {\n                                    text: text\n                                }\n                            }\n                        }\n                    }\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n            }\n        }\n    }\n\n    const getImageData = async (header) => {\n        return new Promise(async (resv) => {\n            return await axios(header)\n                .then(async (response) => {\n                    if (response.status === 200 && response.data && response.data.data.length > 0) {\n                        resv({\n                            title: response.data.data[0].title,\n                            description: response.data.data[0].description\n                        })\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const getTextData = async (header) => {\n        return new Promise(async (resv) => {\n            return await axios(header)\n                .then(async (response) => {\n                    if (response.status === 200 && response.data && response.data.data.length > 0) {\n                        resv(response.data.data[0].itemtext)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    console.log(error)\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    return (\n        <Container className={isDeleting ? classes.disabledEvent : ''}>\n            {\n                !isLoaded ? <LoadingSpinner /> :\n                    <>\n                    <Typography\n                        style={{\n                            display: \"flex\",\n                            justifyContent: 'flex-end',\n                        }}\n                        component={'div'}\n                    >\n                        <FormControl\n                            variant=\"outlined\"\n                            style={{ marginRight: 8}}\n                            size={'small'}\n                        >\n                            <InputLabel style={{fontSize: 15}} >Width</InputLabel>\n                            <Select\n                                value={state?.emailWidth}\n                                onChange={(e) => {\n                                    updateState('pageBuilder', 'emailWidth', e.target.value);\n                                }}\n                                label=\"Width\"\n                            >\n                                {emailWidth.map((width, index) => {\n                                    return (\n                                        <MenuItem value={width} key={index}>\n                                            {width}\n                                        </MenuItem>\n                                    )\n                                })}\n                            </Select>\n                        </FormControl>\n                        <Typography component={'div'}\n                                    className={state?.email?.body?.length === 0 ? classes.disabledEvent : ''} >\n                            <LanguageDropdown handleChange={handleLanguageChange} langID={state?.langId ? state?.langId : state?.defaultLangId} />\n                        </Typography>\n                    </Typography>\n                        <Box {...defaultProps} >\n                            <Typography component={'div'} style={{height: 'auto', overflow: 'auto'}}>\n                                {\n                                    Object.keys(state.email.header).length > 0 ? <div>\n                                            <IconButton\n                                                aria-label=\"Delete item\"\n                                                color=\"primary\"\n                                                onClick={() => {\n                                                    setDialogType('edit-header');\n                                                    setDialogTitle('Edit Header');\n                                                    setRenderDialog(true);\n                                                }}\n                                            >\n                                                <EditIcon color={'primary'}/>\n                                            </IconButton>\n                                            {\n                                                state.langCode === state.defaultLang && <IconButton\n                                                    aria-label=\"Delete item\"\n                                                    color=\"primary\"\n                                                    onClick={() => {\n                                                        setAlert(true);\n                                                        setAlertDialogType('header');\n                                                    }}\n                                                >\n                                                    <DeleteIcon color={'primary'}/>\n                                                </IconButton>\n                                            }\n                                            <div style={{\n                                                pointerEvents: \"none\",\n                                                backgroundColor: state?.assets?.colors?.primary?.main,\n                                            }}>\n                                                {\n                                                    state.langCode === state.defaultLang &&\n                                                    <EmailHeader\n                                                        tpl={state.email.header.tpl}\n                                                        items={state.email.header.items}\n                                                    />\n                                                }\n                                                {\n                                                    state?.langCode !== state?.defaultLang &&\n                                                    state?.langsFile?.header?.[state.langCode]?.items &&\n                                                    <EmailHeader\n                                                        tpl={state.email.header.tpl}\n                                                        items={state.langsFile?.header?.[state.langCode]?.items}\n                                                    />\n                                                }\n                                            </div>\n                                        </div> :\n                                        <h3 className={classes.centreContent}>\n                                            <span className={classes.cursorPointer}\n                                                  onClick={() => {\n                                                      setDialogType('add-header');\n                                                      setDialogTitle('Add Header')\n                                                      setRenderDialog(true);\n                                                  }}\n                                            >\n                                                Click to define Header\n                                            </span>\n                                        </h3>\n                                }\n                            </Typography>\n                            <Divider/>\n                            <Typography component={'div'} >\n                                {\n                                    state?.langCode !== state?.defaultLang &&\n                                    state?.langsFile?.body?.[state.langCode]?.items?.length > 0 &&\n                                    state.langsFile.body[state.langCode].items.map((item, index) => {\n                                        return (\n                                            <Typography component={'div'} key={index}>\n                                                <IconButton\n                                                    color=\"primary\"\n                                                    onClick={() => {\n                                                        handleEditSectionDialog(state.email.body[index],\n                                                            item.items);\n                                                    }}\n                                                >\n                                                    <EditIcon/>\n                                                </IconButton>\n                                                <Container style={{pointerEvents: \"none\"}}>\n                                                    <Grid container spacing={3} >\n                                                        {\n                                                            item?.items?.length > 0 && item.items.map((subItem, i) => {\n                                                                return (\n                                                                    <Grid item\n                                                                          style={{width: state?.email?.body[index]?.items[i]?.width + '%'}}\n                                                                          key={i}\n                                                                    >\n                                                                        {\n                                                                            ('image' in subItem) &&\n                                                                                <Image\n                                                                                    imageComponent={state?.email?.body[index]?.items[i]}\n                                                                                    otherLangsImage={subItem.image}\n                                                                                    sectionType={state?.email?.body[index]?.type}\n                                                                                />\n                                                                        }\n                                                                        {\n                                                                            ('text' in subItem) &&\n                                                                            <div\n                                                                                style={{backgroundColor: state?.email?.body[index]?.items[i]?.useBgColor ? state?.assets?.colors?.message?.main : 'white', height: '100%'}}\n                                                                            >\n                                                                                <Paragraph\n                                                                                    paragraph={subItem.text}\n                                                                                />\n                                                                            </div>\n                                                                        }\n                                                                    </Grid>\n                                                                )\n                                                            })\n                                                        }\n                                                    </Grid>\n                                                </Container>\n                                            </Typography>\n                                        )\n                                    })\n                                }\n                                {\n                                    state?.langCode === state?.defaultLang && state?.email?.body?.length > 0 &&\n                                    state.email.body.map((body, index) => {\n                                        return (\n                                            <Typography component={'div'} key={index}>\n                                                <IconButton\n                                                    color=\"primary\"\n                                                    onClick={() => {\n                                                        handleEditSectionDialog(body)\n                                                    }}\n                                                >\n                                                    <EditIcon/>\n                                                </IconButton>\n                                                {\n                                                    state.langCode === state.defaultLang && <IconButton\n                                                        aria-label=\"Delete item\"\n                                                        color=\"primary\"\n                                                        onClick={() => {\n                                                            setDeletedIndex(index);\n                                                            setAlert(true);\n                                                            setAlertDialogType('section');\n                                                        }}\n                                                    >\n                                                        <DeleteIcon/>\n                                                    </IconButton>\n                                                }\n                                                <Container style={{pointerEvents: \"none\"}}>\n                                                    <Grid container spacing={3} >\n                                                        {\n                                                            body?.items?.length > 0 && body.items.map((item, i) => {\n                                                                return (\n                                                                    <Grid\n                                                                        item\n                                                                        style={{width: item.width + '%'}} key={i}\n                                                                    >\n                                                                        {\n                                                                            item?.type === 'image' &&\n                                                                            <Image\n                                                                                imageComponent={item}\n                                                                                sectionType={body?.type}\n                                                                            />\n                                                                        }\n                                                                        {\n                                                                            item?.type === 'paragraph' &&\n                                                                            <div\n                                                                                style={{backgroundColor: item?.useBgColor ? state?.assets?.colors?.message?.main : 'white', height: '100%'}}\n                                                                            >\n                                                                                <Paragraph paragraph={item} />\n                                                                            </div>\n                                                                        }\n                                                                    </Grid>\n                                                                )\n                                                            })\n                                                        }\n                                                    </Grid>\n                                                </Container>\n                                            </Typography>\n                                        )\n                                    })\n                                }\n                            </Typography>\n                            {\n                                state?.email?.body?.length > 0 && <Divider style={{marginTop: 16}} />\n                            }\n                            <Typography component={'div'}\n                                        style={{\n                                            minHeight: state.email.body.length === 0 ?\n                                                500 : 0\n                                        }}\n                            >\n                                <h3 className={state?.email?.body?.length === 0 ? classes.centreContent : classes.centerSection}>\n                                    <span className={classes.cursorPointer}\n                                          onClick={() => {\n                                              setDialogType('add-section');\n                                              setDialogTitle('Add Section')\n                                              setRenderDialog(true);\n                                          }}\n                                    >\n                                        Click to define Section\n                                    </span>\n                                </h3>\n                                {\n                                    state?.email?.body?.length === 0 && <Divider />\n                                }\n                            </Typography>\n                            <Divider/>\n                            <Typography component={'div'}>\n                                {\n                                    Object.keys(state.email.footer).length > 0 ? <div>\n                                            <IconButton\n                                                aria-label=\"Delete item\"\n                                                color=\"primary\"\n                                                onClick={() => {\n                                                    setDialogType('edit-footer');\n                                                    setDialogTitle('Edit Footer');\n                                                    setRenderDialog(true);\n                                                }}\n                                            >\n                                                <EditIcon/>\n                                            </IconButton>\n                                            {\n                                                state.langCode === state.defaultLang &&\n                                                <IconButton\n                                                    aria-label=\"Delete item\"\n                                                    color=\"primary\"\n                                                    onClick={() => {\n                                                        setAlert(true);\n                                                        setAlertDialogType('footer');\n                                                    }}\n                                                >\n                                                    <DeleteIcon/>\n                                                </IconButton>\n                                            }\n                                            <div style={{pointerEvents: \"none\"}}>\n                                                {\n                                                    state.langCode === state.defaultLang &&\n                                                    <EmailFooter items={state.email.footer.items}/>\n                                                }\n                                                {\n                                                    state.langCode && state.langCode !== state.defaultLang &&\n                                                    state?.langsFile?.footer?.[state.langCode]?.items &&\n                                                    <EmailFooter items={state.langsFile.footer[state.langCode].items}/>\n                                                }\n                                            </div>\n                                        </div> :\n                                        <h3 className={classes.centreContent}>\n                                            <span className={classes.cursorPointer}\n                                                  onClick={() => {\n                                                      setDialogType('add-footer');\n                                                      setDialogTitle('Add Footer')\n                                                      setRenderDialog(true);\n                                                  }}\n                                            >\n                                                Click to define Footer\n                                            </span>\n                                        </h3>\n                                }\n                            </Typography>\n                        </Box>\n                    </>\n            }\n            {\n                isRenderDialog && <EmailGenericDialog\n                    type={dialogType}\n                    title={dialogTitle}\n                    resetRenderDialog={resetRenderDialog}\n                    onSelectHeader={handleSelectedHeader}\n                    onSelectFooter={handleSelectedFooter}\n                    onAddEmailSection={handleAddEmailSection}\n                />\n            }\n            {\n                editSectionDialog\n            }\n            {\n                isAlert && <AlertDialog\n                    handleDelete={handleDelete}\n                    alertDialogType={alertDialogType}\n                />\n            }\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        state: state.formReducer.pageBuilder\n    }\n};\n\nconst mapDispatchToProps = dispatch => ({\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n    pushToState: (stateType, stateName, value) => dispatch(pushToState(stateType, stateName, value)),\n    deleteFromState: (stateType, stateName, value) => dispatch(deleteFromState(stateType, stateName, value)),\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(EmailDesign);"]},"metadata":{},"sourceType":"module"}