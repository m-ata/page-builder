{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/payment/credit-card/form.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Container, Grid, InputAdornment, TextField, Typography } from '@material-ui/core';\nimport { AccountCircle, CreditCard, DateRange, Lock } from '@material-ui/icons';\nimport CreditCards from 'components/payment/credit-card/card';\nimport { formatCreditCardNumber, formatCVC, formatExpirationDate } from 'components/payment/credit-card/utils';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  cardContainer: {\n    width: '100%',\n    margin: 0\n  },\n  cardInputContainer: {\n    width: '100%',\n    margin: 0\n  },\n  cardInputIconContainer: {\n    padding: 4,\n    margin: 0\n  },\n  cardInputIcon: {\n    fontSize: 75,\n    color: 'rgba(0,0,0,1)'\n  },\n  cardInputTextFieldFullContainer: {\n    padding: 4,\n    margin: 0,\n    width: 'calc(100% - 84px)'\n  },\n  cardInputTextFieldContainer: {\n    padding: 4,\n    margin: 0,\n    width: 'calc(50% - 84px)'\n  },\n  cardInputTextFieldLabel: {\n    color: 'rgba(0,0,0,0.4)',\n    font: 'bold normal 20px Verdana, Impact sans-serif',\n    '&$cardInputTextFieldLabelFocused': {\n      color: 'rgba(0,0,0,1)'\n    }\n  },\n  cardInputTextFieldLabelFocused: {},\n  cardInputTextField: {\n    color: 'rgba(0,0,0,1)',\n    font: 'bold normal 30px Verdana, Impact sans-serif'\n  },\n  cardInputTextFieldUnderline: {\n    '&:before': {\n      borderBottomColor: 'rgba(150,150,150,1)'\n    },\n    '&:after': {\n      borderBottomColor: 'rgba(0,0,0,1)'\n    }\n  }\n});\n\nconst PaymentForm = ({\n  onChange,\n  isValid,\n  showCard,\n  locale,\n  className,\n  textFieldsClass,\n  iconColor,\n  isEdit,\n  editCardInfo,\n  isDisabled,\n  customInputProps = {},\n  fieldSize,\n  fieldVariant\n}) => {\n  const {\n    t\n  } = useTranslation();\n  const {\n    0: creditCardInfo,\n    1: setCreditCardInfo\n  } = useState(isEdit ? editCardInfo : {\n    cardType: undefined,\n    cardNumber: '',\n    cardOwner: '',\n    cardExpiry: '',\n    cardCvc: '',\n    cardIssuer: '',\n    cardFocused: '',\n    cardFormData: undefined,\n    cardIsValid: false\n  });\n  useEffect(() => {\n    if (creditCardInfo && typeof onChange === \"function\" && typeof isValid === \"function\") {\n      onChange(creditCardInfo);\n      isValid(isCardComplete());\n    }\n  }, [creditCardInfo]);\n  const {\n    0: ccIsError,\n    1: setCcIsError\n  } = useState({\n    cardNumber: false,\n    cardOwner: false,\n    cardExpiry: false,\n    cardCvc: false\n  });\n  const ccConst = {\n    numberTextFieldId: 'credit-card-number',\n    expiryTextFieldId: 'credit-card-expiry',\n    cvcTextFieldId: 'credit-card-cvc',\n    ownerTextFieldId: 'credit-card-name'\n  };\n\n  const handleCallback = (cardType, isValid) => {\n    let issuer = cardType.issuer;\n    if (!issuer) isValid = false;\n\n    if (isValid) {\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardType: cardType,\n        cardIssuer: issuer,\n        cardIsValid: true\n      }));\n    } else {\n      issuer = '';\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardType: cardType,\n        cardIssuer: issuer,\n        cardIsValid: false\n      }));\n    }\n  };\n\n  const handleInputFocus = ({\n    target\n  }) => {\n    if (target.id === ccConst.numberTextFieldId) {\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardFocused: 'number'\n      }));\n    } else if (target.id === ccConst.ownerTextFieldId) {\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardFocused: 'name'\n      }));\n    } else if (target.id === ccConst.expiryTextFieldId) {\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardFocused: 'expiry'\n      }));\n    } else if (target.id === ccConst.cvcTextFieldId) {\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardFocused: 'cvc'\n      }));\n    }\n  };\n\n  const handleInputBlur = ({\n    target\n  }) => {\n    const id = target.id;\n    let numberTextFieldId = ccConst.numberTextFieldId;\n    let expiryTextFieldId = ccConst.expiryTextFieldId;\n    let cvcTextFieldId = ccConst.cvcTextFieldId;\n    let ownerTextFieldId = ccConst.ownerTextFieldId;\n    let creditCard = isCardNumberComplete();\n\n    if (id === ownerTextFieldId) {\n      if (isCardOwnerComplete() && creditCard.isError) {\n        setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n          cardOwner: true\n        }));\n      }\n    }\n\n    if (id === numberTextFieldId) {\n      if (creditCard && creditCard.isError) {\n        setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n          cardNumber: true\n        }));\n      }\n    }\n\n    if (id === expiryTextFieldId) {\n      creditCard = isCardExpiryComplete(creditCard);\n\n      if (creditCard && creditCard.isError) {\n        setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n          cardExpiry: true\n        }));\n      }\n    }\n\n    if (id === cvcTextFieldId) {\n      creditCard = isCardCvcComplete(creditCard);\n\n      if (creditCard && creditCard.isError) {\n        setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n          cardCvc: true\n        }));\n      }\n    }\n\n    setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n      cardFocused: ''\n    }));\n  };\n\n  const handleInputChange = ({\n    target\n  }) => {\n    let cardFormData = [creditCardInfo.cardNumber, creditCardInfo.cardExpiry, creditCardInfo.cardCvc, creditCardInfo.cardOwner, creditCardInfo.cardIssuer];\n\n    if (target.id === ccConst.numberTextFieldId) {\n      setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n        cardNumber: false\n      }));\n      target.value = formatCreditCardNumber(target.value);\n      cardFormData[0] = target.value;\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardNumber: target.value,\n        cardFormData: cardFormData\n      }));\n    } else if (target.id === ccConst.ownerTextFieldId) {\n      setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n        cardOwner: false\n      }));\n      target.value = target.value.toUpperCase();\n      cardFormData[3] = target.value;\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardOwner: target.value,\n        cardFormData: cardFormData\n      }));\n    } else if (target.id === ccConst.expiryTextFieldId) {\n      setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n        cardExpiry: false\n      }));\n      cardFormData[1] = target.value;\n      target.value = formatExpirationDate(target.value);\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardExpiry: target.value,\n        cardFormData: cardFormData\n      }));\n    } else if (target.id === ccConst.cvcTextFieldId) {\n      setCcIsError(_objectSpread(_objectSpread({}, ccIsError), {}, {\n        cardCvc: false\n      }));\n      cardFormData[2] = target.value;\n      target.value = formatCVC(target.value);\n      setCreditCardInfo(_objectSpread(_objectSpread({}, creditCardInfo), {}, {\n        cardCvc: target.value,\n        cardFormData: cardFormData\n      }));\n    }\n  };\n\n  const onKeyUp = id => {\n    let numberTextFieldId = ccConst.numberTextFieldId;\n    let expiryTextFieldId = ccConst.expiryTextFieldId;\n    let cvcTextFieldId = ccConst.cvcTextFieldId;\n    let creditCard = isCardNumberComplete();\n\n    if (id === numberTextFieldId) {\n      if (creditCard && !creditCard.isError) {\n        document.getElementById(expiryTextFieldId).focus();\n      }\n    } else if (id === expiryTextFieldId) {\n      if (creditCard && !creditCard.isError) {\n        creditCard = isCardExpiryComplete(creditCard);\n      }\n\n      if (creditCard && !creditCard.isError) {\n        document.getElementById(cvcTextFieldId).focus();\n      }\n    } else if (id === cvcTextFieldId) {\n      if (creditCard && !creditCard.isError) creditCard = isCardExpiryComplete(creditCard);\n      if (creditCard && !creditCard.isError) creditCard = isCardCvcComplete(creditCard);\n    }\n  };\n\n  const isCardComplete = () => {\n    let creditCard = isCardNumberComplete();\n\n    if (creditCard && !creditCard.isError) {\n      creditCard = isCardExpiryComplete(creditCard);\n    }\n\n    if (creditCard && !creditCard.isError) {\n      creditCard = isCardCvcComplete(creditCard);\n    }\n\n    if (creditCard && !creditCard.isError) {\n      let cardOwner = creditCardInfo.cardOwner;\n      creditCard.owner = cardOwner;\n\n      let _isError = cardOwner && cardOwner.length >= 2 ? false : true;\n\n      creditCard.isError = _isError;\n    }\n\n    return creditCard;\n  };\n\n  const isCardOwnerComplete = () => {\n    let cardOwner = creditCardInfo.cardOwner;\n\n    let _isError = cardOwner.length > 2 ? false : true;\n\n    return _isError;\n  };\n\n  const isCardNumberComplete = () => {\n    let cardType = creditCardInfo.cardType;\n    let cardIsValid = creditCardInfo.cardIsValid;\n    let cardNumber = creditCardInfo.cardNumber;\n    let creditCard = {};\n    creditCard.type = cardType;\n    creditCard.isValid = cardIsValid;\n    creditCard.number = cardNumber;\n\n    let _isError = cardType && cardIsValid && cardType.issuer && cardType.maxLength ? false : true;\n\n    if (!_isError) {\n      _isError = cardNumber && !isNaN(cardNumber.replace(/ /g, '')) ? false : true;\n    }\n\n    if (!_isError) {\n      creditCard.number = cardNumber.replace(/ /g, '');\n    }\n\n    creditCard.isError = _isError;\n    return creditCard;\n  };\n\n  const isCardExpiryComplete = creditCard => {\n    if (creditCard.isError) return creditCard;\n    let cardExpiry = creditCardInfo.cardExpiry;\n    creditCard.expiry = cardExpiry;\n\n    let _isError = cardExpiry && cardExpiry.length === 5 ? false : true;\n\n    if (!_isError) _isError = isNaN(cardExpiry.replace(/\\//g, ''));\n\n    if (!_isError) {\n      _isError = true;\n      let today = new Date();\n      let currentMonth = today.getMonth() + 1;\n      let currentYear = today.getFullYear();\n      let maxYear = currentYear + 100;\n      let maxMonth = 12;\n      let month = parseInt(cardExpiry.slice(0, 2), 0);\n      let year = '20' + parseInt(cardExpiry.slice(3, 5), 0);\n      year = Number(year);\n      currentYear = Number(currentYear);\n      maxYear = Number(maxYear);\n\n      if (year > currentYear) {\n        _isError = year > maxYear ? true : false;\n      } else if (year === currentYear) {\n        _isError = currentMonth > month || month > maxMonth ? true : false;\n      }\n    }\n\n    if (!_isError) {\n      creditCard.expiryMonth = parseInt(creditCard.expiry.slice(0, 2), 0);\n      creditCard.expiryYear = parseInt(creditCard.expiry.slice(3, 5), 0);\n    }\n\n    creditCard.isError = _isError;\n    return creditCard;\n  };\n\n  const isCardCvcComplete = creditCard => {\n    if (creditCard.isError) return creditCard;\n    let cardCvc = creditCardInfo.cardCvc;\n    creditCard.cvc = cardCvc;\n\n    let _isError = creditCard.type && creditCard.type.issuer && cardCvc && (creditCard.type.issuer !== 'amex' && cardCvc.length === 3 || creditCard.type.issuer === 'amex' && cardCvc.length === 4) ? false : true;\n\n    if (!_isError) _isError = isNaN(cardCvc);\n    if (!_isError) creditCard.cvc = parseInt(cardCvc, 0);\n    creditCard.isError = _isError;\n    return creditCard;\n  };\n\n  const acceptedCards = ['visa', 'mastercard', 'discover', 'amex', 'jcb', 'dinersclub', 'maestro'];\n  let cardLocale = {\n    fullname: t('str_ccFullName'),\n    cardNumber: t('str_ccNumber'),\n    validThruCaption: 'Valid Thru',\n    expiryDate: t('str_ccExpiryDate'),\n    cvc: t('str_ccCvc')\n  };\n  return __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"center\",\n    alignItems: \"center\",\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    style: {\n      display: showCard ? 'inline-block' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, __jsx(CreditCards, {\n    variant: \"outlined\",\n    number: creditCardInfo.cardNumber,\n    name: creditCardInfo.cardOwner,\n    expiry: creditCardInfo.cardExpiry,\n    cvc: creditCardInfo.cardCvc,\n    focused: creditCardInfo.cardFocused,\n    locale: {\n      valid: cardLocale.validThruCaption.toUpperCase()\n    },\n    placeholders: {\n      name: t('str_fullName').toUpperCase()\n    },\n    acceptedCards: acceptedCards,\n    issuer: undefined,\n    callback: (cardType, isValid) => handleCallback(cardType, isValid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-end\",\n    alignItems: \"center\",\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    disabled: isDisabled,\n    className: textFieldsClass || null,\n    value: creditCardInfo.cardOwner,\n    size: fieldSize,\n    variant: fieldVariant,\n    style: {\n      margin: '5px 0 0 6px'\n    },\n    id: ccConst.ownerTextFieldId,\n    key: ccConst.ownerTextFieldId,\n    label: cardLocale.fullname,\n    type: \"text\",\n    name: ccConst.ownerTextFieldId,\n    pattern: undefined,\n    required: true,\n    error: ccIsError.cardOwner,\n    fullWidth: true,\n    onChange: e => handleInputChange(e),\n    onFocus: e => handleInputFocus(e),\n    onBlur: e => handleInputBlur(e),\n    onKeyUp: e => onKeyUp(ccConst.ownerTextFieldId, e),\n    InputProps: _objectSpread(_objectSpread({}, customInputProps && customInputProps || {}), {}, {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 37\n        }\n      }, __jsx(AccountCircle, {\n        style: iconColor !== undefined ? {\n          color: iconColor\n        } : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 41\n        }\n      }))\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    disabled: isDisabled,\n    className: textFieldsClass || null,\n    value: creditCardInfo.cardNumber,\n    size: fieldSize,\n    variant: fieldVariant,\n    style: {\n      margin: '5px 0 0 6px'\n    },\n    id: ccConst.numberTextFieldId,\n    key: ccConst.numberTextFieldId,\n    label: cardLocale.cardNumber,\n    type: \"tel\",\n    name: ccConst.numberTextFieldId,\n    pattern: \"[\\\\d| ]{16,22}\",\n    required: true,\n    error: ccIsError.cardNumber,\n    fullWidth: true,\n    onChange: e => handleInputChange(e),\n    onFocus: e => handleInputFocus(e),\n    onBlur: e => handleInputBlur(e),\n    onKeyUp: e => onKeyUp(ccConst.numberTextFieldId, e),\n    InputProps: _objectSpread(_objectSpread({}, customInputProps && customInputProps || {}), {}, {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 37\n        }\n      }, __jsx(CreditCard, {\n        style: iconColor !== undefined ? {\n          color: iconColor\n        } : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 41\n        }\n      }))\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    disabled: isDisabled,\n    className: textFieldsClass || null,\n    value: creditCardInfo.cardExpiry,\n    size: fieldSize,\n    variant: fieldVariant,\n    style: {\n      margin: '5px 0 0 6px'\n    },\n    id: ccConst.expiryTextFieldId,\n    key: ccConst.expiryTextFieldId,\n    label: cardLocale.expiryDate,\n    type: \"tel\",\n    name: ccConst.expiryTextFieldId,\n    pattern: \"\\\\d\\\\d/\\\\d\\\\d\\\\d\\\\d\",\n    required: true,\n    error: ccIsError.cardExpiry,\n    fullWidth: true,\n    onChange: e => handleInputChange(e),\n    onFocus: e => handleInputFocus(e),\n    onBlur: e => handleInputBlur(e),\n    onKeyUp: e => onKeyUp(ccConst.expiryTextFieldId, e),\n    InputProps: _objectSpread(_objectSpread({}, customInputProps && customInputProps || {}), {}, {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 37\n        }\n      }, __jsx(DateRange, {\n        style: iconColor !== undefined ? {\n          color: iconColor\n        } : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 41\n        }\n      }))\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 21\n    }\n  }, __jsx(TextField, {\n    disabled: isDisabled,\n    className: textFieldsClass || null,\n    value: creditCardInfo.cardCvc,\n    size: fieldSize,\n    variant: fieldVariant,\n    style: {\n      margin: '5px 0 0 6px'\n    },\n    id: ccConst.cvcTextFieldId,\n    key: ccConst.cvcTextFieldId,\n    label: cardLocale.cvc,\n    type: \"tel\",\n    name: ccConst.cvcTextFieldId,\n    pattern: \"\\\\d{3,4}\",\n    required: true,\n    error: ccIsError.cardCvc,\n    fullWidth: true,\n    onChange: e => handleInputChange(e),\n    onFocus: e => handleInputFocus(e),\n    onBlur: e => handleInputBlur(e),\n    onKeyUp: e => onKeyUp(ccConst.cvcTextFieldId, e),\n    InputProps: _objectSpread(_objectSpread({}, customInputProps && customInputProps || {}), {}, {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 37\n        }\n      }, __jsx(Lock, {\n        style: iconColor !== undefined ? {\n          color: iconColor\n        } : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 41\n        }\n      }))\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 25\n    }\n  })))));\n};\n\nPaymentForm.defaultProps = {\n  showCard: true,\n  isDisabled: false,\n  fieldVariant: 'outlined',\n  fieldSize: 'small',\n  customInputProps: {}\n};\nexport default withStyles(styles)(PaymentForm);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/payment/credit-card/form.js"],"names":["React","useEffect","useState","withStyles","Container","Grid","InputAdornment","TextField","Typography","AccountCircle","CreditCard","DateRange","Lock","CreditCards","formatCreditCardNumber","formatCVC","formatExpirationDate","useTranslation","styles","theme","root","display","flexWrap","margin","spacing","cardContainer","width","cardInputContainer","cardInputIconContainer","padding","cardInputIcon","fontSize","color","cardInputTextFieldFullContainer","cardInputTextFieldContainer","cardInputTextFieldLabel","font","cardInputTextFieldLabelFocused","cardInputTextField","cardInputTextFieldUnderline","borderBottomColor","PaymentForm","onChange","isValid","showCard","locale","className","textFieldsClass","iconColor","isEdit","editCardInfo","isDisabled","customInputProps","fieldSize","fieldVariant","t","creditCardInfo","setCreditCardInfo","cardType","undefined","cardNumber","cardOwner","cardExpiry","cardCvc","cardIssuer","cardFocused","cardFormData","cardIsValid","isCardComplete","ccIsError","setCcIsError","ccConst","numberTextFieldId","expiryTextFieldId","cvcTextFieldId","ownerTextFieldId","handleCallback","issuer","handleInputFocus","target","id","handleInputBlur","creditCard","isCardNumberComplete","isCardOwnerComplete","isError","isCardExpiryComplete","isCardCvcComplete","handleInputChange","value","toUpperCase","onKeyUp","document","getElementById","focus","owner","_isError","length","type","number","maxLength","isNaN","replace","expiry","today","Date","currentMonth","getMonth","currentYear","getFullYear","maxYear","maxMonth","month","parseInt","slice","year","Number","expiryMonth","expiryYear","cvc","acceptedCards","cardLocale","fullname","validThruCaption","expiryDate","valid","name","e","startAdornment","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport { Container, Grid, InputAdornment, TextField, Typography } from '@material-ui/core'\nimport { AccountCircle, CreditCard, DateRange, Lock } from '@material-ui/icons'\nimport CreditCards from 'components/payment/credit-card/card'\nimport { formatCreditCardNumber, formatCVC, formatExpirationDate } from 'components/payment/credit-card/utils'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    margin: {\n        margin: theme.spacing(1),\n    },\n    cardContainer: {\n        width: '100%',\n        margin: 0,\n    },\n    cardInputContainer: {\n        width: '100%',\n        margin: 0,\n    },\n    cardInputIconContainer: {\n        padding: 4,\n        margin: 0,\n    },\n    cardInputIcon: {\n        fontSize: 75,\n        color: 'rgba(0,0,0,1)',\n    },\n    cardInputTextFieldFullContainer: {\n        padding: 4,\n        margin: 0,\n        width: 'calc(100% - 84px)',\n    },\n    cardInputTextFieldContainer: {\n        padding: 4,\n        margin: 0,\n        width: 'calc(50% - 84px)',\n    },\n    cardInputTextFieldLabel: {\n        color: 'rgba(0,0,0,0.4)',\n        font: 'bold normal 20px Verdana, Impact sans-serif',\n        '&$cardInputTextFieldLabelFocused': {\n            color: 'rgba(0,0,0,1)',\n        },\n    },\n    cardInputTextFieldLabelFocused: {},\n    cardInputTextField: {\n        color: 'rgba(0,0,0,1)',\n        font: 'bold normal 30px Verdana, Impact sans-serif',\n    },\n    cardInputTextFieldUnderline: {\n        '&:before': {\n            borderBottomColor: 'rgba(150,150,150,1)',\n        },\n        '&:after': {\n            borderBottomColor: 'rgba(0,0,0,1)',\n        },\n    },\n})\n\nconst PaymentForm = ({ onChange, isValid, showCard, locale, className, textFieldsClass, iconColor, isEdit, editCardInfo, isDisabled, customInputProps = {}, fieldSize, fieldVariant }) => {\n    const { t } = useTranslation()\n    const [creditCardInfo, setCreditCardInfo] = useState(isEdit ? editCardInfo : {\n        cardType: undefined,\n        cardNumber: '',\n        cardOwner: '',\n        cardExpiry: '',\n        cardCvc: '',\n        cardIssuer: '',\n        cardFocused: '',\n        cardFormData: undefined,\n        cardIsValid: false,\n    })\n\n    useEffect(() => {\n        if(creditCardInfo && typeof onChange === \"function\"  && typeof isValid === \"function\"){\n            onChange(creditCardInfo)\n            isValid(isCardComplete())\n        }\n\n    }, [creditCardInfo])\n\n    const [ccIsError, setCcIsError] = useState({\n        cardNumber: false,\n        cardOwner: false,\n        cardExpiry: false,\n        cardCvc: false,\n    })\n\n    const ccConst = {\n        numberTextFieldId: 'credit-card-number',\n        expiryTextFieldId: 'credit-card-expiry',\n        cvcTextFieldId: 'credit-card-cvc',\n        ownerTextFieldId: 'credit-card-name',\n    }\n\n    const handleCallback = (cardType, isValid) => {\n        let issuer = cardType.issuer\n        if (!issuer) isValid = false\n        if (isValid) {\n            setCreditCardInfo({\n                ...creditCardInfo,\n                cardType: cardType,\n                cardIssuer: issuer,\n                cardIsValid: true,\n            })\n        } else {\n            issuer = ''\n            setCreditCardInfo({\n                ...creditCardInfo,\n                cardType: cardType,\n                cardIssuer: issuer,\n                cardIsValid: false,\n            })\n        }\n    }\n\n    const handleInputFocus = ({ target }) => {\n        if (target.id === ccConst.numberTextFieldId) {\n            setCreditCardInfo({ ...creditCardInfo, cardFocused: 'number' })\n        } else if (target.id === ccConst.ownerTextFieldId) {\n            setCreditCardInfo({ ...creditCardInfo, cardFocused: 'name' })\n        } else if (target.id === ccConst.expiryTextFieldId) {\n            setCreditCardInfo({ ...creditCardInfo, cardFocused: 'expiry' })\n        } else if (target.id === ccConst.cvcTextFieldId) {\n            setCreditCardInfo({ ...creditCardInfo, cardFocused: 'cvc' })\n        }\n    }\n\n    const handleInputBlur = ({ target }) => {\n        const id = target.id\n        let numberTextFieldId = ccConst.numberTextFieldId\n        let expiryTextFieldId = ccConst.expiryTextFieldId\n        let cvcTextFieldId = ccConst.cvcTextFieldId\n        let ownerTextFieldId = ccConst.ownerTextFieldId\n\n        let creditCard = isCardNumberComplete()\n        if (id === ownerTextFieldId) {\n            if (isCardOwnerComplete() && creditCard.isError) {\n                setCcIsError({\n                    ...ccIsError,\n                    cardOwner: true,\n                })\n            }\n        }\n\n        if (id === numberTextFieldId) {\n            if (creditCard && creditCard.isError) {\n                setCcIsError({\n                    ...ccIsError,\n                    cardNumber: true,\n                })\n            }\n        }\n\n        if (id === expiryTextFieldId) {\n            creditCard = isCardExpiryComplete(creditCard)\n            if (creditCard && creditCard.isError) {\n                setCcIsError({\n                    ...ccIsError,\n                    cardExpiry: true,\n                })\n            }\n        }\n\n        if (id === cvcTextFieldId) {\n            creditCard = isCardCvcComplete(creditCard)\n            if (creditCard && creditCard.isError) {\n                setCcIsError({\n                    ...ccIsError,\n                    cardCvc: true,\n                })\n            }\n        }\n\n        setCreditCardInfo({ ...creditCardInfo, cardFocused: '' })\n    }\n\n    const handleInputChange = ({ target }) => {\n        let cardFormData = [\n            creditCardInfo.cardNumber,\n            creditCardInfo.cardExpiry,\n            creditCardInfo.cardCvc,\n            creditCardInfo.cardOwner,\n            creditCardInfo.cardIssuer,\n        ]\n        if (target.id === ccConst.numberTextFieldId) {\n            setCcIsError({ ...ccIsError, cardNumber: false })\n            target.value = formatCreditCardNumber(target.value)\n            cardFormData[0] = target.value\n            setCreditCardInfo({ ...creditCardInfo, cardNumber: target.value, cardFormData: cardFormData })\n        } else if (target.id === ccConst.ownerTextFieldId) {\n            setCcIsError({ ...ccIsError, cardOwner: false })\n            target.value = target.value.toUpperCase()\n            cardFormData[3] = target.value\n            setCreditCardInfo({ ...creditCardInfo, cardOwner: target.value, cardFormData: cardFormData })\n        } else if (target.id === ccConst.expiryTextFieldId) {\n            setCcIsError({ ...ccIsError, cardExpiry: false })\n            cardFormData[1] = target.value\n            target.value = formatExpirationDate(target.value)\n            setCreditCardInfo({ ...creditCardInfo, cardExpiry: target.value, cardFormData: cardFormData })\n        } else if (target.id === ccConst.cvcTextFieldId) {\n            setCcIsError({ ...ccIsError, cardCvc: false })\n            cardFormData[2] = target.value\n            target.value = formatCVC(target.value)\n            setCreditCardInfo({ ...creditCardInfo, cardCvc: target.value, cardFormData: cardFormData })\n        }\n    }\n\n    const onKeyUp = (id) => {\n        let numberTextFieldId = ccConst.numberTextFieldId\n        let expiryTextFieldId = ccConst.expiryTextFieldId\n        let cvcTextFieldId = ccConst.cvcTextFieldId\n\n        let creditCard = isCardNumberComplete()\n        if (id === numberTextFieldId) {\n            if (creditCard && !creditCard.isError) {\n                document.getElementById(expiryTextFieldId).focus()\n            }\n        } else if (id === expiryTextFieldId) {\n            if (creditCard && !creditCard.isError) {\n                creditCard = isCardExpiryComplete(creditCard)\n            }\n            if (creditCard && !creditCard.isError) {\n                document.getElementById(cvcTextFieldId).focus()\n            }\n        } else if (id === cvcTextFieldId) {\n            if (creditCard && !creditCard.isError) creditCard = isCardExpiryComplete(creditCard)\n            if (creditCard && !creditCard.isError) creditCard = isCardCvcComplete(creditCard)\n        }\n    }\n\n    const isCardComplete = () => {\n        let creditCard = isCardNumberComplete()\n        if (creditCard && !creditCard.isError) {\n            creditCard = isCardExpiryComplete(creditCard)\n        }\n\n        if (creditCard && !creditCard.isError) {\n            creditCard = isCardCvcComplete(creditCard)\n        }\n        if (creditCard && !creditCard.isError) {\n            let cardOwner = creditCardInfo.cardOwner\n            creditCard.owner = cardOwner\n            let _isError = cardOwner && cardOwner.length >= 2 ? false : true\n            creditCard.isError = _isError\n        }\n        return creditCard\n    }\n\n    const isCardOwnerComplete = () => {\n        let cardOwner = creditCardInfo.cardOwner\n        let _isError = cardOwner.length > 2 ? false : true\n        return _isError\n    }\n\n    const isCardNumberComplete = () => {\n        let cardType = creditCardInfo.cardType\n        let cardIsValid = creditCardInfo.cardIsValid\n        let cardNumber = creditCardInfo.cardNumber\n\n        let creditCard = {}\n        creditCard.type = cardType\n        creditCard.isValid = cardIsValid\n        creditCard.number = cardNumber\n\n        let _isError = cardType && cardIsValid && cardType.issuer && cardType.maxLength ? false : true\n        if (!_isError) {\n            _isError = cardNumber && !isNaN(cardNumber.replace(/ /g, '')) ? false : true\n        }\n\n        if (!_isError) {\n            creditCard.number = cardNumber.replace(/ /g, '')\n        }\n\n        creditCard.isError = _isError\n        return creditCard\n    }\n\n    const isCardExpiryComplete = (creditCard) => {\n        if (creditCard.isError) return creditCard\n\n        let cardExpiry = creditCardInfo.cardExpiry\n        creditCard.expiry = cardExpiry\n\n        let _isError = cardExpiry && cardExpiry.length === 5 ? false : true\n\n        if (!_isError) _isError = isNaN(cardExpiry.replace(/\\//g, ''))\n\n        if (!_isError) {\n            _isError = true\n\n            let today = new Date()\n            let currentMonth = today.getMonth() + 1\n            let currentYear = today.getFullYear()\n            let maxYear = currentYear + 100\n            let maxMonth = 12\n\n            let month = parseInt(cardExpiry.slice(0, 2), 0)\n            let year = '20' + parseInt(cardExpiry.slice(3, 5), 0)\n\n            year = Number(year)\n            currentYear = Number(currentYear)\n            maxYear = Number(maxYear)\n\n            if (year > currentYear) {\n                _isError = year > maxYear ? true : false\n            } else if (year === currentYear) {\n                _isError = currentMonth > month || month > maxMonth ? true : false\n            }\n        }\n\n        if (!_isError) {\n            creditCard.expiryMonth = parseInt(creditCard.expiry.slice(0, 2), 0)\n            creditCard.expiryYear = parseInt(creditCard.expiry.slice(3, 5), 0)\n        }\n\n        creditCard.isError = _isError\n        return creditCard\n    }\n\n    const isCardCvcComplete = (creditCard) => {\n        if (creditCard.isError) return creditCard\n\n        let cardCvc = creditCardInfo.cardCvc\n        creditCard.cvc = cardCvc\n\n        let _isError =\n            creditCard.type &&\n            creditCard.type.issuer &&\n            cardCvc &&\n            ((creditCard.type.issuer !== 'amex' && cardCvc.length === 3) ||\n                (creditCard.type.issuer === 'amex' && cardCvc.length === 4))\n                ? false\n                : true\n        if (!_isError) _isError = isNaN(cardCvc)\n        if (!_isError) creditCard.cvc = parseInt(cardCvc, 0)\n\n        creditCard.isError = _isError\n        return creditCard\n    }\n\n    const acceptedCards = ['visa', 'mastercard', 'discover', 'amex', 'jcb', 'dinersclub', 'maestro']\n\n    let cardLocale = {\n            fullname: t('str_ccFullName'),\n            cardNumber: t('str_ccNumber'),\n            validThruCaption: 'Valid Thru',\n            expiryDate: t('str_ccExpiryDate'),\n            cvc: t('str_ccCvc'),\n    }\n\n    return (\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\n            <Grid item xs={12} sm={6} style={{ display: showCard ? 'inline-block' : 'none' }}>\n                <CreditCards\n                    variant=\"outlined\"\n                    number={creditCardInfo.cardNumber}\n                    name={creditCardInfo.cardOwner}\n                    expiry={creditCardInfo.cardExpiry}\n                    cvc={creditCardInfo.cardCvc}\n                    focused={creditCardInfo.cardFocused}\n                    locale={{ valid: cardLocale.validThruCaption.toUpperCase()}}\n                    placeholders={{ name: t('str_fullName').toUpperCase()}}\n                    acceptedCards={acceptedCards}\n                    issuer={undefined}\n                    callback={(cardType, isValid) => handleCallback(cardType, isValid)}\n                />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n                <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\" spacing={1}>\n                    <Grid item xs={12}>\n                        <TextField\n                            disabled={isDisabled}\n                            className={textFieldsClass || null}\n                            value={creditCardInfo.cardOwner}\n                            size={fieldSize}\n                            variant={fieldVariant}\n                            style={{margin: '5px 0 0 6px'}}\n                            id={ccConst.ownerTextFieldId}\n                            key={ccConst.ownerTextFieldId}\n                            label={cardLocale.fullname}\n                            type=\"text\"\n                            name={ccConst.ownerTextFieldId}\n                            pattern={undefined}\n                            required\n                            error={ccIsError.cardOwner}\n                            fullWidth={true}\n                            onChange={(e) => handleInputChange(e)}\n                            onFocus={(e) => handleInputFocus(e)}\n                            onBlur={(e) => handleInputBlur(e)}\n                            onKeyUp={(e) => onKeyUp(ccConst.ownerTextFieldId, e)}\n                            InputProps={{\n                                ...(customInputProps && customInputProps || {}),\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <AccountCircle style={iconColor !== undefined ? {color:iconColor} : null }/>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TextField\n                            disabled={isDisabled}\n                            className={textFieldsClass || null}\n                            value={creditCardInfo.cardNumber}\n                            size={fieldSize}\n                            variant={fieldVariant}\n                            style={{margin: '5px 0 0 6px'}}\n                            id={ccConst.numberTextFieldId}\n                            key={ccConst.numberTextFieldId}\n                            label={cardLocale.cardNumber}\n                            type=\"tel\"\n                            name={ccConst.numberTextFieldId}\n                            pattern=\"[\\d| ]{16,22}\"\n                            required\n                            error={ccIsError.cardNumber}\n                            fullWidth={true}\n                            onChange={(e) => handleInputChange(e)}\n                            onFocus={(e) => handleInputFocus(e)}\n                            onBlur={(e) => handleInputBlur(e)}\n                            onKeyUp={(e) => onKeyUp(ccConst.numberTextFieldId, e)}\n                            InputProps={{\n                                ...(customInputProps && customInputProps || {}),\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <CreditCard style={iconColor !== undefined ? {color:iconColor} : null }/>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={7}>\n                        <TextField\n                            disabled={isDisabled}\n                            className={textFieldsClass || null}\n                            value={creditCardInfo.cardExpiry}\n                            size={fieldSize}\n                            variant={fieldVariant}\n                            style={{margin: '5px 0 0 6px'}}\n                            id={ccConst.expiryTextFieldId}\n                            key={ccConst.expiryTextFieldId}\n                            label={cardLocale.expiryDate}\n                            type=\"tel\"\n                            name={ccConst.expiryTextFieldId}\n                            pattern=\"\\d\\d/\\d\\d\\d\\d\"\n                            required\n                            error={ccIsError.cardExpiry}\n                            fullWidth={true}\n                            onChange={(e) => handleInputChange(e)}\n                            onFocus={(e) => handleInputFocus(e)}\n                            onBlur={(e) => handleInputBlur(e)}\n                            onKeyUp={(e) => onKeyUp(ccConst.expiryTextFieldId, e)}\n                            InputProps={{\n                                ...(customInputProps && customInputProps || {}),\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <DateRange style={iconColor !== undefined ? {color:iconColor} : null }/>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={5}>\n                        <TextField\n                            disabled={isDisabled}\n                            className={textFieldsClass || null}\n                            value={creditCardInfo.cardCvc}\n                            size={fieldSize}\n                            variant={fieldVariant}\n                            style={{margin: '5px 0 0 6px'}}\n                            id={ccConst.cvcTextFieldId}\n                            key={ccConst.cvcTextFieldId}\n                            label={cardLocale.cvc}\n                            type=\"tel\"\n                            name={ccConst.cvcTextFieldId}\n                            pattern=\"\\d{3,4}\"\n                            required\n                            error={ccIsError.cardCvc}\n                            fullWidth={true}\n                            onChange={(e) => handleInputChange(e)}\n                            onFocus={(e) => handleInputFocus(e)}\n                            onBlur={(e) => handleInputBlur(e)}\n                            onKeyUp={(e) => onKeyUp(ccConst.cvcTextFieldId, e)}\n                            InputProps={{\n                            ...(customInputProps && customInputProps || {}),\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <Lock style={iconColor !== undefined ? {color:iconColor} : null }/>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </Grid>\n                </Grid>\n            </Grid>\n        </Grid>\n    )\n}\n\nPaymentForm.defaultProps = {\n    showCard: true,\n    isDisabled: false,\n    fieldVariant: 'outlined',\n    fieldSize: 'small',\n    customInputProps: {}\n}\n\nexport default withStyles(styles)(PaymentForm)"]},"metadata":{},"sourceType":"module"}