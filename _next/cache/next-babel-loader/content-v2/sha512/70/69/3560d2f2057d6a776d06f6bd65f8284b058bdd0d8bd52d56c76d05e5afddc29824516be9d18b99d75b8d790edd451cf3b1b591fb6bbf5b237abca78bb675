{"ast":null,"code":"import { getChildTotals } from 'lib/helpers/useFunction';\nexport const strOrsResTerms = 'ORSRESTERMS';\n\nconst getRoomRate = roomRate => {\n  roomRate = Number(roomRate);\n\n  if (roomRate > 0 && roomRate !== null) {\n    return roomRate;\n  } else {\n    return null;\n  }\n};\n\nexport const showDiscountRate = (discounted, noDiscount) => {\n  return 100 - Number(noDiscount) * 100 / Number(discounted);\n};\nexport const applyDiscount = (price, discrate) => {\n  if (discrate) return Number(price) * (100 - Number(discrate)) / 100;\n  return 0;\n};\n\nconst getPaxPrice = (totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate) => {\n  if (totalPax === 1) {\n    return getRoomRate(sngrate);\n  } else if (totalPax === 2) {\n    return getRoomRate(dblrate);\n  } else if (totalPax === 3) {\n    return getRoomRate(trprate);\n  } else if (totalPax === 4) {\n    return getRoomRate(quadrate);\n  } else if (totalPax === 5) {\n    return getRoomRate(Number(quadrate) + Number(extrarate));\n  } else if (totalPax >= 6) {\n    const extraPax = Number(totalPax) - 5,\n          basePrice = Number(quadrate) + Number(extrarate),\n          extraPaxPrice = basePrice + Number(extra2rate) * extraPax;\n    return getRoomRate(extraPaxPrice);\n  } else {\n    return null;\n  }\n};\n\nconst getChdPrice = (chdAges, agencyChdAges, babyrate, chdrate, chd2rate) => {\n  const childTotals = getChildTotals(chdAges, agencyChdAges),\n        totalBaby = Number(childTotals.totalBaby) * Number(babyrate) || 0,\n        totalChd1 = Number(childTotals.totalChd1) * Number(chdrate) || 0,\n        totalChd2 = Number(childTotals.totalChd2) * Number(chd2rate) || 0;\n  return totalChd1 + totalChd2 + totalBaby;\n};\n\nexport const getTotalPrice = (priceList, totalPax, chdAges, agencyChdAges) => {\n  const {\n    sngrate,\n    dblrate,\n    trprate,\n    quadrate,\n    extrarate,\n    extra2rate,\n    babyrate,\n    chdrate,\n    chd2rate,\n    discrate\n  } = priceList,\n        paxPrice = getPaxPrice(totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate),\n        chdPrice = getChdPrice(chdAges, agencyChdAges, babyrate, chdrate, chd2rate),\n        useTotalPrice = Number(paxPrice) + Number(chdPrice);\n  return {\n    totalPrice: useTotalPrice || 0,\n    discTotalPrice: applyDiscount(useTotalPrice, discrate) || 0\n  };\n};\nexport const useTotalPrice = (priceList, totalPax, chdAges, agencyChdAges) => {\n  let totalPrice = 0,\n      discTotalPrice = 0;\n\n  for (let priceItems of priceList) {\n    const dailyPaxPrice = getTotalPrice(priceItems, totalPax, chdAges, agencyChdAges);\n    totalPrice += dailyPaxPrice.totalPrice;\n    discTotalPrice += dailyPaxPrice.discTotalPrice;\n  }\n\n  return {\n    totalPrice,\n    discTotalPrice\n  };\n};\nexport const getCurrencyCodeToIso = currCode => {\n  switch (currCode) {\n    case 'TL':\n      return 'TRY';\n\n    default:\n      return currCode;\n  }\n};","map":{"version":3,"sources":["/Users/mata/app-cloudweb/@webcms-globals/onlinereservation.js"],"names":["getChildTotals","strOrsResTerms","getRoomRate","roomRate","Number","showDiscountRate","discounted","noDiscount","applyDiscount","price","discrate","getPaxPrice","totalPax","sngrate","dblrate","trprate","quadrate","extrarate","extra2rate","extraPax","basePrice","extraPaxPrice","getChdPrice","chdAges","agencyChdAges","babyrate","chdrate","chd2rate","childTotals","totalBaby","totalChd1","totalChd2","getTotalPrice","priceList","paxPrice","chdPrice","useTotalPrice","totalPrice","discTotalPrice","priceItems","dailyPaxPrice","getCurrencyCodeToIso","currCode"],"mappings":"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","sourcesContent":["import { getChildTotals } from 'lib/helpers/useFunction'\nexport const strOrsResTerms = 'ORSRESTERMS'\n\nconst getRoomRate = (roomRate) => {\n    roomRate = Number(roomRate)\n    if (roomRate > 0 && roomRate !== null) {\n        return roomRate\n    } else {\n        return null\n    }\n}\n\nexport const showDiscountRate = (discounted, noDiscount) => {\n    return 100 - (Number(noDiscount) * 100 / Number(discounted))\n}\n\nexport const applyDiscount = (price, discrate) => {\n    if (discrate) return Number(price) * (100 - Number(discrate)) / 100\n    return 0\n}\n\nconst getPaxPrice = (totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate) => {\n    if (totalPax === 1) {\n        return getRoomRate(sngrate)\n    } else if (totalPax === 2) {\n        return getRoomRate(dblrate)\n    } else if (totalPax === 3) {\n        return getRoomRate(trprate)\n    } else if (totalPax === 4) {\n        return getRoomRate(quadrate)\n    } else if (totalPax === 5) {\n        return getRoomRate(Number(quadrate) + Number(extrarate))\n    } else if (totalPax >= 6) {\n        const extraPax = Number(totalPax) - 5\n            , basePrice = Number(quadrate) + Number(extrarate)\n            , extraPaxPrice = basePrice + (Number(extra2rate) * extraPax)\n        return getRoomRate(extraPaxPrice)\n    } else {\n        return null\n    }\n}\n\nconst getChdPrice = (chdAges, agencyChdAges, babyrate, chdrate, chd2rate) => {\n    const childTotals = getChildTotals(chdAges, agencyChdAges)\n        , totalBaby = Number(childTotals.totalBaby) * Number(babyrate) || 0\n        , totalChd1 = Number(childTotals.totalChd1) * Number(chdrate) || 0\n        , totalChd2 = Number(childTotals.totalChd2) * Number(chd2rate) || 0\n\n    return (totalChd1 + totalChd2 + totalBaby)\n}\n\nexport const getTotalPrice = (priceList, totalPax, chdAges, agencyChdAges) => {\n    const {\n        sngrate,\n        dblrate,\n        trprate,\n        quadrate,\n        extrarate,\n        extra2rate,\n        babyrate,\n        chdrate,\n        chd2rate,\n        discrate,\n    } = priceList\n        , paxPrice = getPaxPrice(totalPax, sngrate, dblrate, trprate, quadrate, extrarate, extra2rate)\n        , chdPrice = getChdPrice(chdAges, agencyChdAges, babyrate, chdrate, chd2rate)\n        , useTotalPrice = Number(paxPrice) + Number(chdPrice)\n\n\n    return {\n        totalPrice: useTotalPrice || 0,\n        discTotalPrice: applyDiscount(useTotalPrice, discrate) || 0,\n    }\n}\n\nexport const useTotalPrice = (priceList, totalPax, chdAges, agencyChdAges) => {\n    let totalPrice = 0, discTotalPrice = 0\n    for (let priceItems of priceList) {\n        const dailyPaxPrice = getTotalPrice(priceItems, totalPax, chdAges, agencyChdAges)\n        totalPrice += dailyPaxPrice.totalPrice\n        discTotalPrice += dailyPaxPrice.discTotalPrice\n    }\n\n    return {\n        totalPrice,\n        discTotalPrice,\n    }\n}\n\nexport const getCurrencyCodeToIso = (currCode) => {\n    switch (currCode) {\n        case 'TL':\n            return 'TRY'\n        default:\n            return currCode\n    }\n}"]},"metadata":{},"sourceType":"module"}