{"ast":null,"code":"import axios from \"axios\";\nimport { OREST_RATAG_PARAM, OREST_DELETE, OREST_INSERT, REQUEST_METHOD_CONST, OREST_PATCH } from \"../../constants\";\nimport { SLASH } from \"../../../globals\";\nexport function RaTagItemDelete(orestUrl, token, hotelRefNo, gid) {\n  var url = orestUrl + OREST_RATAG_PARAM + OREST_DELETE;\n  var params = {\n    gid: gid,\n    hotelrefno: Number(hotelRefNo)\n  };\n  var options = {\n    url: url,\n    method: 'delete',\n    headers: {\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    params: params\n  };\n  return axios(options).then(function (response) {\n    return response;\n  })[\"catch\"](function (error) {\n    return error.response || {\n      status: 0\n    };\n  });\n}\n_c = RaTagItemDelete;\nexport function InsertRaTag(orestUrl, token, mid, tagList, hotelRefNo) {\n  var stringValue = handleArrayToString(tagList);\n  var url = orestUrl + OREST_RATAG_PARAM + OREST_INSERT;\n  var params = {\n    hotelrefno: Number(hotelRefNo)\n  };\n  var data = {\n    hotelrefno: hotelRefNo,\n    masterid: mid,\n    tagstr: stringValue\n  };\n  var options = {\n    url: url,\n    method: REQUEST_METHOD_CONST.POST,\n    headers: {\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    params: params,\n    data: data\n  };\n  return axios(options).then(function (response) {\n    return response;\n  })[\"catch\"](function (error) {\n    return error.response || {\n      status: 0\n    };\n  });\n}\n_c2 = InsertRaTag;\nexport function PatchRaTag(orestUrl, token, gid, tagList, hotelRefNo) {\n  var stringValue = handleArrayToString(tagList);\n  var url = orestUrl + OREST_RATAG_PARAM + OREST_PATCH + SLASH + gid;\n  var params = {\n    hotelrefno: Number(hotelRefNo)\n  };\n  var data = {\n    tagstr: stringValue\n  };\n  var options = {\n    url: url,\n    method: REQUEST_METHOD_CONST.PATCH,\n    headers: {\n      \"Authorization\": \"Bearer \".concat(token)\n    },\n    params: params,\n    data: data\n  };\n  return axios(options).then(function (response) {\n    return response;\n  })[\"catch\"](function (error) {\n    return error.response || {\n      status: 0\n    };\n  });\n}\n_c3 = PatchRaTag;\n\nvar handleArrayToString = function handleArrayToString(array) {\n  var stringValue = '';\n\n  if (array && array.length > 0) {\n    array.map(function (item, ind) {\n      if (ind < array.length - 1) {\n        stringValue += \"\".concat(item.tagstr, \",\");\n      } else {\n        stringValue += item.tagstr;\n      }\n    });\n  }\n\n  return stringValue;\n};\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"RaTagItemDelete\");\n$RefreshReg$(_c2, \"InsertRaTag\");\n$RefreshReg$(_c3, \"PatchRaTag\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/model/orest/components/RaTag/index.js"],"names":["axios","OREST_RATAG_PARAM","OREST_DELETE","OREST_INSERT","REQUEST_METHOD_CONST","OREST_PATCH","SLASH","RaTagItemDelete","orestUrl","token","hotelRefNo","gid","url","params","hotelrefno","Number","options","method","headers","then","response","error","status","InsertRaTag","mid","tagList","stringValue","handleArrayToString","data","masterid","tagstr","POST","PatchRaTag","PATCH","array","length","map","item","ind"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    OREST_RATAG_PARAM,\n    OREST_DELETE, OREST_INSERT, REQUEST_METHOD_CONST, OREST_PATCH\n} from \"../../constants\";\nimport {SLASH} from \"../../../globals\";\n\n\nexport function RaTagItemDelete(orestUrl,token, hotelRefNo, gid) {\n    const url = orestUrl + OREST_RATAG_PARAM + OREST_DELETE;\n\n    const params = {\n        gid: gid,\n        hotelrefno: Number(hotelRefNo),\n    };\n\n    const options = {\n        url: url,\n        method: 'delete',\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        },\n        params\n    };\n\n    return axios(options).then(response => {\n        return response\n    }).catch(error => {\n        return error.response || {status: 0};\n    })\n}\n\nexport function InsertRaTag(orestUrl, token, mid, tagList, hotelRefNo) {\n\n    const stringValue = handleArrayToString(tagList);\n\n    const url = orestUrl + OREST_RATAG_PARAM + OREST_INSERT\n\n    const params = {\n        hotelrefno: Number(hotelRefNo),\n    };\n\n    const data = {\n        hotelrefno: hotelRefNo,\n        masterid: mid,\n        tagstr: stringValue,\n    }\n\n    const options = {\n        url: url,\n        method: REQUEST_METHOD_CONST.POST,\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        },\n        params,\n        data\n    };\n\n    return axios(options).then(response => {\n        return response\n    }).catch(error => {\n        return error.response || {status: 0};\n    })\n\n}\n\nexport function PatchRaTag(orestUrl, token, gid, tagList, hotelRefNo) {\n\n   const stringValue = handleArrayToString(tagList);\n\n    const url = orestUrl + OREST_RATAG_PARAM + OREST_PATCH + SLASH + gid\n\n    const params = {\n        hotelrefno: Number(hotelRefNo),\n    };\n\n    const data = {\n        tagstr: stringValue,\n    }\n\n    const options = {\n        url: url,\n        method: REQUEST_METHOD_CONST.PATCH,\n        headers: {\n            \"Authorization\": `Bearer ${token}`\n        },\n        params,\n        data\n    };\n\n    return axios(options).then(response => {\n        return response\n    }).catch(error => {\n        return error.response || {status: 0};\n    })\n\n}\n\nconst handleArrayToString = (array) => {\n    let stringValue = '';\n    if(array && array.length > 0) {\n        array.map((item, ind) => {\n            if(ind < array.length - 1) {\n                stringValue += `${item.tagstr},`\n            } else {\n                stringValue += item.tagstr\n            }\n        })\n    }\n\n    return stringValue;\n}\n"]},"metadata":{},"sourceType":"module"}