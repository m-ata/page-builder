{"ast":null,"code":"import _toConsumableArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/website/pages/WebsiteSlider.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport WebCmsGlobal from \"components/webcms-global\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport PrevIcon from \"@material-ui/icons/KeyboardArrowLeft\";\nimport { Typography } from \"@material-ui/core\";\nimport ThumbnailSliderModal from \"./SliderModal\";\nimport { useRouter } from \"next/router\";\nimport moment from \"moment\";\nimport { OREST_ENDPOINT } from \"../../../model/orest/constants\";\nvar useStyles = makeStyles(function (theme) {\n  var _twoThreeColImage;\n\n  return {\n    title: {\n      \"-webkit-text-fill-color\": function webkitTextFillColor(props) {\n        return props !== null && props !== void 0 && props.textColor ? props.textColor : \"#ffffff\";\n      },\n      \"-webkit-text-stroke-width\": \"0.8px\",\n      \"-webkit-text-stroke-color\": \"#000000\"\n    },\n    description: {\n      \"-webkit-text-fill-color\": function webkitTextFillColor(props) {\n        return props !== null && props !== void 0 && props.textColor ? props.textColor : \"#ffffff\";\n      },\n      \"-webkit-text-stroke-width\": \"0.8px\",\n      \"-webkit-text-stroke-color\": \"#000000\"\n    },\n    image: {\n      width: '100%',\n      backgroundSize: \"cover\"\n    },\n    ctaButton: {\n      borderRadius: 20,\n      backgroundColor: function backgroundColor(props) {\n        return props !== null && props !== void 0 && props.buttonColor ? props.buttonColor : \"#ffffff\";\n      },\n      color: function color(props) {\n        return props !== null && props !== void 0 && props.textColor ? props.textColor : \"#ffffff\";\n      }\n    },\n    sliderBg: {\n      border: '1px solid white',\n      backgroundColor: '#FFFFFF',\n      borderRadius: '50%'\n    },\n    sliderArrow: _defineProperty({\n      color: \"#000000\",\n      fontSize: 40\n    }, theme.breakpoints.down(\"sm\"), {\n      fontSize: 30\n    }),\n    imageBackgroundDiv: _defineProperty({\n      width: \"100vw\",\n      height: '80vh',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center'\n    }, theme.breakpoints.down(\"sm\"), {\n      height: \"31vh\"\n    }),\n    imagePreview: {\n      height: \"100%\",\n      width: '100vw',\n      position: \"relative\"\n    },\n    twoThreeColImage: (_twoThreeColImage = {\n      width: \"100%\",\n      position: \"relative\",\n      height: 300,\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      backgroundRepeat: \"no-repeat\"\n    }, _defineProperty(_twoThreeColImage, theme.breakpoints.down(\"sm\"), {\n      height: 150\n    }), _defineProperty(_twoThreeColImage, \"cursor\", \"pointer\"), _twoThreeColImage)\n  };\n});\n\nvar WebsiteSlider = function WebsiteSlider(props) {\n  _s();\n\n  var sliderData = props.sliderData,\n      otherLangSlider = props.otherLangSlider,\n      otherLangSliderImages = props.otherLangSliderImages,\n      selectedLang = props.selectedLang,\n      defaultLang = props.defaultLang,\n      type = props.type,\n      sliderType = props.sliderType;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS;\n\n  var _useState = useState([]),\n      sliderImages = _useState[0],\n      setSliderImages = _useState[1];\n\n  var _useState2 = useState({}),\n      sliderObj = _useState2[0],\n      setSliderObj = _useState2[1];\n\n  var _useState3 = useState(false),\n      isImageCta = _useState3[0],\n      setImageCta = _useState3[1];\n\n  var _useState4 = useState(false),\n      isImageTitleDesc = _useState4[0],\n      setImageTitleDesc = _useState4[1];\n\n  var _useState5 = useState(false),\n      isOpenSlider = _useState5[0],\n      setIsOpenSlider = _useState5[1];\n\n  var _useState6 = useState(false),\n      showSlider = _useState6[0],\n      setShowSlider = _useState6[1];\n\n  var router = useRouter();\n  var classes = useStyles(sliderData);\n  useEffect(function () {\n    var _iterator = _createForOfIteratorHelper(sliderImages),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var img = _step.value;\n        if (img.cta) setImageCta(true);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    if (!(sliderObj !== null && sliderObj !== void 0 && sliderObj.expiryDate)) {\n      var currentDate = moment().format(OREST_ENDPOINT.DATEFORMAT_LOCALE);\n      setShowSlider(moment(sliderObj === null || sliderObj === void 0 ? void 0 : sliderObj.expiryDate).isAfter(currentDate));\n    } else {\n      setShowSlider(true);\n    }\n  }, [sliderImages, sliderObj]);\n  useEffect(function () {\n    if (selectedLang === defaultLang) {\n      setImageCta(false);\n      setImageTitleDesc(false);\n\n      if (sliderData !== null && sliderData !== void 0 && sliderData.gid) {\n        var _sliderData$gid, _sliderData$gid2, _sliderData$gid3, _sliderData$gid4, _sliderData$gid5, _sliderData$gid5$imag;\n\n        setSliderObj({\n          title: sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$gid = sliderData.gid) === null || _sliderData$gid === void 0 ? void 0 : _sliderData$gid.title,\n          description: sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$gid2 = sliderData.gid) === null || _sliderData$gid2 === void 0 ? void 0 : _sliderData$gid2.description,\n          cta: sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$gid3 = sliderData.gid) === null || _sliderData$gid3 === void 0 ? void 0 : _sliderData$gid3.cta,\n          expiryDate: sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$gid4 = sliderData.gid) === null || _sliderData$gid4 === void 0 ? void 0 : _sliderData$gid4.expiryDate\n        });\n\n        if (sliderData !== null && sliderData !== void 0 && (_sliderData$gid5 = sliderData.gid) !== null && _sliderData$gid5 !== void 0 && (_sliderData$gid5$imag = _sliderData$gid5.images) !== null && _sliderData$gid5$imag !== void 0 && _sliderData$gid5$imag.length) {\n          setSliderImages(sliderData.gid.images);\n\n          var _iterator2 = _createForOfIteratorHelper(sliderData.gid.images),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var image = _step2.value;\n\n              if (image.cta) {\n                var _image$cta, _image$cta$replace$re;\n\n                setImageCta(true);\n                var ctaLinkValue = image === null || image === void 0 ? void 0 : (_image$cta = image.cta) === null || _image$cta === void 0 ? void 0 : (_image$cta$replace$re = _image$cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _image$cta$replace$re === void 0 ? void 0 : _image$cta$replace$re.split(' ')[0];\n                var linkMatch = ctaLinkValue === null || ctaLinkValue === void 0 ? void 0 : ctaLinkValue.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                if (linkMatch) {\n                  var _image$cta2;\n\n                  image['ctaLinkType'] = 'external';\n                  var cta_title = image === null || image === void 0 ? void 0 : (_image$cta2 = image.cta) === null || _image$cta2 === void 0 ? void 0 : _image$cta2.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(linkMatch[0] + '\"', '').replace('>', '').replace('</a>', '').trim();\n                  image['ctaTitleValue'] = cta_title;\n                } else {\n                  var _image$cta3;\n\n                  image['ctaLinkType'] = 'internal';\n\n                  var _cta_title = image === null || image === void 0 ? void 0 : (_image$cta3 = image.cta) === null || _image$cta3 === void 0 ? void 0 : _image$cta3.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(ctaLinkValue + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n                  image['ctaTitleValue'] = _cta_title;\n                }\n\n                image['ctaLinkValue'] = ctaLinkValue;\n              }\n\n              if (image.title || image.description) {\n                setImageTitleDesc(true);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      }\n    }\n\n    if (selectedLang !== defaultLang) {\n      var _sliderData$gid6, _sliderData$gid6$imag;\n\n      setSliderObj(otherLangSlider);\n\n      if ((sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$gid6 = sliderData.gid) === null || _sliderData$gid6 === void 0 ? void 0 : (_sliderData$gid6$imag = _sliderData$gid6.images) === null || _sliderData$gid6$imag === void 0 ? void 0 : _sliderData$gid6$imag.length) > 0) {\n        var updatedSliderImages = _toConsumableArray(sliderData.gid.images);\n\n        setSliderImages(sliderData.gid.images);\n\n        var _iterator3 = _createForOfIteratorHelper(sliderData.gid.images),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var img = _step3.value;\n            if (img !== null && img !== void 0 && img.cta) setImageCta(true);\n\n            if (img !== null && img !== void 0 && img.title || img !== null && img !== void 0 && img.description) {\n              setImageTitleDesc(true);\n            }\n\n            if (selectedLang !== defaultLang && otherLangSliderImages && otherLangSliderImages.length > 0) {\n              var _otherLangSliderImage, _otherLangSliderImage2, _otherLangSliderImage3;\n\n              var index = updatedSliderImages.indexOf(img);\n              img.title = otherLangSliderImages[index] && ((_otherLangSliderImage = otherLangSliderImages[index]) === null || _otherLangSliderImage === void 0 ? void 0 : _otherLangSliderImage.title);\n              img.description = otherLangSliderImages[index] && ((_otherLangSliderImage2 = otherLangSliderImages[index]) === null || _otherLangSliderImage2 === void 0 ? void 0 : _otherLangSliderImage2.description);\n              img.cta = otherLangSliderImages[index] && ((_otherLangSliderImage3 = otherLangSliderImages[index]) === null || _otherLangSliderImage3 === void 0 ? void 0 : _otherLangSliderImage3.cta);\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      }\n    }\n  }, [sliderData, otherLangSlider, otherLangSliderImages]);\n  return __jsx(React.Fragment, null, showSlider && __jsx(Typography, {\n    component: 'div',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 31\n    }\n  }, sliderImages.length > 0 && __jsx(Carousel, {\n    autoPlay: false,\n    interval: null // slide={true}\n    ,\n    nextIcon: __jsx(Typography, {\n      component: 'div',\n      className: classes.sliderBg,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 45\n      }\n    }, __jsx(NextIcon, {\n      className: classes.sliderArrow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 104\n      }\n    })),\n    prevIcon: __jsx(Typography, {\n      component: 'div',\n      className: classes.sliderBg,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 45\n      }\n    }, __jsx(PrevIcon, {\n      className: classes.sliderArrow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 104\n      }\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, sliderImages.map(function (image, index) {\n    return __jsx(Carousel.Item, {\n      key: \"crousel-item-\".concat(index),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 41\n      }\n    }, type === 'fullcol' && __jsx(\"div\", {\n      className: classes.imageBackgroundDiv,\n      style: {\n        backgroundImage: \"url(\".concat(GENERAL_SETTINGS.STATIC_URL + (image === null || image === void 0 ? void 0 : image.fileurl), \")\")\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 49\n      }\n    }), (type === 'twocol' || type === 'threecol') && __jsx(\"div\", {\n      style: {\n        backgroundImage: \"url(\".concat(GENERAL_SETTINGS.STATIC_URL).concat(image.fileurl, \")\")\n      },\n      className: classes.twoThreeColImage,\n      onClick: function onClick() {\n        return setIsOpenSlider(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 49\n      }\n    }), sliderType !== 'sliderOnly' && __jsx(Carousel.Caption, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 80\n      }\n    }, isImageTitleDesc ? __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: classes.title,\n      dangerouslySetInnerHTML: {\n        __html: image === null || image === void 0 ? void 0 : image.title\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 61\n      }\n    }), __jsx(\"div\", {\n      className: classes.description,\n      dangerouslySetInnerHTML: {\n        __html: image === null || image === void 0 ? void 0 : image.description\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 61\n      }\n    })) : __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: classes.title,\n      dangerouslySetInnerHTML: {\n        __html: sliderObj === null || sliderObj === void 0 ? void 0 : sliderObj.title\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 61\n      }\n    }), __jsx(\"div\", {\n      className: classes.description,\n      dangerouslySetInnerHTML: {\n        __html: sliderObj === null || sliderObj === void 0 ? void 0 : sliderObj.description\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 61\n      }\n    })), isImageCta ? __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 70\n      }\n    }, (image === null || image === void 0 ? void 0 : image.cta) && (image === null || image === void 0 ? void 0 : image.ctaLinkType) === 'external' && __jsx(Button, {\n      variant: \"contained\",\n      size: \"small\",\n      color: \"primary\",\n      \"aria-label\": \"add\",\n      className: classes.ctaButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 116\n      }\n    }, __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: image.cta\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 69\n      }\n    })), (image === null || image === void 0 ? void 0 : image.cta) && (image === null || image === void 0 ? void 0 : image.ctaLinkType) === 'internal' && __jsx(Button, {\n      variant: \"contained\",\n      size: \"small\",\n      color: \"primary\",\n      \"aria-label\": \"add\",\n      className: classes.ctaButton,\n      onClick: function onClick() {\n        router.push({\n          pathname: \"\".concat(image === null || image === void 0 ? void 0 : image.ctaLinkValue)\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 65\n      }\n    }, image.ctaTitleValue || '')) : __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 66\n      }\n    }, (sliderObj === null || sliderObj === void 0 ? void 0 : sliderObj.cta) && __jsx(Button, {\n      variant: \"contained\",\n      size: \"small\",\n      color: \"primary\",\n      \"aria-label\": \"add\",\n      className: classes.ctaButton,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 83\n      }\n    }, __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: sliderObj.cta\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 69\n      }\n    })))));\n  })), __jsx(ThumbnailSliderModal, {\n    open: isOpenSlider,\n    sliderTitle: sliderObj === null || sliderObj === void 0 ? void 0 : sliderObj.title,\n    sliderDesc: sliderObj === null || sliderObj === void 0 ? void 0 : sliderObj.description,\n    onClose: function onClose(e) {\n      return setIsOpenSlider(e);\n    },\n    sliderImages: sliderImages,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(WebsiteSlider, \"AI8T68ggGjTFlxxJsOcHBJCcvxs=\", false, function () {\n  return [useRouter, useStyles];\n});\n\n_c = WebsiteSlider;\nexport default WebsiteSlider;\n\nvar _c;\n\n$RefreshReg$(_c, \"WebsiteSlider\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/website/pages/WebsiteSlider.js"],"names":["React","useContext","useEffect","useState","Carousel","WebCmsGlobal","makeStyles","Button","NextIcon","PrevIcon","Typography","ThumbnailSliderModal","useRouter","moment","OREST_ENDPOINT","useStyles","theme","title","props","textColor","description","image","width","backgroundSize","ctaButton","borderRadius","backgroundColor","buttonColor","color","sliderBg","border","sliderArrow","fontSize","breakpoints","down","imageBackgroundDiv","height","backgroundPosition","imagePreview","position","twoThreeColImage","backgroundRepeat","WebsiteSlider","sliderData","otherLangSlider","otherLangSliderImages","selectedLang","defaultLang","type","sliderType","GENERAL_SETTINGS","sliderImages","setSliderImages","sliderObj","setSliderObj","isImageCta","setImageCta","isImageTitleDesc","setImageTitleDesc","isOpenSlider","setIsOpenSlider","showSlider","setShowSlider","router","classes","img","cta","expiryDate","currentDate","format","DATEFORMAT_LOCALE","isAfter","gid","images","length","ctaLinkValue","replace","trim","split","linkMatch","match","cta_title","updatedSliderImages","index","indexOf","map","backgroundImage","STATIC_URL","fileurl","__html","ctaLinkType","push","pathname","ctaTitleValue","e"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {Carousel} from 'react-bootstrap';\nimport WebCmsGlobal from \"components/webcms-global\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport NextIcon from \"@material-ui/icons/KeyboardArrowRight\";\nimport PrevIcon from \"@material-ui/icons/KeyboardArrowLeft\";\nimport {Typography} from \"@material-ui/core\";\nimport ThumbnailSliderModal from \"./SliderModal\";\nimport {useRouter} from \"next/router\";\nimport moment from \"moment\";\nimport {OREST_ENDPOINT} from \"../../../model/orest/constants\";\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        \"-webkit-text-fill-color\": props => props?.textColor ? props.textColor : \"#ffffff\",\n        \"-webkit-text-stroke-width\": \"0.8px\",\n        \"-webkit-text-stroke-color\": \"#000000\"\n    },\n    description: {\n        \"-webkit-text-fill-color\": props => props?.textColor ? props.textColor : \"#ffffff\",\n        \"-webkit-text-stroke-width\": \"0.8px\",\n        \"-webkit-text-stroke-color\": \"#000000\"\n    },\n    image: {\n        width: '100%',\n        backgroundSize: \"cover\"\n    },\n    ctaButton: {\n        borderRadius: 20,\n        backgroundColor: props => props?.buttonColor ? props.buttonColor : \"#ffffff\",\n        color: props => props?.textColor ? props.textColor : \"#ffffff\"\n    },\n    sliderBg: {\n        border: '1px solid white',\n        backgroundColor: '#FFFFFF',\n        borderRadius: '50%'\n    },\n    sliderArrow: {\n        color: \"#000000\",\n        fontSize: 40,\n        [theme.breakpoints.down(\"sm\")]: {\n            fontSize: 30,\n        },\n    },\n    imageBackgroundDiv: {\n        width: \"100vw\",\n        height: '80vh',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"31vh\",\n        },\n    },\n    imagePreview: {\n        height: \"100%\",\n        width: '100vw',\n        position: \"relative\",\n    },\n    twoThreeColImage: {\n        width: \"100%\",\n        position: \"relative\",\n        height: 300,\n        backgroundSize:\"cover\",\n        backgroundPosition:\"center\",\n        backgroundRepeat:\"no-repeat\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: 150,\n        },\n        cursor: \"pointer\"\n    }\n}));\n\nconst WebsiteSlider = (props) => {\n\n    const {\n        sliderData,\n        otherLangSlider,\n        otherLangSliderImages,\n        selectedLang,\n        defaultLang,\n        type,\n        sliderType\n    } = props;\n\n    const {GENERAL_SETTINGS} = useContext(WebCmsGlobal);\n    const [sliderImages, setSliderImages] = useState([]);\n    const [sliderObj, setSliderObj] = useState({});\n    const [isImageCta, setImageCta] = useState(false);\n    const [isImageTitleDesc, setImageTitleDesc] = useState(false);\n    const [ isOpenSlider, setIsOpenSlider ] = useState(false);\n    const [ showSlider, setShowSlider ] = useState(false);\n    const router = useRouter();\n\n    const classes = useStyles(sliderData);\n\n    useEffect(() => {\n        for (const img of sliderImages) {\n            if (img.cta) setImageCta(true)\n        }\n        if (!sliderObj?.expiryDate) {\n            const currentDate = moment().format(OREST_ENDPOINT.DATEFORMAT_LOCALE);\n            setShowSlider(moment(sliderObj?.expiryDate).isAfter(currentDate));\n        } else {\n            setShowSlider(true);\n        }\n    }, [sliderImages, sliderObj]);\n\n    useEffect(() => {\n        if (selectedLang === defaultLang) {\n            setImageCta(false);\n            setImageTitleDesc(false);\n            if (sliderData?.gid) {\n                setSliderObj({\n                    title: sliderData?.gid?.title,\n                    description: sliderData?.gid?.description,\n                    cta: sliderData?.gid?.cta,\n                    expiryDate: sliderData?.gid?.expiryDate\n                })\n                if (sliderData?.gid?.images?.length) {\n                    setSliderImages(sliderData.gid.images);\n                    for (const image of sliderData.gid.images) {\n                        if (image.cta) {\n                            setImageCta(true);\n                            const ctaLinkValue = image?.cta?.replace(`<a target=\"_blank\" href=\"`,\n                                '').replace('>',\n                                '').replace('</a>', '').replace('\"', '').trim()?.split(' ')[0];\n                            const linkMatch = ctaLinkValue?.match(/\\bhttps?:\\/\\/\\S+/gi);\n                            if (linkMatch) {\n                                image['ctaLinkType'] = 'external';\n                                const cta_title = image?.cta?.replace(`<a target=\"_blank\" href=\"`,\n                                    '').replace(linkMatch[0] + '\"', '').replace('>',\n                                    '').replace('</a>', '').trim();\n                                image['ctaTitleValue'] = cta_title;\n                            } else {\n                                image['ctaLinkType'] = 'internal';\n                                const cta_title = image?.cta?.replace(`<a target=\"_blank\" href=\"`,\n                                    '').replace(ctaLinkValue + '\"', '').replace('>',\n                                    '').replace('</a>', '').trim();\n                                image['ctaTitleValue'] = cta_title;\n                            }\n                            image['ctaLinkValue'] = ctaLinkValue;\n                        }\n                        if (image.title || image.description) {\n                            setImageTitleDesc(true);\n                        }\n                    }\n                }\n            }\n        }\n        if (selectedLang !== defaultLang) {\n            setSliderObj(otherLangSlider);\n            if (sliderData?.gid?.images?.length > 0) {\n                const updatedSliderImages = [...sliderData.gid.images];\n                setSliderImages(sliderData.gid.images);\n                for (const img of sliderData.gid.images) {\n                    if (img?.cta) setImageCta(true);\n                    if (img?.title || img?.description) {\n                        setImageTitleDesc(true);\n                    }\n                    if (selectedLang !== defaultLang && otherLangSliderImages && otherLangSliderImages.length > 0) {\n                        const index = updatedSliderImages.indexOf(img);\n                        img.title = otherLangSliderImages[index] && otherLangSliderImages[index]?.title;\n                        img.description = otherLangSliderImages[index] && otherLangSliderImages[index]?.description;\n                        img.cta = otherLangSliderImages[index] && otherLangSliderImages[index]?.cta;\n                    }\n                }\n            }\n        }\n    },[sliderData, otherLangSlider, otherLangSliderImages]);\n\n    return(\n        <>\n            {\n                showSlider && <Typography component={'div'}>\n                    {\n                        sliderImages.length > 0 &&\n                        <Carousel autoPlay={false} interval={null}\n                            // slide={true}\n                                  nextIcon={<Typography component={'div'} className={classes.sliderBg}><NextIcon\n                                      className={classes.sliderArrow}/></Typography>}\n                                  prevIcon={<Typography component={'div'} className={classes.sliderBg}><PrevIcon\n                                      className={classes.sliderArrow}/></Typography>}\n                        >\n                            {\n                                sliderImages.map((image, index) => {\n                                    return (\n                                        <Carousel.Item key={`crousel-item-${index}`}>\n                                            {\n                                                type === 'fullcol' &&\n                                                <div className={classes.imageBackgroundDiv}\n                                                     style={{\n                                                         backgroundImage: `url(${GENERAL_SETTINGS.STATIC_URL + image?.fileurl})`,\n                                                     }}></div>\n                                            }\n                                            {\n                                                (type === 'twocol' || type === 'threecol') &&\n                                                <div style={{backgroundImage: `url(${GENERAL_SETTINGS.STATIC_URL}${image.fileurl})`,}}\n                                                     className={classes.twoThreeColImage} onClick={()=> setIsOpenSlider(true)} />\n                                            }\n                                            {\n                                                sliderType !== 'sliderOnly' && <Carousel.Caption>\n                                                    {\n                                                        isImageTitleDesc ? <>\n                                                            <div className={classes.title} dangerouslySetInnerHTML={{__html: image?.title}}></div>\n                                                            <div className={classes.description} dangerouslySetInnerHTML={{__html: image?.description}}></div>\n                                                        </> : <>\n                                                            <div className={classes.title} dangerouslySetInnerHTML={{__html: sliderObj?.title}}></div>\n                                                            <div className={classes.description} dangerouslySetInnerHTML={{__html: sliderObj?.description}}></div>\n                                                        </>\n                                                    }\n                                                    {\n                                                        isImageCta ? <div>\n                                                            {\n                                                                image?.cta && image?.ctaLinkType === 'external' && <Button\n                                                                    variant=\"contained\"\n                                                                    size=\"small\"\n                                                                    color=\"primary\"\n                                                                    aria-label=\"add\"\n                                                                    className={classes.ctaButton}\n                                                                >\n                                                                    <div dangerouslySetInnerHTML={{__html: image.cta}}></div>\n                                                                </Button>\n                                                            }\n                                                            {\n                                                                image?.cta && image?.ctaLinkType === 'internal' &&\n                                                                <Button\n                                                                    variant=\"contained\"\n                                                                    size=\"small\"\n                                                                    color=\"primary\"\n                                                                    aria-label=\"add\"\n                                                                    className={classes.ctaButton}\n                                                                    onClick={() => {\n                                                                        router.push({\n                                                                            pathname: `${image?.ctaLinkValue}`\n                                                                        });\n                                                                    }}\n                                                                >\n                                                                    {image.ctaTitleValue || ''}\n                                                                </Button>\n                                                            }\n                                                        </div> : <div>\n                                                            {\n                                                                sliderObj?.cta && <Button\n                                                                    variant=\"contained\"\n                                                                    size=\"small\"\n                                                                    color=\"primary\"\n                                                                    aria-label=\"add\"\n                                                                    className={classes.ctaButton}\n                                                                >\n                                                                    <div dangerouslySetInnerHTML={{__html: sliderObj.cta}}></div>\n                                                                </Button>\n                                                            }\n                                                        </div>\n                                                    }\n                                                </Carousel.Caption>\n                                            }\n                                        </Carousel.Item>\n                                    )\n                                })\n                            }\n                        </Carousel>\n                    }\n                    <ThumbnailSliderModal open={isOpenSlider} sliderTitle={sliderObj?.title} sliderDesc={sliderObj?.description} onClose={(e)=> setIsOpenSlider(e)} sliderImages={sliderImages} />\n                </Typography>\n            }\n        </>\n    )\n};\n\nexport default WebsiteSlider;\n"]},"metadata":{},"sourceType":"module"}