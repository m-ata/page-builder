{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/booking/components/PriceCalendar.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport moment from 'moment';\nimport MomentAdapter from '@date-io/moment';\nimport { Badge, TextField, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LocalizationProvider, StaticDatePicker, PickersDay } from '@material-ui/pickers';\nimport * as global from '@webcms-globals';\nimport getSymbolFromCurrency from 'model/currency-symbol';\nimport { formatMoney } from 'model/orest/constants';\nimport clsx from 'clsx';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nconst usePriceDayStyles = makeStyles(theme => ({\n  priceDay: {\n    top: 25,\n    left: -13,\n    color: '#767676',\n    width: 36,\n    display: 'block',\n    padding: '3px 0 1px 0',\n    position: 'relative',\n    fontSize: '6.6px',\n    textAlign: 'center',\n    fontWeight: 800,\n    borderRadius: 0\n  },\n  priceDayDisc: {\n    top: 25,\n    left: -13,\n    color: '#28a745',\n    width: 36,\n    display: 'block',\n    padding: '3px 0 1px 0',\n    position: 'relative',\n    fontSize: '6.6px',\n    textAlign: 'center',\n    fontWeight: 800,\n    borderRadius: 0,\n    cursor: 'pointer'\n  },\n  highlight: {\n    color: '#727272!important',\n    borderRadius: 0,\n    backgroundColor: '#f9f9f9!important',\n    borderLeft: '1px solid #ebebeb',\n    alignItems: 'flex-start',\n    justifyContent: 'end',\n    padding: '2px 6px 4px 4px',\n    '&:hover, &:focus': {\n      backgroundColor: theme.palette.primary.dark\n    },\n    '& span': {\n      zIndex: 2\n    }\n  },\n  firstHighlight: {\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    backgroundColor: 'transparent!important',\n    borderLeft: 'none',\n    '&:before': {\n      content: '\\'\\'',\n      width: 0,\n      height: 0,\n      borderStyle: 'solid',\n      borderWidth: '0 0 36px 36px',\n      position: 'absolute',\n      top: 0,\n      left: -1,\n      borderColor: 'transparent transparent #cdcdcd52 transparent'\n    },\n    '& span': {\n      zIndex: 2\n    }\n  },\n  endHighlight: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    '&:after': {\n      content: '\\'\\'',\n      width: 0,\n      height: 0,\n      borderStyle: 'solid',\n      borderWidth: '36px 36px 0 0',\n      position: 'absolute',\n      top: 0,\n      left: 1,\n      borderColor: '#cdcdcd52 transparent transparent transparent'\n    },\n    '& span': {\n      zIndex: 2\n    }\n  },\n  priceCalender: {\n    padding: 0,\n    maxHeight: 340,\n    width: 300\n  }\n}));\n\nfunction makeJSDateObject(date) {\n  if (date) {\n    return date.clone().toDate();\n  }\n\n  if (moment.isMoment(date)) {\n    return date.clone().toDate();\n  }\n\n  if (date) {\n    return date.toJSDate();\n  }\n\n  if (date) {\n    return new Date(date.getTime());\n  }\n\n  return date;\n}\n\nfunction isMatchDay(date1, date2) {\n  return moment(date1, 'YYYY-MM-DD').format('YYYY-MM-DD') === moment(date2).format('YYYY-MM-DD');\n}\n\nfunction getPriceInfo(useDate, priceList) {\n  return priceList.find(info => isMatchDay(info.startdate, useDate));\n}\n\nfunction PriceDay(props) {\n  const classes = usePriceDayStyles();\n  const {\n    t\n  } = useTranslation();\n  const {\n    discdesc,\n    priceItem,\n    adult,\n    chdAges,\n    agencyChdAges\n  } = props;\n  const {\n    pricecurr,\n    discrate\n  } = priceItem;\n  const {\n    totalPrice,\n    discTotalPrice\n  } = global.onlineReservation.getTotalPrice(priceItem, adult, chdAges, agencyChdAges);\n\n  if (discTotalPrice > 0) {\n    return __jsx(Tooltip, {\n      title: discdesc && t(discdesc) || t('str_withDiscount', {\n        discount: discrate\n      }),\n      arrow: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, __jsx(\"span\", {\n      className: classes.priceDayDisc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, getSymbolFromCurrency(pricecurr || ''), \" \", formatMoney(discTotalPrice)));\n  } else {\n    return __jsx(\"span\", {\n      className: classes.priceDay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 16\n      }\n    }, getSymbolFromCurrency(pricecurr || ''), \" \", formatMoney(totalPrice));\n  }\n}\n\nfunction PriceCalendar(props) {\n  const classes = usePriceDayStyles();\n  const {\n    checkin,\n    checkout,\n    priceList,\n    adult,\n    chdAges,\n    agencyChdAges\n  } = props;\n  return __jsx(LocalizationProvider, {\n    dateLibInstance: moment,\n    dateAdapter: MomentAdapter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, __jsx(StaticDatePicker, {\n    className: classes.priceCalender,\n    onChange: () => {},\n    disablePast: true,\n    disableHighlightToday: true,\n    displayStaticWrapperAs: \"desktop\",\n    value: checkin,\n    minDate: checkin,\n    maxDate: moment(checkout).subtract(1, 'days'),\n    renderInput: props => __jsx(TextField, _extends({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 41\n      }\n    })),\n    renderLoading: () => \"\",\n    renderDay: (day, value, DayComponentProps) => {\n      const date = makeJSDateObject(day !== null && day !== void 0 ? day : new Date()),\n            useData = getPriceInfo(date, priceList),\n            isSelected = DayComponentProps.inCurrentMonth && useData,\n            isFirstDay = isMatchDay(checkin, date),\n            isLastDay = isMatchDay(checkout, date);\n      return __jsx(Badge, {\n        key: date.toString(),\n        overlap: \"circle\",\n        badgeContent: isSelected ? __jsx(PriceDay, {\n          priceItem: useData,\n          adult: adult,\n          chdAges: chdAges,\n          agencyChdAges: agencyChdAges,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 98\n          }\n        }) : undefined,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, __jsx(PickersDay, _extends({}, DayComponentProps, {\n        disableMargin: true,\n        className: clsx({\n          [classes.highlight]: isSelected,\n          [classes.firstHighlight]: isFirstDay,\n          [classes.endHighlight]: isLastDay\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 29\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default PriceCalendar;","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/booking/components/PriceCalendar.js"],"names":["React","moment","MomentAdapter","Badge","TextField","Tooltip","makeStyles","LocalizationProvider","StaticDatePicker","PickersDay","global","getSymbolFromCurrency","formatMoney","clsx","useTranslation","usePriceDayStyles","theme","priceDay","top","left","color","width","display","padding","position","fontSize","textAlign","fontWeight","borderRadius","priceDayDisc","cursor","highlight","backgroundColor","borderLeft","alignItems","justifyContent","palette","primary","dark","zIndex","firstHighlight","borderTopLeftRadius","borderBottomLeftRadius","content","height","borderStyle","borderWidth","borderColor","endHighlight","borderTopRightRadius","borderBottomRightRadius","priceCalender","maxHeight","makeJSDateObject","date","clone","toDate","isMoment","toJSDate","Date","getTime","isMatchDay","date1","date2","format","getPriceInfo","useDate","priceList","find","info","startdate","PriceDay","props","classes","t","discdesc","priceItem","adult","chdAges","agencyChdAges","pricecurr","discrate","totalPrice","discTotalPrice","onlineReservation","getTotalPrice","discount","PriceCalendar","checkin","checkout","subtract","day","value","DayComponentProps","useData","isSelected","inCurrentMonth","isFirstDay","isLastDay","toString","undefined"],"mappings":"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","sourcesContent":["import React from 'react'\nimport moment from 'moment'\nimport MomentAdapter from '@date-io/moment'\nimport { Badge, TextField, Tooltip } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LocalizationProvider, StaticDatePicker, PickersDay } from '@material-ui/pickers'\nimport * as global from '@webcms-globals'\nimport getSymbolFromCurrency from 'model/currency-symbol'\nimport { formatMoney } from 'model/orest/constants'\nimport clsx from 'clsx'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\n\nconst usePriceDayStyles = makeStyles((theme) => ({\n    priceDay: {\n        top: 25,\n        left: -13,\n        color: '#767676',\n        width: 36,\n        display: 'block',\n        padding: '3px 0 1px 0',\n        position: 'relative',\n        fontSize: '6.6px',\n        textAlign: 'center',\n        fontWeight: 800,\n        borderRadius: 0\n    },\n    priceDayDisc: {\n        top: 25,\n        left: -13,\n        color: '#28a745',\n        width: 36,\n        display: 'block',\n        padding: '3px 0 1px 0',\n        position: 'relative',\n        fontSize: '6.6px',\n        textAlign: 'center',\n        fontWeight: 800,\n        borderRadius: 0,\n        cursor: 'pointer'\n    },\n    highlight: {\n        color: '#727272!important',\n        borderRadius: 0,\n        backgroundColor: '#f9f9f9!important',\n        borderLeft: '1px solid #ebebeb',\n        alignItems: 'flex-start',\n        justifyContent: 'end',\n        padding: '2px 6px 4px 4px',\n        '&:hover, &:focus': {\n            backgroundColor: theme.palette.primary.dark,\n        },\n        '& span': {\n            zIndex: 2\n        }\n    },\n    firstHighlight: {\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n        backgroundColor: 'transparent!important',\n        borderLeft: 'none',\n        '&:before': {\n            content: '\\'\\'',\n            width: 0,\n            height: 0,\n            borderStyle: 'solid',\n            borderWidth: '0 0 36px 36px',\n            position: 'absolute',\n            top: 0,\n            left: -1,\n            borderColor: 'transparent transparent #cdcdcd52 transparent',\n        },\n        '& span': {\n            zIndex: 2\n        }\n    },\n    endHighlight: {\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n        '&:after': {\n            content: '\\'\\'',\n            width: 0,\n            height: 0,\n            borderStyle: 'solid',\n            borderWidth: '36px 36px 0 0',\n            position: 'absolute',\n            top: 0,\n            left: 1,\n            borderColor: '#cdcdcd52 transparent transparent transparent',\n        },\n        '& span': {\n            zIndex: 2\n        }\n    },\n    priceCalender: {\n        padding: 0,\n        maxHeight: 340,\n        width: 300\n    }\n}))\n\nfunction makeJSDateObject(date) {\n    if (date) {\n        return date.clone().toDate();\n    }\n\n    if (moment.isMoment(date)) {\n        return date.clone().toDate();\n    }\n\n    if (date) {\n        return date.toJSDate();\n    }\n\n    if (date) {\n        return new Date(date.getTime());\n    }\n\n    return date;\n}\n\nfunction isMatchDay(date1, date2){\n    return moment(date1, 'YYYY-MM-DD').format('YYYY-MM-DD') === moment(date2).format('YYYY-MM-DD')\n}\n\nfunction getPriceInfo(useDate, priceList){\n    return priceList.find(info => isMatchDay(info.startdate, useDate))\n}\n\nfunction PriceDay(props){\n    const classes = usePriceDayStyles()\n    const { t } = useTranslation()\n    const { discdesc, priceItem, adult, chdAges, agencyChdAges } = props\n    const { pricecurr, discrate } = priceItem\n    const { totalPrice, discTotalPrice } = global.onlineReservation.getTotalPrice(priceItem, adult, chdAges, agencyChdAges)\n\n    if(discTotalPrice > 0){\n        return (\n            <Tooltip title={discdesc && t(discdesc) || t('str_withDiscount', {discount: discrate})} arrow>\n                <span className={classes.priceDayDisc}>{getSymbolFromCurrency(pricecurr || '')} {formatMoney(discTotalPrice)}</span>\n            </Tooltip>\n        )\n    }else {\n        return <span className={classes.priceDay}>{getSymbolFromCurrency(pricecurr || '')} {formatMoney(totalPrice)}</span>\n    }\n}\n\nfunction PriceCalendar(props) {\n    const classes = usePriceDayStyles()\n    const { checkin, checkout, priceList, adult, chdAges, agencyChdAges  } = props\n\n    return (\n        <LocalizationProvider dateLibInstance={moment} dateAdapter={MomentAdapter}>\n            <StaticDatePicker\n                className={classes.priceCalender}\n                onChange={()=> {}}\n                disablePast\n                disableHighlightToday\n                displayStaticWrapperAs='desktop'\n                value={checkin}\n                minDate={checkin}\n                maxDate={moment(checkout).subtract(1,'days')}\n                renderInput={(props) => <TextField {...props} />}\n                renderLoading={() => \"\"}\n                renderDay={(day, value, DayComponentProps) => {\n                    const date = makeJSDateObject(day ?? new Date())\n                        , useData =   getPriceInfo(date, priceList)\n                        , isSelected = DayComponentProps.inCurrentMonth && useData\n                        , isFirstDay =  isMatchDay(checkin, date)\n                        , isLastDay = isMatchDay(checkout, date)\n\n                    return (\n                        <Badge key={date.toString()} overlap='circle' badgeContent={isSelected ? <PriceDay priceItem={useData} adult={adult} chdAges={chdAges} agencyChdAges={agencyChdAges} /> : undefined}>\n                            <PickersDay\n                                {...DayComponentProps}\n                                disableMargin\n                                className={clsx({\n                                    [classes.highlight]: isSelected,\n                                    [classes.firstHighlight]: isFirstDay,\n                                    [classes.endHighlight]: isLastDay,\n                                })}\n                            />\n                        </Badge>\n                    )\n                }}\n            />\n        </LocalizationProvider>\n    )\n}\n\nexport default PriceCalendar;\n"]},"metadata":{},"sourceType":"module"}