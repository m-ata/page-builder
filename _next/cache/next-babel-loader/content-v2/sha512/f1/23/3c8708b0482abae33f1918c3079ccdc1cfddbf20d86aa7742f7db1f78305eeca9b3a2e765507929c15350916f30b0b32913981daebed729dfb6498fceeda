{"ast":null,"code":"import _extends from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/guest/account/AccountPage.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport GuestLayout from 'components/layout/containers/GuestLayout';\nimport Tabs from '@material-ui/core/Tabs';\nimport MuiTab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport styles from './style/AccountPage.style';\nimport AccountBanner from 'components/layout/components/AccountBanner';\nimport withWidth from '@material-ui/core/withWidth/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withStyles } from '@material-ui/core';\nimport { connect, useSelector } from 'react-redux';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport Home from 'components/guest/public/Home';\nimport Info from 'components/guest/public/Info';\nimport Events from 'components/guest/public/Events';\nimport MyProfile from './MyProfile';\nimport History from './History';\nimport Router, { useRouter } from 'next/router';\nimport { ZERO } from 'model/globals';\nimport AccountKiosk from './AccountKiosk';\nimport { setToState as _setToState } from 'state/actions';\nvar useStyles = makeStyles(styles);\nvar Tab = withStyles(function (theme) {\n  return {\n    root: _defineProperty({\n      textTransform: 'uppercase'\n    }, theme.breakpoints.down('xs'), {\n      fontSize: '0.8em'\n    })\n  };\n})(MuiTab);\n\nvar TabPanel = function TabPanel(props) {\n  _s();\n\n  var children = props.children,\n      value = props.value,\n      hashCode = props.hashCode,\n      index = props.index,\n      other = _objectWithoutProperties(props, [\"children\", \"value\", \"hashCode\", \"index\"]);\n\n  var classes = useStyles();\n  return __jsx(Typography, _extends({\n    component: \"div\",\n    role: \"tabpanel\",\n    hidden: value !== hashCode,\n    id: \"scrollable-auto-tabpanel-\".concat(index),\n    \"aria-labelledby\": \"scrollable-auto-tab-\".concat(index),\n    className: classes.tabPanel\n  }, other, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), value === hashCode && __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 36\n    }\n  }, children));\n};\n\n_s(TabPanel, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  hashCode: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: \"scrollable-auto-tab-\".concat(index),\n    'aria-controls': \"scrollable-auto-tabpanel-\".concat(index)\n  };\n}\n\nvar Account = function Account(props) {\n  _s2();\n\n  var width = props.width,\n      setToState = props.setToState;\n  var classes = useStyles();\n  var router = useRouter();\n  var isKiosk = router.query.kiosk === 'true' ? true : false;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var isLogin = useSelector(function (state) {\n    return state.orest.currentUser && state.orest.currentUser.auth;\n  }) ? true : false;\n  var guestMenu = [{\n    componentId: 'HOME',\n    name: 'str_home',\n    hashCode: 'home',\n    onlylogin: false\n  }, {\n    componentId: 'INFO',\n    name: 'str_hotelInfo',\n    hashCode: 'info',\n    onlylogin: false\n  }, {\n    componentId: 'EVENTS',\n    name: 'str_events',\n    hashCode: 'events',\n    onlylogin: false\n  }, {\n    componentId: 'MY_PROFILE',\n    name: 'str_myProfile',\n    hashCode: 'profile',\n    onlylogin: true\n  }, {\n    componentId: 'HISTORY',\n    name: 'str_history',\n    hashCode: 'history',\n    onlylogin: true\n  }];\n  guestMenu = !isLogin ? guestMenu.filter(function (item) {\n    return item.onlylogin === false;\n  }) : guestMenu;\n  var tabPanelHashCode = router.query.menu;\n\n  var _useState = useState(guestMenu.findIndex(function (menu) {\n    return menu.hashCode === tabPanelHashCode;\n  }) > -1 ? router.query.menu : guestMenu && guestMenu[ZERO] && guestMenu[ZERO].hashCode ? guestMenu[ZERO].hashCode : false),\n      guestTabPanelHashCode = _useState[0],\n      setGuestTabPanelHashCode = _useState[1];\n\n  useEffect(function () {\n    setToState('guest', ['tabPanelHashCode'], guestTabPanelHashCode);\n  }, []);\n  useEffect(function () {\n    if (router.query.menu) {\n      var menuIndex = guestMenu.findIndex(function (menu) {\n        return menu.hashCode === tabPanelHashCode;\n      });\n\n      if (menuIndex > -1) {\n        setGuestTabPanelHashCode(router.query.menu);\n        setToState('guest', ['tabPanelHashCode'], router.query.menu);\n      }\n    }\n  }, [router.query.menu]);\n\n  if (!guestTabPanelHashCode) {\n    return __jsx(GuestLayout, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      style: {\n        marginTop: 50\n      },\n      gutterBottom: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, t('str_youMustLoginFirst')));\n  }\n\n  var handleGuestPanelTabChange = function handleGuestPanelTabChange(event, newValue) {\n    if (guestTabPanelHashCode !== newValue) {\n      setGuestTabPanelHashCode(newValue);\n      setToState('guest', ['tabPanelHashCode'], newValue);\n\n      if (tabPanelHashCode) {\n        Router.push({\n          pathname: router.pathname,\n          query: {\n            menu: newValue\n          }\n        });\n      }\n\n      setToState('guest', ['infoListOneGroup', 'id'], false);\n      setToState('guest', ['infoListOneGroup', 'groupName'], false);\n      setToState('guest', ['infoListOneGroup', 'data'], false);\n      setToState('guest', ['infoListOneGroup', 'langcode'], false);\n      setToState('guest', ['infoListOneGroup', 'chainid'], false);\n    }\n  };\n\n  var renderMenuComponent = function renderMenuComponent(menuItem) {\n    switch (menuItem.componentId) {\n      case 'HOME':\n        return __jsx(Home, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 24\n          }\n        });\n\n      case 'INFO':\n        return __jsx(Info, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 24\n          }\n        });\n\n      case 'EVENTS':\n        return __jsx(Events, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 24\n          }\n        });\n\n      case 'MY_PROFILE':\n        return __jsx(MyProfile, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 24\n          }\n        });\n\n      case 'HISTORY':\n        return __jsx(History, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 24\n          }\n        });\n    }\n  };\n\n  if (isKiosk) {\n    return __jsx(AccountKiosk, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return __jsx(GuestLayout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, isLogin && __jsx(AccountBanner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 25\n    }\n  }), __jsx(Tabs, {\n    value: guestTabPanelHashCode,\n    onChange: handleGuestPanelTabChange,\n    variant: guestMenu.length > 3 && width === 'xs' ? 'scrollable' : 'fullWidth',\n    scrollButtons: \"on\",\n    classes: {\n      root: classes.tabsRoot,\n      indicator: classes.tabsIndicator,\n      flexContainer: classes.tabsFlexContainer\n    },\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    \"aria-label\": \"menu tabs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, guestMenu.map(function (menuItem, i) {\n    return __jsx(Tab, _extends({\n      className: classes.tab,\n      value: menuItem.hashCode,\n      label: t(menuItem.name)\n    }, a11yProps(i), {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 28\n      }\n    }));\n  })), guestMenu.map(function (menuItem, i) {\n    return __jsx(TabPanel, {\n      value: guestTabPanelHashCode,\n      hashCode: menuItem.hashCode,\n      index: i,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, renderMenuComponent(menuItem));\n  }));\n};\n\n_s2(Account, \"yelNu3b1q65z/R+EqV8sS8PgVMg=\", false, function () {\n  return [useStyles, useRouter, useTranslation, useSelector];\n});\n\n_c2 = Account;\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setToState: function setToState(stateType, stateName, value) {\n      return dispatch(_setToState(stateType, stateName, value));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(withWidth()(Account));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"Account\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/guest/account/AccountPage.js"],"names":["React","useEffect","useState","PropTypes","GuestLayout","Tabs","MuiTab","Typography","styles","AccountBanner","withWidth","makeStyles","withStyles","connect","useSelector","useTranslation","Home","Info","Events","MyProfile","History","Router","useRouter","ZERO","AccountKiosk","setToState","useStyles","Tab","theme","root","textTransform","breakpoints","down","fontSize","TabPanel","props","children","value","hashCode","index","other","classes","tabPanel","propTypes","node","any","isRequired","a11yProps","id","Account","width","router","isKiosk","query","kiosk","t","isLogin","state","orest","currentUser","auth","guestMenu","componentId","name","onlylogin","filter","item","tabPanelHashCode","menu","findIndex","guestTabPanelHashCode","setGuestTabPanelHashCode","menuIndex","marginTop","handleGuestPanelTabChange","event","newValue","push","pathname","renderMenuComponent","menuItem","length","tabsRoot","indicator","tabsIndicator","flexContainer","tabsFlexContainer","map","i","tab","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport GuestLayout from 'components/layout/containers/GuestLayout'\nimport Tabs from '@material-ui/core/Tabs'\nimport MuiTab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport styles from './style/AccountPage.style'\nimport AccountBanner from 'components/layout/components/AccountBanner'\nimport withWidth from '@material-ui/core/withWidth/withWidth'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { withStyles } from '@material-ui/core'\nimport { connect, useSelector } from 'react-redux'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport Home from 'components/guest/public/Home'\nimport Info from 'components/guest/public/Info'\nimport Events from 'components/guest/public/Events'\nimport MyProfile from './MyProfile'\nimport History from './History'\nimport Router, { useRouter } from 'next/router'\nimport { ZERO } from 'model/globals'\nimport AccountKiosk from './AccountKiosk'\nimport { setToState } from 'state/actions'\n\nconst useStyles = makeStyles(styles)\n\nconst Tab = withStyles((theme) => ({\n    root: {\n        textTransform: 'uppercase',\n        [theme.breakpoints.down('xs')]: {\n            fontSize: '0.8em',\n        },\n    }\n}))(MuiTab)\n\nconst TabPanel = (props) => {\n    const { children, value, hashCode, index, ...other } = props\n    const classes = useStyles()\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== hashCode}\n            id={`scrollable-auto-tabpanel-${index}`}\n            aria-labelledby={`scrollable-auto-tab-${index}`}\n            className={classes.tabPanel}\n            {...other}\n        >\n            {value === hashCode && <React.Fragment>{children}</React.Fragment>}\n        </Typography>\n    )\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    hashCode: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n}\n\nfunction a11yProps(index) {\n    return {\n        id: `scrollable-auto-tab-${index}`,\n        'aria-controls': `scrollable-auto-tabpanel-${index}`,\n    }\n}\n\nconst Account = (props) => {\n    const { width, setToState } = props\n    const classes = useStyles()\n    const router = useRouter()\n    const isKiosk = router.query.kiosk === 'true' ? true : false\n    const { t } = useTranslation()\n    const isLogin = useSelector((state) => state.orest.currentUser && state.orest.currentUser.auth) ? true : false\n\n    let guestMenu = [\n        {\n            componentId: 'HOME',\n            name: 'str_home',\n            hashCode: 'home',\n            onlylogin: false,\n        },\n        {\n            componentId: 'INFO',\n            name: 'str_hotelInfo',\n            hashCode: 'info',\n            onlylogin: false,\n        },\n        {\n            componentId: 'EVENTS',\n            name: 'str_events',\n            hashCode: 'events',\n            onlylogin: false,\n        },\n        {\n            componentId: 'MY_PROFILE',\n            name: 'str_myProfile',\n            hashCode: 'profile',\n            onlylogin: true,\n        },\n        {\n            componentId: 'HISTORY',\n            name: 'str_history',\n            hashCode: 'history',\n            onlylogin: true,\n        },\n    ]\n\n    guestMenu = !isLogin ? guestMenu.filter((item) => item.onlylogin === false) : guestMenu\n    const tabPanelHashCode = router.query.menu\n    const [guestTabPanelHashCode, setGuestTabPanelHashCode] = useState(\n        guestMenu.findIndex((menu) => menu.hashCode === tabPanelHashCode) > -1\n            ? router.query.menu\n            : guestMenu && guestMenu[ZERO] && guestMenu[ZERO].hashCode\n            ? guestMenu[ZERO].hashCode\n            : false\n    )\n\n    useEffect(() => {\n        setToState('guest', ['tabPanelHashCode'], guestTabPanelHashCode)\n    }, [])\n\n    useEffect(()=> {\n        if(router.query.menu){\n           const menuIndex = guestMenu.findIndex((menu) => menu.hashCode === tabPanelHashCode)\n           if(menuIndex > -1){\n               setGuestTabPanelHashCode(router.query.menu)\n               setToState('guest', ['tabPanelHashCode'], router.query.menu)\n           }\n        }\n    }, [router.query.menu])\n\n    if (!guestTabPanelHashCode) {\n        return (\n            <GuestLayout>\n                <Typography variant=\"h6\" align=\"center\" style={{ marginTop: 50 }} gutterBottom>\n                    {t('str_youMustLoginFirst')}\n                </Typography>\n            </GuestLayout>\n        )\n    }\n\n    const handleGuestPanelTabChange = (event, newValue) => {\n        if (guestTabPanelHashCode !== newValue) {\n            setGuestTabPanelHashCode(newValue)\n            setToState('guest', ['tabPanelHashCode'], newValue)\n            if (tabPanelHashCode) {\n                Router.push({\n                    pathname: router.pathname,\n                    query: {\n                        menu: newValue,\n                    },\n                })\n            }\n\n            setToState('guest', ['infoListOneGroup', 'id'], false)\n            setToState('guest', ['infoListOneGroup', 'groupName'], false)\n            setToState('guest', ['infoListOneGroup', 'data'], false)\n            setToState('guest', ['infoListOneGroup', 'langcode'], false)\n            setToState('guest', ['infoListOneGroup', 'chainid'], false)\n        }\n    }\n\n    const renderMenuComponent = (menuItem) => {\n        switch (menuItem.componentId) {\n            case 'HOME':\n                return <Home />\n            case 'INFO':\n                return <Info />\n            case 'EVENTS':\n                return <Events />\n            case 'MY_PROFILE':\n                return <MyProfile />\n            case 'HISTORY':\n                return <History />\n        }\n    }\n\n    if(isKiosk){\n        return <AccountKiosk />\n    }\n\n    return (\n        <GuestLayout>\n            {isLogin && <AccountBanner />}\n            <Tabs\n                value={guestTabPanelHashCode}\n                onChange={handleGuestPanelTabChange}\n                variant={guestMenu.length > 3 && width === 'xs' ? 'scrollable' : 'fullWidth'}\n                scrollButtons=\"on\"\n                classes={{\n                    root: classes.tabsRoot,\n                    indicator: classes.tabsIndicator,\n                    flexContainer: classes.tabsFlexContainer,\n                }}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                aria-label=\"menu tabs\"\n            >\n                {guestMenu.map((menuItem, i) => {\n                    return <Tab className={classes.tab} value={menuItem.hashCode} label={t(menuItem.name)} {...a11yProps(i)} key={i} />\n                })}\n            </Tabs>\n            {guestMenu.map((menuItem, i) => {\n                return (\n                    <TabPanel value={guestTabPanelHashCode} hashCode={menuItem.hashCode} index={i} key={i}>\n                        {renderMenuComponent(menuItem)}\n                    </TabPanel>\n                )\n            })}\n        </GuestLayout>\n    )\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n})\n\nexport default connect(null, mapDispatchToProps)(withWidth()(Account))"]},"metadata":{},"sourceType":"module"}