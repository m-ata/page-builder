{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/guest/public/components/info/event-reservation/restaurant-reservation-summary.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography, Card, CardContent, Grid, Divider, IconButton } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport PeopleIcon from '@material-ui/icons/People';\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\nimport SpaIcon from '@material-ui/icons/Spa';\nimport moment from 'moment';\nimport useTranslation from \"../../../../../../lib/translations/hooks/useTranslation\";\nimport { formatMoney } from \"../../../../../../model/orest/constants\";\nimport getSymbolFromCurrency from \"../../../../../../model/currency-symbol\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport { CustomToolTip } from \"../../../../../user-portal/components/CustomToolTip/CustomToolTip\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    cardContent: function cardContent(props) {\n      return {\n        padding: \"0 24px\",\n        '&.MuiCardContent-root:last-child': {\n          paddingBottom: props.removeLastChildPadding ? '0' : '24px'\n        }\n      };\n    },\n    reservationCardTitle: {\n      paddingTop: '48px',\n      paddingBottom: \"16px\",\n      fontSize: \"18px\",\n      fontWeight: \"600\",\n      color: \"#122D31\"\n    },\n    reservationCardText: {\n      fontSize: \"13px\",\n      color: \"#122D31\"\n    },\n    reservationCardIcon: {\n      marginRight: \"8px\",\n      fontSize: \"16px\"\n    },\n    totalPriceText: {\n      fontSize: \"18px\",\n      fontWeight: \"600\"\n    },\n    productListContainer: {\n      visibility: 'visible',\n      position: 'relative',\n      '&:hover $productDeleteIcon': {\n        visibility: 'visible'\n      },\n      '&:hover $productListIconContainer': {\n        visibility: 'hidden'\n      }\n    },\n    productDeleteIcon: {\n      position: 'absolute',\n      visibility: 'hidden'\n    },\n    reservationCardIconContainer: {\n      display: 'flex'\n    },\n    productListIconContainer: {\n      visibility: 'visible'\n    }\n  };\n});\nexport default function RestaurantReservationSummary(props) {\n  _s();\n\n  var _this = this;\n\n  var companyTitle = props.companyTitle,\n      adult = props.adult,\n      child = props.child,\n      date = props.date,\n      time = props.time,\n      selectedProductList = props.selectedProductList,\n      isHaveProductList = props.isHaveProductList,\n      elevation = props.elevation,\n      isHideTitle = props.isHideTitle,\n      removeLastChildPadding = props.removeLastChildPadding,\n      isSpaRes = props.isSpaRes,\n      setToState = props.setToState;\n  var classes = useStyles({\n    removeLastChildPadding: removeLastChildPadding\n  });\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var handleCalcTotal = function handleCalcTotal(productList) {\n    var total = 0,\n        curr = '',\n        showprice = '';\n    productList.map(function (item, ind) {\n      total += item.amount * item.price;\n\n      if (curr === '') {\n        curr += item.pricecurr;\n      }\n\n      if (showprice === '') {\n        if (item !== null && item !== void 0 && item.showprice) {\n          showprice = true;\n        } else {\n          showprice = false;\n        } //showprice += item.showprice\n\n      }\n    });\n    return {\n      total: total,\n      pricecurr: curr,\n      showprice: productList.every(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.showprice) === true;\n      })\n    };\n  };\n\n  var handleRemoveItem = function handleRemoveItem(removeItem) {\n    var newList = selectedProductList.filter(function (item) {\n      return (item === null || item === void 0 ? void 0 : item.productcodeid) !== (removeItem === null || removeItem === void 0 ? void 0 : removeItem.productcodeid);\n    });\n    setToState('guest', ['selectGuestProductList'], newList);\n  };\n\n  return __jsx(Card, {\n    elevation: String(elevation) || 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, __jsx(CardContent, {\n    className: classes.cardContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, !isHideTitle && __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    className: classes.reservationCardTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, t('str_reservationSummary'))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    className: classes.reservationCardText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 33\n    }\n  }, __jsx(SearchIcon, {\n    className: classes.reservationCardIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 37\n    }\n  }), companyTitle && companyTitle)), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    className: classes.reservationCardText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, __jsx(PeopleIcon, {\n    className: classes.reservationCardIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }), adult && adult > 0 ? \"\".concat(adult, \" \").concat(t(\"str_adult\")) : \"\", child && child > 0 ? \", \".concat(child, \" \").concat(t(\"str_child\")) : \"\")), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    className: classes.reservationCardText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, __jsx(CalendarTodayIcon, {\n    className: classes.reservationCardIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }), date && moment(date).format(\"DD.MM.YYYY\") + \" / \", time && moment(time, \"HH:mm:ss\").format(\"HH:mm\"))))), isHaveProductList ? __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    style: {\n      paddingTop: \"24px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, selectedProductList && selectedProductList.length > 0 && selectedProductList.map(function (item, i) {\n    var _item$note;\n\n    return __jsx(\"div\", {\n      className: classes.productListContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 49\n      }\n    }, __jsx(Grid, {\n      container: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 53\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 7,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 57\n      }\n    }, __jsx(\"div\", {\n      className: classes.productDeleteIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 61\n      }\n    }, __jsx(IconButton, {\n      onClick: function onClick() {\n        return handleRemoveItem(item);\n      },\n      style: {\n        padding: 0\n      },\n      size: 'small',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 65\n      }\n    }, __jsx(DeleteIcon, {\n      style: {\n        fontSize: '16px',\n        color: 'red'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 69\n      }\n    }))), __jsx(\"div\", {\n      className: classes.reservationCardIconContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 61\n      }\n    }, __jsx(\"div\", {\n      className: classes.productListIconContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 65\n      }\n    }, isSpaRes ? __jsx(SpaIcon, {\n      className: classes.reservationCardIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 81\n      }\n    }) : __jsx(FastfoodIcon, {\n      className: classes.reservationCardIcon,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 134\n      }\n    })), __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        position: 'relative'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 65\n      }\n    }, __jsx(Typography, {\n      className: classes.reservationCardText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 69\n      }\n    }, item.title, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 73\n      }\n    }, (item === null || item === void 0 ? void 0 : item.note) && ((_item$note = item.note) === null || _item$note === void 0 ? void 0 : _item$note.length) > 0 && __jsx(CustomToolTip, {\n      title: item.note,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 81\n      }\n    }, __jsx(InfoOutlinedIcon, {\n      style: {\n        fontSize: '16px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 85\n      }\n    }))))))), __jsx(Grid, {\n      item: true,\n      xs: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 57\n      }\n    }, __jsx(Typography, {\n      className: classes.reservationCardText,\n      style: {\n        textAlign: 'right'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 61\n      }\n    }, \"x \", item.amount)), __jsx(Grid, {\n      item: true,\n      xs: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 57\n      }\n    }, item !== null && item !== void 0 && item.showprice ? __jsx(Typography, {\n      className: classes.reservationCardText,\n      style: {\n        textAlign: 'right'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 69\n      }\n    }, item.price > 0 ? formatMoney(item.amount * item.price) : ' - ', getSymbolFromCurrency(item.pricecurr)) : null)));\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    style: {\n      padding: \"4px 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 37\n    }\n  }, __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 41\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 33\n    }\n  }, handleCalcTotal(selectedProductList).showprice && handleCalcTotal(selectedProductList).total > 0 ? __jsx(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 45\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 49\n    }\n  }, __jsx(Typography, {\n    className: classes.totalPriceText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 53\n    }\n  }, t(\"str_total\"))), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 49\n    }\n  }, __jsx(Typography, {\n    className: classes.totalPriceText,\n    style: {\n      textAlign: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 53\n    }\n  }, formatMoney(handleCalcTotal(selectedProductList).total), getSymbolFromCurrency(handleCalcTotal(selectedProductList).pricecurr)))) : null)) : null)));\n}\n\n_s(RestaurantReservationSummary, \"h68XjMarfE1o4WMqifPfj6fvklc=\", false, function () {\n  return [useStyles, useTranslation];\n});\n\n_c = RestaurantReservationSummary;\n\nvar _c;\n\n$RefreshReg$(_c, \"RestaurantReservationSummary\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/guest/public/components/info/event-reservation/restaurant-reservation-summary.js"],"names":["React","useState","useEffect","makeStyles","Typography","Card","CardContent","Grid","Divider","IconButton","SearchIcon","PeopleIcon","CalendarTodayIcon","FastfoodIcon","SpaIcon","moment","useTranslation","formatMoney","getSymbolFromCurrency","DeleteIcon","InfoOutlinedIcon","CustomToolTip","useStyles","theme","cardContent","props","padding","paddingBottom","removeLastChildPadding","reservationCardTitle","paddingTop","fontSize","fontWeight","color","reservationCardText","reservationCardIcon","marginRight","totalPriceText","productListContainer","visibility","position","productDeleteIcon","reservationCardIconContainer","display","productListIconContainer","RestaurantReservationSummary","companyTitle","adult","child","date","time","selectedProductList","isHaveProductList","elevation","isHideTitle","isSpaRes","setToState","classes","t","handleCalcTotal","productList","total","curr","showprice","map","item","ind","amount","price","pricecurr","every","handleRemoveItem","removeItem","newList","filter","productcodeid","String","format","length","i","alignItems","title","note","textAlign"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n    Typography,\n    Card,\n    CardContent,\n    Grid,\n    Divider, IconButton\n} from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\nimport PeopleIcon from '@material-ui/icons/People';\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\nimport FastfoodIcon from '@material-ui/icons/Fastfood';\nimport SpaIcon from '@material-ui/icons/Spa';\nimport moment from 'moment'\nimport useTranslation from \"../../../../../../lib/translations/hooks/useTranslation\";\nimport {formatMoney} from \"../../../../../../model/orest/constants\";\nimport getSymbolFromCurrency from \"../../../../../../model/currency-symbol\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport {CustomToolTip} from \"../../../../../user-portal/components/CustomToolTip/CustomToolTip\";\n\nconst useStyles = makeStyles((theme) => ({\n    cardContent: (props) =>  ({\n        padding: \"0 24px\",\n        '&.MuiCardContent-root:last-child': {\n            paddingBottom: props.removeLastChildPadding ? '0' : '24px'\n        }\n\n    }),\n    reservationCardTitle: {\n        paddingTop: '48px',\n        paddingBottom: \"16px\",\n        fontSize: \"18px\",\n        fontWeight: \"600\",\n        color: \"#122D31\"\n    },\n    reservationCardText: {\n        fontSize: \"13px\",\n        color: \"#122D31\"\n    },\n    reservationCardIcon: {\n        marginRight: \"8px\",\n        fontSize: \"16px\"\n    },\n    totalPriceText: {\n        fontSize: \"18px\",\n        fontWeight: \"600\",\n    },\n    productListContainer: {\n        visibility: 'visible',\n        position: 'relative',\n        '&:hover $productDeleteIcon': {\n            visibility: 'visible'\n        },\n        '&:hover $productListIconContainer': {\n            visibility: 'hidden'\n        }\n    },\n    productDeleteIcon: {\n        position: 'absolute',\n        visibility: 'hidden'\n    },\n    reservationCardIconContainer: {\n        display: 'flex',\n    },\n    productListIconContainer: {\n        visibility: 'visible'\n    }\n\n}))\n\n\n\nexport default function RestaurantReservationSummary(props) {\n    const { companyTitle, adult, child, date, time, selectedProductList, isHaveProductList, elevation, isHideTitle, removeLastChildPadding, isSpaRes, setToState } = props;\n    const classes = useStyles({removeLastChildPadding: removeLastChildPadding});\n    const { t } = useTranslation();\n\n    const handleCalcTotal = (productList) => {\n        let total = 0,\n            curr = '',\n            showprice = ''\n\n        productList.map((item, ind) => {\n            total += item.amount * item.price;\n\n            if (curr === '') {\n                curr += item.pricecurr\n            }\n\n            if(showprice === '') {\n                if(item?.showprice) {\n                    showprice = true\n                } else {\n                    showprice = false\n                }\n                //showprice += item.showprice\n            }\n\n        })\n        return {\n            total: total,\n            pricecurr: curr,\n            showprice: productList.every(item => item?.showprice === true)\n        }\n    }\n\n    const handleRemoveItem = (removeItem) => {\n        const newList = selectedProductList.filter(item => item?.productcodeid !== removeItem?.productcodeid)\n        setToState('guest', ['selectGuestProductList'], newList)\n    }\n\n    return(\n        <Card elevation={String(elevation) || 1}>\n            <CardContent className={classes.cardContent}>\n                <Grid container spacing={1}>\n                    {\n                        !isHideTitle && (\n                            <Grid item xs={12}>\n                                <Typography className={classes.reservationCardTitle}>{t('str_reservationSummary')}</Typography>\n                            </Grid>\n                        )\n                    }\n                    <Grid item xs={12}>\n                        <Grid container spacing={1}>\n                            <Grid item xs={12}>\n                                <Typography className={classes.reservationCardText}>\n                                    <SearchIcon className={classes.reservationCardIcon}/>\n                                    {companyTitle && companyTitle}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Typography className={classes.reservationCardText}>\n                                    <PeopleIcon className={classes.reservationCardIcon}/>\n                                    {adult && adult > 0 ? `${adult} ${t(\"str_adult\")}` : \"\"}\n                                    {child && child > 0 ? `, ${child} ${t(\"str_child\")}`: \"\"}\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <Typography className={classes.reservationCardText}>\n                                    <CalendarTodayIcon className={classes.reservationCardIcon}/>\n                                    {date && moment(date).format(\"DD.MM.YYYY\") + \" / \"}\n                                    {time && moment(time, \"HH:mm:ss\").format(\"HH:mm\")}\n                                </Typography>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                    {\n                        isHaveProductList ? (\n                            <React.Fragment>\n                                <Grid item xs={12}>\n                                    <div style={{paddingTop: \"24px\"}}>\n                                        {selectedProductList && selectedProductList.length > 0 && selectedProductList.map((item, i) => {\n                                            return(\n                                                <div className={classes.productListContainer}>\n                                                    <Grid container>\n                                                        <Grid item xs={7}>\n                                                            <div className={classes.productDeleteIcon}>\n                                                                <IconButton\n                                                                    onClick={() => handleRemoveItem(item)}\n                                                                    style={{padding: 0}}\n                                                                    size={'small'}\n                                                                >\n                                                                    <DeleteIcon style={{fontSize: '16px', color: 'red'}}/>\n                                                                </IconButton>\n                                                            </div>\n                                                            <div className={classes.reservationCardIconContainer}>\n                                                                <div className={classes.productListIconContainer}>\n                                                                    {isSpaRes ? <SpaIcon className={classes.reservationCardIcon}/> : <FastfoodIcon className={classes.reservationCardIcon}/>}\n                                                                </div>\n                                                                <div style={{display: 'flex', alignItems: 'center', position: 'relative'}}>\n                                                                    <Typography className={classes.reservationCardText}>\n                                                                        {item.title}\n                                                                        <a>\n                                                                            {item?.note && item.note?.length > 0 && (\n                                                                                <CustomToolTip title={item.note}>\n                                                                                    <InfoOutlinedIcon style={{fontSize: '16px'}}/>\n                                                                                </CustomToolTip>\n                                                                            )}\n                                                                        </a>\n                                                                    </Typography>\n\n                                                                </div>\n                                                            </div>\n                                                        </Grid>\n                                                        <Grid item xs={2}>\n                                                            <Typography className={classes.reservationCardText} style={{textAlign: 'right'}}>x {item.amount}</Typography>\n                                                        </Grid>\n                                                        <Grid item xs={3}>\n                                                            {\n                                                                item?.showprice ? (\n                                                                    <Typography className={classes.reservationCardText} style={{textAlign: 'right'}}>\n                                                                        {(item.price > 0) ? formatMoney(item.amount * item.price) : ' - '}\n                                                                        {getSymbolFromCurrency(item.pricecurr)}\n                                                                    </Typography>\n                                                                ) : null\n                                                            }\n                                                        </Grid>\n                                                    </Grid>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <div style={{padding: \"4px 0\"}}>\n                                        <Divider/>\n                                    </div>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    {\n                                        handleCalcTotal(selectedProductList).showprice  && handleCalcTotal(selectedProductList).total > 0 ? (\n                                            <Grid container>\n                                                <Grid item xs={6}>\n                                                    <Typography className={classes.totalPriceText}>{t(\"str_total\")}</Typography>\n                                                </Grid>\n                                                <Grid item xs={6}>\n                                                    <Typography className={classes.totalPriceText} style={{textAlign: \"right\"}}>\n                                                        {formatMoney(handleCalcTotal(selectedProductList).total)}\n                                                        {getSymbolFromCurrency(handleCalcTotal(selectedProductList).pricecurr)}\n                                                    </Typography>\n                                                </Grid>\n                                            </Grid>\n                                        ) : null\n                                    }\n                                </Grid>\n                            </React.Fragment>\n                        ) : null\n                    }\n                </Grid>\n            </CardContent>\n        </Card>\n    )\n}"]},"metadata":{},"sourceType":"module"}