{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/pages/page-builder/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n//import from react\nimport React, { useContext, useEffect, useState } from 'react'; //import from redux\n\nimport { connect } from 'react-redux'; //material import\n\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles'; //custom imports\n\nimport PageBuilderStepper from '../../components/page-builder/PageBuilderStepper';\nimport { COLORS } from '../../components/page-builder/PageBuilderSteps/constants';\nimport { ViewList } from '@webcms/orest';\nimport WebCmsGlobal from 'components/webcms-global';\nimport { useRouter } from 'next/router';\nimport { OREST_ENDPOINT } from '../../model/orest/constants';\nimport { updateState as _updateState } from '../../state/actions';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    codeText: {\n      color: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n      \"float\": 'right',\n      marginRight: theme.spacing(2),\n      marginTop: theme.spacing(2)\n    },\n    paageBuilderTypeText: {\n      color: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n      marginLeft: theme.spacing(3),\n      marginTop: theme.spacing(2)\n    }\n  };\n});\n\nvar Index = function Index(props) {\n  _s();\n\n  var _router$query, _router$query2;\n\n  var state = props.state,\n      updateState = props.updateState;\n\n  var _useState = useState(''),\n      pbType = _useState[0],\n      setPbType = _useState[1];\n\n  var router = useRouter();\n  var token = router === null || router === void 0 ? void 0 : (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.authToken;\n  var companyId = router === null || router === void 0 ? void 0 : (_router$query2 = router.query) === null || _router$query2 === void 0 ? void 0 : _router$query2.companyID;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS;\n\n  var cls = useStyles();\n  useEffect(function () {\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.HCMITEM,\n      token: token,\n      params: {\n        limit: 1,\n        hotelrefno: Number(companyId)\n      }\n    }).then(function (res1) {\n      if (res1.status === 200 && res1.data.data.length > 0) {\n        updateState('pageBuilder', 'hcmItemId', res1.data.data[0].id);\n      }\n    });\n  }, []);\n  useEffect(function () {\n    if (state.type === 'webPage') setPbType('WEB PAGE');else if (state.type === 'website') setPbType('WEBSITE');else if (state.type === 'email' || state.type === 'emailOnly') setPbType('EMAIL');else if (state.type === 'assets' || state.type === 'assetOnly') setPbType('Assets');else if (state.type === 'faqOnly') setPbType(\"FAQ's\");else setPbType('');\n  }, [state.type]);\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(Card, {\n    style: {\n      height: '100vh',\n      overflow: 'auto'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-start\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, __jsx(Typography, {\n    \"data-testid\": 'pb-type',\n    className: cls.paageBuilderTypeText,\n    variant: \"h4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, pbType)), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, __jsx(Typography, {\n    className: cls.codeText,\n    variant: 'h6',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, state.code))), __jsx(PageBuilderStepper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }))));\n};\n\n_s(Index, \"t1CTR7lLvBTF13UFoLzLtit0n50=\", false, function () {\n  return [useRouter, useStyles];\n});\n\n_c = Index;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateState: function updateState(stateType, stateName, value) {\n      return dispatch(_updateState(stateType, stateName, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Index);\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/pages/page-builder/index.js"],"names":["React","useContext","useEffect","useState","connect","Container","Grid","Card","Typography","makeStyles","PageBuilderStepper","COLORS","ViewList","WebCmsGlobal","useRouter","OREST_ENDPOINT","updateState","useStyles","theme","codeText","color","secondary","marginRight","spacing","marginTop","paageBuilderTypeText","marginLeft","Index","props","state","pbType","setPbType","router","token","query","authToken","companyId","companyID","GENERAL_SETTINGS","cls","apiUrl","OREST_URL","endpoint","HCMITEM","params","limit","hotelrefno","Number","then","res1","status","data","length","id","type","height","overflow","code","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName","value"],"mappings":"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","sourcesContent":["//import from react\nimport React, { useContext, useEffect, useState } from 'react'\n//import from redux\nimport { connect } from 'react-redux'\n//material import\nimport Container from '@material-ui/core/Container'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\n//custom imports\nimport PageBuilderStepper from '../../components/page-builder/PageBuilderStepper'\nimport { COLORS } from '../../components/page-builder/PageBuilderSteps/constants'\nimport { ViewList } from '@webcms/orest'\nimport WebCmsGlobal from 'components/webcms-global'\nimport { useRouter } from 'next/router'\nimport { OREST_ENDPOINT } from '../../model/orest/constants'\nimport { updateState } from '../../state/actions'\n\nconst useStyles = makeStyles((theme) => ({\n    codeText: {\n        color: COLORS?.secondary,\n        float: 'right',\n        marginRight: theme.spacing(2),\n        marginTop: theme.spacing(2),\n    },\n    paageBuilderTypeText: {\n        color: COLORS?.secondary,\n        marginLeft: theme.spacing(3),\n        marginTop: theme.spacing(2),\n    },\n}))\n\nconst Index = (props) => {\n    const { state, updateState } = props\n\n    const [pbType, setPbType] = useState('')\n\n    const router = useRouter()\n    const token = router?.query?.authToken\n    const companyId = router?.query?.companyID\n    const { GENERAL_SETTINGS } = useContext(WebCmsGlobal)\n\n    const cls = useStyles()\n\n    useEffect(() => {\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEM,\n            token: token,\n            params: {\n                limit: 1,\n                hotelrefno: Number(companyId),\n            },\n        }).then((res1) => {\n            if (res1.status === 200 && res1.data.data.length > 0) {\n                updateState('pageBuilder', 'hcmItemId', res1.data.data[0].id)\n            }\n        })\n    }, [])\n\n    useEffect(() => {\n        if (state.type === 'webPage')\n            setPbType('WEB PAGE');\n        else if (state.type === 'website')\n            setPbType('WEBSITE');\n        else if (state.type === 'email' || state.type === 'emailOnly')\n            setPbType('EMAIL');\n        else if (state.type === 'assets' || state.type === 'assetOnly')\n            setPbType('Assets')\n        else if (state.type === 'faqOnly')\n            setPbType(\"FAQ's\");\n        else setPbType('')\n    }, [state.type])\n\n    return (\n        <React.Fragment >\n            <Card style={{height: '100vh', overflow: 'auto'}}>\n                <Container>\n                    <Grid container direction=\"row\" justify=\"flex-start\">\n                        <Grid item xs={6}>\n                            <Typography data-testid={'pb-type'} className={cls.paageBuilderTypeText} variant=\"h4\">\n                                {pbType}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Typography className={cls.codeText} variant={'h6'}>\n                                {state.code}\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                    <PageBuilderStepper />\n                </Container>\n            </Card>\n        </React.Fragment>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.pageBuilder,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Index)\n"]},"metadata":{},"sourceType":"module"}