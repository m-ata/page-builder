{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/home/Home.js\";\nvar __jsx = React.createElement;\n//react import\nimport React, { useState, useEffect, useContext } from 'react'; //material imports\n\nimport Container from '@material-ui/core/Container';\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core';\nimport WebIcon from '@material-ui/icons/Web';\nimport Typography from \"@material-ui/core/Typography\";\nimport RemoveCircleIcon from \"@material-ui/icons/RemoveCircle\";\nimport EmailIcon from '@material-ui/icons/Email';\nimport IconButton from \"@material-ui/core/IconButton\"; //router import\n\nimport { useRouter } from \"next/router\"; //redux imports\n\nimport { connect } from \"react-redux\";\nimport { setToState, updateState } from \"../../../../../state/actions\";\nimport { Delete, ViewList } from \"@webcms/orest\";\nimport clsx from 'clsx';\nimport { toast } from \"react-toastify\"; //custom imports\n\nimport Image from \"../../components/page/sections/image/Image\";\nimport Paragraph from \"../../components/page/sections/paragraph/Paragraph\";\nimport EmailHeader from \"../../components/email/header/EmailHeader\";\nimport EmailFooter from \"../../components/email/footer/EmailFooter\";\nimport WebCmsGlobal from \"components/webcms-global\";\nimport { COLORS, DELETE_SUCCESS } from \"../../constants\";\nimport Header from \"../../components/website/header/Header\";\nimport Page from \"../../components/website/pages/Page\";\nimport Footer from \"../../components/website/footer/Footer\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nimport { isErrorMsg, OREST_ENDPOINT } from \"model/orest/constants\";\nimport { AlertDialog } from \"../../components/alert\";\nimport RenderWebPage from '../RenderWebPage'; //font awsome imports\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faWeebly } from '@fortawesome/free-brands-svg-icons';\nimport { faTextHeight } from '@fortawesome/free-solid-svg-icons';\nconst useStyles = makeStyles(() => ({\n  pageRoot: {\n    flexGrow: 1\n  },\n  pageBlock: {\n    border: `2px solid ${COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary}`\n  },\n  pagePaperUl: {\n    listStyleType: 'none',\n    minHeight: 50\n  },\n  pagePaperLi: {\n    cursor: 'pointer',\n    color: COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  disableEvent: {\n    pointerEvents: \"none\",\n    opacity: 0.5\n  }\n}));\n\nconst Home = props => {\n  var _router$query, _state$email, _state$email$header, _state$email2, _state$email2$header, _state$email2$header$, _state$email3, _state$email3$body;\n\n  const {\n    state,\n    onSelectPage,\n    updateState,\n    onSelectWebsite,\n    onSelectEmail\n  } = props;\n  const cls = useStyles();\n  const router = useRouter();\n  const companyId = router === null || router === void 0 ? void 0 : (_router$query = router.query) === null || _router$query === void 0 ? void 0 : _router$query.companyID;\n  const {\n    0: description,\n    1: setDescription\n  } = useState('');\n  const {\n    0: selectedIndex,\n    1: setSelectedIndex\n  } = useState();\n  const {\n    0: url,\n    1: setUrl\n  } = useState('');\n  const {\n    GENERAL_SETTINGS,\n    token\n  } = useContext(WebCmsGlobal);\n  const {\n    0: isLoaded,\n    1: setIsLoaded\n  } = useState(false);\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  const {\n    0: isDeleting,\n    1: setIsDeleting\n  } = useState(false);\n  const [isAlert, setAlert] = React.useState(false);\n  const {\n    0: alertDialogType,\n    1: setAlertDialogType\n  } = useState('');\n  const {\n    0: deletedGID,\n    1: setDeletedGID\n  } = useState('');\n  const {\n    0: isDeleteIconShow,\n    1: setDeleteIconShow\n  } = useState(false);\n  const {\n    0: hoverIndex,\n    1: setHoverIndex\n  } = useState(null);\n  const authToken = token || router.query.authToken;\n  useEffect(() => {\n    let fileType;\n    setIsLoaded(false);\n\n    switch (state.type) {\n      case 'webPage':\n        fileType = 'WEBPAGE';\n        break;\n\n      case 'website':\n        fileType = 'WEBSITE';\n        break;\n\n      case 'email':\n        fileType = 'PB-EMAIL';\n        break;\n\n      case 'emailOnly':\n        fileType = 'PB-EMAIL';\n        break;\n\n      default:\n        fileType = '';\n    }\n\n    if (state.type === 'webPage' || state.type === 'website' || state.type === 'email' || state.type === 'emailOnly') {\n      //getting data from rafile\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.RAFILE,\n        token: authToken,\n        params: {\n          hotelrefno: Number(companyId),\n          query: `filetype::${fileType},${(state === null || state === void 0 ? void 0 : state.type) === 'emailOnly' ? 'istemplate::true' : ''}`\n        }\n      }).then(res => {\n        setIsLoaded(true);\n\n        if (res.status === 200 && res.data && res.data.data) {\n          setData(res.data.data);\n        }\n      });\n    } else {\n      setIsLoaded(true);\n      setData([]);\n    }\n  }, [state.type]);\n  useEffect(() => {\n    //setting url\n    if (window && window.location && window.location.port) {\n      setUrl(`${window.location.protocol}//${window.location.hostname}:${window.location.port}`);\n    } else {\n      setUrl(`${window.location.protocol}//${window.location.hostname}`);\n    }\n\n    updateState('pageBuilder', 'langCode', state.defaultLang);\n    updateState('pageBuilder', 'langId', state.defaultLangId);\n    updateState('pageBuilder', 'isTemplate', false);\n  }, []);\n  useEffect(() => {\n    if (state.pageStep === 0) {\n      updateState('pageBuilder', 'code', '');\n\n      if (state.type === 'webPage') {\n        updateState('pageBuilder', 'page', {\n          id: '',\n          sections: []\n        });\n      }\n\n      if (state.type === 'website') {\n        updateState('pageBuilder', 'website', {\n          header: {},\n          footer: {},\n          pages: []\n        });\n      }\n\n      if (state.type === 'email' || state.type === 'emailOnly') {\n        updateState('pageBuilder', 'email', {\n          header: {},\n          footer: {},\n          body: []\n        });\n      }\n    }\n  }, [state.pageStep]);\n\n  const handleSelect = (data, index) => {\n    if (selectedIndex === index) {\n      updateState('pageBuilder', 'langsFile', {});\n      updateState('pageBuilder', 'isTemplate', false);\n      updateState('pageBuilder', 'code', '');\n      setSelectedIndex(null);\n      setDescription('');\n\n      if (state.type === 'webPage') {\n        updateState('pageBuilder', 'page', {\n          id: '',\n          sections: []\n        });\n        onSelectPage(false);\n      }\n\n      if (state.type === 'website') {\n        const website = {\n          header: {},\n          footer: {},\n          pages: []\n        };\n        updateState('pageBuilder', 'footerOnly', false);\n        updateState('pageBuilder', 'website', website);\n        onSelectWebsite(false);\n      }\n\n      if (state.type === 'email' || state.type === 'emailOnly') {\n        const email = {\n          header: {},\n          footer: {},\n          body: []\n        };\n        updateState('pageBuilder', 'email', email);\n        onSelectEmail(false);\n      }\n    } else {\n      updateState('pageBuilder', 'isTemplate', data === null || data === void 0 ? void 0 : data.istemplate);\n\n      if (state.type === 'webPage') {\n        const page = JSON.parse(Buffer.from(data.filedata, 'base64').toString('utf-8'));\n        updateState('pageBuilder', 'page', page);\n        onSelectPage(true);\n        ViewList({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.RAFILE,\n          token: authToken,\n          params: {\n            hotelrefno: Number(companyId),\n            query: `filetype:LANG.WEBPAGE,code::${data.code}`\n          }\n        }).then(res => {\n          if (res.status === 200 && res.data && res.data.data.length > 0) {\n            const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n            updateState('pageBuilder', 'langsFile', langFile);\n          }\n        });\n      }\n\n      if (state.type === 'website') {\n        const website = JSON.parse(Buffer.from(data.filedata, 'base64').toString('utf-8'));\n        updateState('pageBuilder', 'website', website);\n        onSelectWebsite(true);\n        ViewList({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.RAFILE,\n          token: authToken,\n          params: {\n            hotelrefno: Number(companyId),\n            query: `filetype:LANG.WEBSITE,code::${data.code}`\n          }\n        }).then(res => {\n          if (res.status === 200 && res.data && res.data.data.length > 0) {\n            const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n            updateState('pageBuilder', 'langsFile', langFile);\n          }\n        });\n      }\n\n      if (state.type === 'email' || state.type === 'emailOnly') {\n        const email = JSON.parse(Buffer.from(data.filedata, 'base64').toString('utf-8'));\n        updateState('pageBuilder', 'email', email);\n        onSelectEmail(true);\n        ViewList({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.RAFILE,\n          token: authToken,\n          params: {\n            hotelrefno: Number(companyId),\n            query: `filetype:LANG.EMAIL,code:${data.code}`\n          }\n        }).then(res => {\n          if (res.status === 200 && res.data && res.data.data.length > 0) {\n            const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n            updateState('pageBuilder', 'langsFile', langFile);\n          }\n        });\n      }\n\n      updateState('pageBuilder', 'code', data.code);\n      setDescription(data.description);\n      setSelectedIndex(index);\n    }\n  };\n\n  const handleDeletePage = gid => {\n    setIsDeleting(true);\n    Delete({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RAFILE,\n      token: authToken,\n      gid: gid,\n      params: {\n        hotelrefno: Number(companyId)\n      }\n    }).then(res => {\n      setIsDeleting(false);\n\n      if (res.status === 200) {\n        toast.success(DELETE_SUCCESS, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n        setIsLoaded(false);\n        let fileType = '';\n\n        if (state.type === 'website') {\n          fileType = 'WEBSITE';\n        }\n\n        if (state.type === 'webPage') {\n          fileType = 'WEBPAGE';\n        }\n\n        if (state.type === 'email') {\n          fileType = 'PB-EMAIL';\n        } //getting web page from rafile\n\n\n        ViewList({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.RAFILE,\n          token: authToken,\n          params: {\n            hotelrefno: Number(companyId),\n            query: `filetype:${fileType}`\n          }\n        }).then(res1 => {\n          var _res1$data;\n\n          setIsLoaded(true);\n\n          if (res1.status === 200 && res1 !== null && res1 !== void 0 && (_res1$data = res1.data) !== null && _res1$data !== void 0 && _res1$data.data) {\n            if (state.type === 'website') {\n              const website = {\n                header: {},\n                footer: {},\n                pages: []\n              };\n              updateState('pageBuilder', 'website', website);\n              onSelectWebsite(false);\n            }\n\n            if (state.type === 'webPage') {\n              const webPage = {\n                id: '',\n                sections: []\n              };\n              updateState('pageBuilder', 'page', webPage);\n              onSelectPage(false);\n            }\n\n            if (state.type === 'email') {\n              const email = {\n                header: {},\n                footer: {},\n                body: []\n              };\n              updateState('pageBuilder', 'email', email);\n            }\n\n            setData(res1.data.data);\n            setSelectedIndex(null);\n            updateState('pageBuilder', 'code', '');\n            setDescription('');\n          } else {\n            const retErr = isErrorMsg(res1);\n            toast.error(retErr.errorMsg, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        });\n      } else {\n        const retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n  };\n\n  const handleDelete = (type, isDelete) => {\n    if (isDelete) {\n      handleDeletePage(deletedGID);\n    }\n\n    setAlert(false);\n    setAlertDialogType('');\n  }; // if (!isLoaded) {\n  //     return <LoadingSpinner style={{color: COLORS.secondary}} />\n  // }\n\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 6,\n    className: clsx(cls.pageRoot, {\n      [cls.disableEvent]: isDeleting\n    }),\n    style: {\n      height: '60vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }\n  }, !isLoaded ? __jsx(LoadingSpinner, {\n    style: {\n      color: COLORS.secondary\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 33\n    }\n  }) : __jsx(React.Fragment, null, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 29\n    }\n  }, __jsx(Paper, {\n    className: cls.pageBlock,\n    style: {\n      height: '50vh',\n      overflow: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: cls.pagePaperUl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 37\n    }\n  }, data.length > 0 && data.map((d, index) => {\n    var _router$query2;\n\n    return __jsx(\"li\", {\n      key: index,\n      style: {\n        color: index === selectedIndex ? '#ffffff' : COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary,\n        backgroundColor: index === selectedIndex ? COLORS === null || COLORS === void 0 ? void 0 : COLORS.primary : '#ffffff'\n      },\n      onMouseEnter: () => {\n        setHoverIndex(index);\n        setDeleteIconShow(true);\n      },\n      onMouseLeave: () => {\n        setHoverIndex(null);\n        setDeleteIconShow(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 53\n      }\n    }, __jsx(Grid, {\n      container: true,\n      justify: 'flex-start',\n      className: cls.pagePaperLi,\n      onClick: () => handleSelect(d, index),\n      alignItems: 'center',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 57\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 61\n      }\n    }, d.istemplate ? __jsx(FontAwesomeIcon, {\n      style: {\n        color: index === selectedIndex ? '#ffffff' : COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n      },\n      icon: faTextHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 73\n      }\n    }) : __jsx(React.Fragment, null, state.type === 'website' && __jsx(WebIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 81\n      }\n    }), state.type === 'email' && __jsx(EmailIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 107\n      }\n    }), state.type === 'webPage' && __jsx(FontAwesomeIcon, {\n      icon: faWeebly,\n      style: {\n        color: index === selectedIndex ? '#ffffff' : COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 81\n      }\n    }))), __jsx(Grid, {\n      item: true,\n      xs: 9,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 61\n      }\n    }, __jsx(\"span\", {\n      style: {\n        color: index === selectedIndex ? '#ffffff' : COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 65\n      }\n    }, d.code)), __jsx(Grid, {\n      item: true,\n      xs: 1,\n      style: {\n        margin: -10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 61\n      }\n    }, isDeleteIconShow && index === hoverIndex ? __jsx(IconButton, {\n      style: {\n        color: index === selectedIndex ? '#ffffff' : COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n      },\n      onClick: () => {\n        setAlert(true);\n        setDeletedGID(d.gid);\n\n        if (state.type === 'webPage') {\n          setAlertDialogType('webPage');\n        }\n\n        if (state.type === 'website') {\n          setAlertDialogType('website');\n        }\n\n        if (state.type === 'email') {\n          setAlertDialogType('email');\n        }\n      },\n      className: router !== null && router !== void 0 && (_router$query2 = router.query) !== null && _router$query2 !== void 0 && _router$query2.emailOnly ? cls.disableEvent : d.hotelrefno === -1 && (!state.isSuperHotel || !state.isSuperUser) ? cls.disableEvent : '',\n      color: \"default\",\n      \"aria-label\": \"delete template\",\n      component: \"span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 73\n      }\n    }, __jsx(RemoveCircleIcon, {\n      style: {\n        color: index === selectedIndex ? '#ffffff' : COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 77\n      }\n    })) : __jsx(React.Fragment, null))));\n  }))), __jsx(Paper, {\n    className: cls.pageBlock,\n    style: {\n      minHeight: '5vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 37\n    }\n  }, state.type === 'website' && url && __jsx(\"div\", {\n    style: {\n      margin: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 45\n    }\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    href: url,\n    style: {\n      marginLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 49\n    }\n  }, \" \", url, \" \")), description && __jsx(\"div\", {\n    style: {\n      margin: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 60\n    }\n  }, __jsx(\"span\", {\n    style: {\n      color: COLORS.primary,\n      marginLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 49\n    }\n  }, description)), state.type === 'website' && !url && __jsx(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 81\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 29\n    }\n  }, __jsx(Paper, {\n    className: cls.pageBlock,\n    style: {\n      height: '55vh',\n      overflow: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    style: {\n      pointerEvents: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 37\n    }\n  }, state.type === 'webPage' && state.page.sections.length > 0 && __jsx(RenderWebPage, {\n    sections: state.page.sections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 49\n    }\n  }), state.type === 'website' && Object.keys(state.website).length > 0 && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 45\n    }\n  }, Object.keys(state.website.header).length > 0 && __jsx(Header, {\n    headerType: state.website.header.tpl,\n    headerItems: state.website.header.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 53\n    }\n  }), state.website.pages.length > 0 && __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 87\n    }\n  }, __jsx(Page, {\n    gid: state.website.pages.length > 0 ? state.website.pages[0].gid : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 57\n    }\n  })), Object.keys(state.website.footer).length > 0 && __jsx(Footer, {\n    footerType: state.website.footer.type,\n    footerItems: state.website.footer.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 53\n    }\n  })), ((state === null || state === void 0 ? void 0 : state.type) === 'email' || (state === null || state === void 0 ? void 0 : state.type) === 'emailOnly') && (state === null || state === void 0 ? void 0 : state.email) && __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 45\n    }\n  }, __jsx(Typography, {\n    component: 'div',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 49\n    }\n  }, ((_state$email = state.email) === null || _state$email === void 0 ? void 0 : (_state$email$header = _state$email.header) === null || _state$email$header === void 0 ? void 0 : _state$email$header.tpl) && (state === null || state === void 0 ? void 0 : (_state$email2 = state.email) === null || _state$email2 === void 0 ? void 0 : (_state$email2$header = _state$email2.header) === null || _state$email2$header === void 0 ? void 0 : (_state$email2$header$ = _state$email2$header.items) === null || _state$email2$header$ === void 0 ? void 0 : _state$email2$header$.length) > 0 && __jsx(EmailHeader, {\n    tpl: state.email.header.tpl,\n    items: state.email.header.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 57\n    }\n  })), __jsx(Typography, {\n    component: 'div',\n    style: {\n      marginTop: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 49\n    }\n  }, ((_state$email3 = state.email) === null || _state$email3 === void 0 ? void 0 : (_state$email3$body = _state$email3.body) === null || _state$email3$body === void 0 ? void 0 : _state$email3$body.length) > 0 && state.email.body.map((body, index) => {\n    var _body$items;\n\n    return __jsx(Grid, {\n      key: index,\n      container: true,\n      spacing: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 65\n      }\n    }, (body === null || body === void 0 ? void 0 : (_body$items = body.items) === null || _body$items === void 0 ? void 0 : _body$items.length) > 0 && body.items.map((item, i) => {\n      var _state$assets, _state$assets$colors, _state$assets$colors$;\n\n      return __jsx(Grid, {\n        item: true,\n        style: {\n          width: item.width + '%'\n        },\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 81\n        }\n      }, (item === null || item === void 0 ? void 0 : item.type) === 'image' && __jsx(Image, {\n        imageComponent: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 89\n        }\n      }), (item === null || item === void 0 ? void 0 : item.type) === 'paragraph' && __jsx(\"div\", {\n        style: {\n          backgroundColor: item !== null && item !== void 0 && item.useBgColor ? state === null || state === void 0 ? void 0 : (_state$assets = state.assets) === null || _state$assets === void 0 ? void 0 : (_state$assets$colors = _state$assets.colors) === null || _state$assets$colors === void 0 ? void 0 : (_state$assets$colors$ = _state$assets$colors.message) === null || _state$assets$colors$ === void 0 ? void 0 : _state$assets$colors$.main : 'white',\n          height: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 89\n        }\n      }, __jsx(Paragraph, {\n        paragraph: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 93\n        }\n      })));\n    }));\n  })), __jsx(Typography, {\n    component: 'div',\n    style: {\n      marginTop: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 49\n    }\n  }, Object.keys(state.email.footer).length > 0 && __jsx(EmailFooter, {\n    items: state.email.footer.items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 57\n    }\n  })))))))), isAlert && __jsx(AlertDialog, {\n    handleDelete: handleDelete,\n    alertDialogType: alertDialogType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 28\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n  setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/home/Home.js"],"names":["React","useState","useEffect","useContext","Container","Grid","Paper","makeStyles","WebIcon","Typography","RemoveCircleIcon","EmailIcon","IconButton","useRouter","connect","setToState","updateState","Delete","ViewList","clsx","toast","Image","Paragraph","EmailHeader","EmailFooter","WebCmsGlobal","COLORS","DELETE_SUCCESS","Header","Page","Footer","LoadingSpinner","isErrorMsg","OREST_ENDPOINT","AlertDialog","RenderWebPage","FontAwesomeIcon","faWeebly","faTextHeight","useStyles","pageRoot","flexGrow","pageBlock","border","secondary","pagePaperUl","listStyleType","minHeight","pagePaperLi","cursor","color","display","justifyContent","alignItems","disableEvent","pointerEvents","opacity","Home","props","state","onSelectPage","onSelectWebsite","onSelectEmail","cls","router","companyId","query","companyID","description","setDescription","selectedIndex","setSelectedIndex","url","setUrl","GENERAL_SETTINGS","token","isLoaded","setIsLoaded","data","setData","isDeleting","setIsDeleting","isAlert","setAlert","alertDialogType","setAlertDialogType","deletedGID","setDeletedGID","isDeleteIconShow","setDeleteIconShow","hoverIndex","setHoverIndex","authToken","fileType","type","apiUrl","OREST_URL","endpoint","RAFILE","params","hotelrefno","Number","then","res","status","window","location","port","protocol","hostname","defaultLang","defaultLangId","pageStep","id","sections","header","footer","pages","body","handleSelect","index","website","email","istemplate","page","JSON","parse","Buffer","from","filedata","toString","code","length","langFile","handleDeletePage","gid","success","position","POSITION","TOP_RIGHT","res1","webPage","retErr","error","errorMsg","handleDelete","isDelete","height","overflow","map","d","backgroundColor","primary","margin","emailOnly","isSuperHotel","isSuperUser","marginLeft","Object","keys","tpl","items","marginTop","item","i","width","useBgColor","assets","colors","message","main","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName","value"],"mappings":"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","sourcesContent":["//react import\nimport React, {useState, useEffect, useContext} from 'react';\n//material imports\nimport Container from '@material-ui/core/Container';\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from '@material-ui/core/Paper'\nimport {makeStyles} from '@material-ui/core';\nimport WebIcon from '@material-ui/icons/Web';\nimport Typography from \"@material-ui/core/Typography\";\nimport RemoveCircleIcon from \"@material-ui/icons/RemoveCircle\";\nimport EmailIcon from '@material-ui/icons/Email'\nimport IconButton from \"@material-ui/core/IconButton\";\n//router import\nimport {useRouter} from \"next/router\";\n//redux imports\nimport {connect} from \"react-redux\";\nimport {setToState, updateState} from \"../../../../../state/actions\";\n\nimport {Delete, ViewList} from \"@webcms/orest\";\n\nimport clsx from 'clsx'\n\nimport {toast} from \"react-toastify\";\n//custom imports\nimport Image from \"../../components/page/sections/image/Image\";\nimport Paragraph from \"../../components/page/sections/paragraph/Paragraph\";\nimport EmailHeader from \"../../components/email/header/EmailHeader\";\nimport EmailFooter from \"../../components/email/footer/EmailFooter\";\nimport WebCmsGlobal from \"components/webcms-global\";\nimport {COLORS, DELETE_SUCCESS} from \"../../constants\";\nimport Header from \"../../components/website/header/Header\";\nimport Page from \"../../components/website/pages/Page\";\nimport Footer from \"../../components/website/footer/Footer\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nimport {isErrorMsg, OREST_ENDPOINT} from \"model/orest/constants\";\nimport {AlertDialog} from \"../../components/alert\";\nimport RenderWebPage from '../RenderWebPage';\n//font awsome imports\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faWeebly} from '@fortawesome/free-brands-svg-icons'\nimport {faTextHeight} from '@fortawesome/free-solid-svg-icons'\n\nconst useStyles = makeStyles(() => ({\n    pageRoot: {\n        flexGrow: 1\n    },\n    pageBlock: {\n        border: `2px solid ${COLORS?.secondary}`,\n    },\n    pagePaperUl: {\n        listStyleType: 'none',\n        minHeight: 50,\n    },\n    pagePaperLi: {\n        cursor: 'pointer',\n        color: COLORS?.secondary,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    disableEvent: {\n        pointerEvents: \"none\",\n        opacity: 0.5\n    },\n}));\n\nconst Home = (props) => {\n\n    const {\n        state,\n        onSelectPage,\n        updateState,\n        onSelectWebsite,\n        onSelectEmail\n    } = props;\n\n    const cls = useStyles();\n    const router = useRouter();\n    const companyId = router?.query?.companyID;\n\n    const [description, setDescription] = useState('');\n    const [selectedIndex, setSelectedIndex] = useState();\n    const [url, setUrl] = useState('');\n    const {GENERAL_SETTINGS, token} = useContext(WebCmsGlobal);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [data, setData] = useState([]);\n    const [isDeleting, setIsDeleting] = useState(false);\n    const [isAlert, setAlert] = React.useState(false);\n    const [alertDialogType, setAlertDialogType] = useState('');\n    const [deletedGID, setDeletedGID] = useState('');\n    const [isDeleteIconShow, setDeleteIconShow] = useState(false);\n    const [hoverIndex, setHoverIndex] = useState(null);\n    const authToken = token || router.query.authToken;\n\n    useEffect(() => {\n        let fileType;\n        setIsLoaded(false);\n        switch (state.type) {\n            case 'webPage':\n                fileType = 'WEBPAGE';\n                break;\n            case 'website':\n                fileType = 'WEBSITE';\n                break;\n            case 'email':\n                fileType = 'PB-EMAIL';\n                break;\n            case 'emailOnly':\n                fileType = 'PB-EMAIL';\n                break;\n            default:\n                fileType = '';\n        }\n        if (state.type === 'webPage' || state.type === 'website' ||\n            state.type === 'email' || state.type === 'emailOnly') {\n            //getting data from rafile\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token: authToken,\n                params: {\n                    hotelrefno: Number(companyId),\n                    query: `filetype::${fileType},${(state?.type === 'emailOnly') ? 'istemplate::true' : ''}`,\n                }\n            }).then(res => {\n                setIsLoaded(true);\n                if (res.status === 200 && res.data && res.data.data) {\n                    setData(res.data.data);\n                }\n            })\n        } else {\n            setIsLoaded(true);\n            setData([]);\n        }\n\n    }, [state.type]);\n\n    useEffect(() => { //setting url\n        if (window && window.location && window.location.port) {\n            setUrl(`${window.location.protocol}//${window.location.hostname}:${window.location.port}`);\n        } else {\n            setUrl(`${window.location.protocol}//${window.location.hostname}`);\n        }\n        updateState('pageBuilder', 'langCode', state.defaultLang);\n        updateState('pageBuilder', 'langId', state.defaultLangId);\n        updateState('pageBuilder', 'isTemplate', false);\n    }, []);\n\n    useEffect(() => {\n        if (state.pageStep === 0) {\n            updateState('pageBuilder', 'code', '');\n            if (state.type === 'webPage') {\n                updateState('pageBuilder', 'page', {id: '', sections: []});\n            }\n            if (state.type === 'website') {\n                updateState('pageBuilder', 'website', {\n                    header: {},\n                    footer: {},\n                    pages: []\n                });\n            }\n            if (state.type === 'email' || state.type === 'emailOnly') {\n                updateState('pageBuilder', 'email', {\n                    header: {},\n                    footer: {},\n                    body: []\n                });\n            }\n        }\n    }, [state.pageStep]);\n\n    const handleSelect = (data, index) => {\n        if (selectedIndex === index) {\n            updateState('pageBuilder', 'langsFile', {});\n            updateState('pageBuilder', 'isTemplate', false);\n            updateState('pageBuilder', 'code', '');\n            setSelectedIndex(null);\n            setDescription('');\n            if (state.type === 'webPage') {\n                updateState('pageBuilder', 'page', {\n                    id: '',\n                    sections: []\n                });\n                onSelectPage(false);\n            }\n            if (state.type === 'website') {\n                const website = {\n                    header: {},\n                    footer: {},\n                    pages: [],\n                }\n                updateState('pageBuilder', 'footerOnly', false);\n                updateState('pageBuilder', 'website', website);\n                onSelectWebsite(false);\n            }\n            if (state.type === 'email' || state.type === 'emailOnly') {\n                const email = {\n                    header: {},\n                    footer: {},\n                    body: []\n                }\n                updateState('pageBuilder', 'email', email);\n                onSelectEmail(false);\n            }\n        } else {\n            updateState('pageBuilder', 'isTemplate', data?.istemplate);\n            if (state.type === 'webPage') {\n                const page = JSON.parse(Buffer.from(data.filedata, 'base64').toString('utf-8'));\n                updateState('pageBuilder', 'page', page);\n                onSelectPage(true);\n                ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    params: {\n                        hotelrefno: Number(companyId),\n                        query: `filetype:LANG.WEBPAGE,code::${data.code}`,\n                    }\n                }).then(res => {\n                    if (res.status === 200 && res.data && res.data.data.length > 0) {\n                        const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                        updateState('pageBuilder', 'langsFile', langFile);\n                    }\n                })\n            }\n            if (state.type === 'website') {\n                const website = JSON.parse(Buffer.from(data.filedata, 'base64').toString('utf-8'));\n                updateState('pageBuilder', 'website', website);\n                onSelectWebsite(true);\n                ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    params: {\n                        hotelrefno: Number(companyId),\n                        query: `filetype:LANG.WEBSITE,code::${data.code}`,\n                    }\n                }).then(res => {\n                    if (res.status === 200 && res.data && res.data.data.length > 0) {\n                        const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                        updateState('pageBuilder', 'langsFile', langFile);\n                    }\n                })\n            }\n            if (state.type === 'email' || state.type === 'emailOnly') {\n                const email = JSON.parse(Buffer.from(data.filedata, 'base64').toString('utf-8'));\n                updateState('pageBuilder', 'email', email);\n                onSelectEmail(true);\n                ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    params: {\n                        hotelrefno: Number(companyId),\n                        query: `filetype:LANG.EMAIL,code:${data.code}`,\n                    }\n                }).then(res => {\n                    if (res.status === 200 && res.data && res.data.data.length > 0) {\n                        const langFile = JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8'));\n                        updateState('pageBuilder', 'langsFile', langFile);\n                    }\n                })\n            }\n            updateState('pageBuilder', 'code', data.code);\n            setDescription(data.description);\n            setSelectedIndex(index);\n        }\n    }\n\n    const handleDeletePage = (gid) => {\n        setIsDeleting(true);\n        Delete({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            gid: gid,\n            params: {\n                hotelrefno: Number(companyId)\n            }\n        }).then(res => {\n            setIsDeleting(false);\n            if (res.status === 200) {\n                toast.success(DELETE_SUCCESS, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n                setIsLoaded(false);\n                let fileType = '';\n                if (state.type === 'website') {\n                    fileType = 'WEBSITE';\n                }\n                if (state.type === 'webPage') {\n                    fileType = 'WEBPAGE';\n                }\n                if (state.type === 'email') {\n                    fileType = 'PB-EMAIL';\n                }\n                //getting web page from rafile\n                ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.RAFILE,\n                    token: authToken,\n                    params: {\n                        hotelrefno: Number(companyId),\n                        query: `filetype:${fileType}`,\n                    }\n                }).then(res1 => {\n                    setIsLoaded(true);\n                    if (res1.status === 200 && res1?.data?.data) {\n                        if (state.type === 'website') {\n                            const website = {\n                                header: {},\n                                footer: {},\n                                pages: []\n                            }\n                            updateState('pageBuilder', 'website', website);\n                            onSelectWebsite(false);\n                        }\n                        if (state.type === 'webPage') {\n                            const webPage = {\n                                id: '',\n                                sections: []\n                            }\n                            updateState('pageBuilder', 'page', webPage);\n                            onSelectPage(false);\n                        }\n                        if (state.type === 'email') {\n                            const email = {\n                                header: {},\n                                footer: {},\n                                body: []\n                            }\n                            updateState('pageBuilder', 'email', email);\n                        }\n                        setData(res1.data.data);\n                        setSelectedIndex(null);\n                        updateState('pageBuilder', 'code', '');\n                        setDescription('');\n                    } else {\n                        const retErr = isErrorMsg(res1);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n            } else {\n                const retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        })\n    }\n\n    const handleDelete = (type, isDelete) => {\n        if (isDelete) {\n            handleDeletePage(deletedGID);\n        }\n        setAlert(false);\n        setAlertDialogType('');\n    }\n\n    // if (!isLoaded) {\n    //     return <LoadingSpinner style={{color: COLORS.secondary}} />\n    // }\n\n    return (\n        <Container>\n            <Grid container spacing={6} className={clsx(cls.pageRoot, {\n                [cls.disableEvent]: isDeleting\n            })} style={{height: '60vh'}}>\n                {\n                    !isLoaded ? <LoadingSpinner style={{color: COLORS.secondary}}/> :\n                        <>\n                            <Grid item xs={6}>\n                                <Paper className={cls.pageBlock} style={{\n                                    height: '50vh',\n                                    overflow: 'auto',\n                                }}>\n                                    <div className={cls.pagePaperUl}>\n                                        {\n                                            data.length > 0 && data.map((d, index) => {\n                                                return (\n                                                    <li key={index} style={{\n                                                        color: (index === selectedIndex) ? '#ffffff' : COLORS?.secondary,\n                                                        backgroundColor: (index === selectedIndex) ? COLORS?.primary : '#ffffff',\n                                                    }}\n                                                        onMouseEnter={() => {\n                                                            setHoverIndex(index);\n                                                            setDeleteIconShow(true);\n                                                        }}\n                                                        onMouseLeave={() => {\n                                                            setHoverIndex(null);\n                                                            setDeleteIconShow(false);\n                                                        }}\n                                                    >\n                                                        <Grid\n                                                            container\n                                                            justify={'flex-start'}\n                                                            className={cls.pagePaperLi}\n                                                            onClick={() => handleSelect(d, index)}\n                                                            alignItems={'center'}\n                                                        >\n                                                            <Grid item xs={1}>\n                                                                {\n                                                                    d.istemplate ?\n                                                                        <FontAwesomeIcon\n                                                                            style={{color: (index === selectedIndex) ? '#ffffff' : COLORS?.secondary,}}\n                                                                            icon={faTextHeight}\n                                                                        /> : <>\n                                                                            {\n                                                                                state.type === 'website' &&\n                                                                                <WebIcon/>\n                                                                            }\n                                                                            {\n                                                                                state.type === 'email' && <EmailIcon/>\n                                                                            }\n                                                                            {\n                                                                                state.type === 'webPage' &&\n                                                                                <FontAwesomeIcon\n                                                                                    icon={faWeebly}\n                                                                                    style={{color: (index === selectedIndex) ? '#ffffff' : COLORS?.secondary,}}\n                                                                                />\n                                                                            }\n                                                                        </>\n                                                                }\n                                                            </Grid>\n                                                            <Grid item xs={9}>\n                                                                <span\n                                                                    style={{color: (index === selectedIndex) ? '#ffffff' : COLORS?.secondary}}>{d.code}</span>\n                                                            </Grid>\n                                                            <Grid item xs={1} style={{margin: -10}}>\n                                                                {\n                                                                    isDeleteIconShow && (index === hoverIndex) ?\n                                                                        <IconButton\n                                                                            style={{color: (index === selectedIndex) ? '#ffffff' : COLORS?.secondary,}}\n                                                                            onClick={() => {\n                                                                                setAlert(true);\n                                                                                setDeletedGID(d.gid);\n                                                                                if (state.type === 'webPage') {\n                                                                                    setAlertDialogType('webPage');\n                                                                                }\n                                                                                if (state.type === 'website') {\n                                                                                    setAlertDialogType('website');\n                                                                                }\n                                                                                if (state.type === 'email') {\n                                                                                    setAlertDialogType('email');\n                                                                                }\n                                                                            }}\n                                                                            className={router?.query?.emailOnly ? cls.disableEvent : (d.hotelrefno === -1 && (!state.isSuperHotel || !state.isSuperUser)) ? cls.disableEvent : ''}\n                                                                            color=\"default\"\n                                                                            aria-label=\"delete template\"\n                                                                            component=\"span\">\n                                                                            <RemoveCircleIcon\n                                                                                style={{color: (index === selectedIndex) ? '#ffffff' : COLORS?.secondary}}/>\n                                                                        </IconButton>\n                                                                        : <></>\n                                                                }\n                                                            </Grid>\n                                                        </Grid>\n                                                    </li>\n                                                )\n                                            })\n                                        }\n                                    </div>\n                                </Paper>\n                                {\n                                    <Paper className={cls.pageBlock} style={{minHeight: '5vh'}}>\n                                        {\n                                            state.type === 'website' && url &&\n                                            <div style={{margin: 8}}>\n                                                <a target='_blank'\n                                                   href={url}\n                                                   style={{marginLeft: 8,}}\n                                                > {url} </a>\n                                            </div>\n                                        }\n                                        {\n                                            description && <div style={{margin: 8}}>\n                                                <span\n                                                    style={{color: COLORS.primary, marginLeft: 8}}>{description}</span>\n                                            </div>\n                                        }\n\n\n                                        {\n                                            state.type === 'website' && !url && <LoadingSpinner/>\n                                        }\n                                    </Paper>\n                                }\n                            </Grid>\n                            <Grid item xs={6}>\n                                <Paper className={cls.pageBlock} style={{\n                                    height: '55vh',\n                                    overflow: 'auto',\n                                }}>\n                                    <div style={{pointerEvents: 'none'}}>\n                                        {\n                                            state.type === 'webPage' && state.page.sections.length > 0 && (\n                                                <RenderWebPage sections={state.page.sections}/>\n                                            )\n                                        }\n                                        {\n                                            state.type === 'website' && Object.keys(state.website).length > 0 &&\n                                            <React.Fragment>\n                                                {\n                                                    Object.keys(state.website.header).length > 0 &&\n                                                    <Header\n                                                        headerType={state.website.header.tpl}\n                                                        headerItems={state.website.header.items}\n                                                    />\n                                                }\n                                                {\n                                                    state.website.pages.length > 0 && <Container>\n                                                        <Page\n                                                            gid={state.website.pages.length > 0 ? state.website.pages[0].gid : ''}/>\n                                                    </Container>\n                                                }\n                                                {\n                                                    Object.keys(state.website.footer).length > 0 &&\n                                                    <Footer\n                                                        footerType={state.website.footer.type}\n                                                        footerItems={state.website.footer.items}\n                                                    />\n                                                }\n                                            </React.Fragment>\n                                        }\n                                        {\n                                            (state?.type === 'email' || state?.type === 'emailOnly') &&\n                                            state?.email &&\n                                            <React.Fragment>\n                                                <Typography component={'div'}>\n                                                    {\n                                                        state.email?.header?.tpl && state?.email?.header?.items?.length > 0 &&\n                                                        <EmailHeader\n                                                            tpl={state.email.header.tpl}\n                                                            items={state.email.header.items}\n                                                        />\n                                                    }\n                                                </Typography>\n                                                <Typography component={'div'} style={{marginTop: 8}}>\n                                                    {\n                                                        state.email?.body?.length > 0 && state.email.body.map((body, index) => {\n                                                            return (\n                                                                <Grid key={index} container spacing={3}>\n                                                                    {\n                                                                        body?.items?.length > 0 && body.items.map((item, i) => {\n                                                                            return (\n                                                                                <Grid\n                                                                                    item\n                                                                                    style={{width: item.width + '%'}}\n                                                                                    key={i}\n                                                                                >\n                                                                                    {\n                                                                                        item?.type === 'image' &&\n                                                                                        <Image\n                                                                                            imageComponent={item}\n                                                                                        />\n                                                                                    }\n                                                                                    {\n                                                                                        item?.type === 'paragraph' &&\n                                                                                        <div\n                                                                                            style={{\n                                                                                                backgroundColor: item?.useBgColor ? state?.assets?.colors?.message?.main : 'white',\n                                                                                                height: '100%'\n                                                                                            }}\n                                                                                        >\n                                                                                            <Paragraph\n                                                                                                paragraph={item}/>\n                                                                                        </div>\n                                                                                    }\n                                                                                </Grid>\n                                                                            )\n                                                                        })\n                                                                    }\n                                                                </Grid>\n                                                            )\n                                                        })\n                                                    }\n                                                </Typography>\n                                                <Typography component={'div'} style={{marginTop: 8}}>\n                                                    {\n                                                        Object.keys(state.email.footer).length > 0 &&\n                                                        <EmailFooter\n                                                            items={state.email.footer.items}\n                                                        />\n                                                    }\n                                                </Typography>\n                                            </React.Fragment>\n                                        }\n                                    </div>\n                                </Paper>\n                            </Grid>\n                        </>\n                }\n            </Grid>\n            {\n                isAlert && <AlertDialog\n                    handleDelete={handleDelete}\n                    alertDialogType={alertDialogType}\n                />\n            }\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        state: state.formReducer.pageBuilder\n    }\n};\n\nconst mapDispatchToProps = dispatch => ({\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Home);\n"]},"metadata":{},"sourceType":"module"}