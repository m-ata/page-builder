{"ast":null,"code":"import _toConsumableArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/components/page/sections/slider/EditSlider.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//react imports\nimport React, { useState, useEffect, useContext } from 'react'; //material ui imports\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle';\nimport { FormControlLabel, MenuItem, Radio, RadioGroup } from '@material-ui/core';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Divider from '@material-ui/core/Divider';\nimport Switch from '@material-ui/core/Switch';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container'; //dropzone related imports\n\nimport 'regenerator-runtime/runtime';\nimport { DropzoneDialog } from 'material-ui-dropzone';\nimport { useRouter } from 'next/router'; //custom imports\n\nimport WebCmsGlobal from '../../../../../../webcms-global';\nimport { Delete, Insert, Patch, UseOrest, ViewList } from '@webcms/orest';\nimport { COLORS, DELETE_SUCCESS, PERCENTAGE_VALUES, SAVED_SUCCESS, UPLOAD_SUCCESS } from '../../../../constants';\nimport LoadingSpinner from '../../../../../../LoadingSpinner';\nimport { FIELDTYPE, isErrorMsg, OREST_ENDPOINT, OREST_UPLOAD, REQUEST_METHOD_CONST } from '../../../../../../../model/orest/constants';\nimport { connect } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport validator from 'validator';\nimport axios from 'axios';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport InputColor from 'react-input-color';\nimport { PercentageSlider } from '../../../../../../../model/slider';\nimport { getSliderImages, patchListSliderImage } from '../../../../helpers/slider';\nimport TextEditor from '../text-editor';\nimport BorderColorSharpIcon from '@material-ui/icons/BorderColorSharp';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    submit: {\n      marginRight: theme.spacing(3),\n      marginTop: theme.spacing(1),\n      borderRadius: 20,\n      \"float\": 'right'\n    },\n    paperBlock: {\n      height: 350,\n      border: \"2px solid \".concat(COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary),\n      overflow: 'auto'\n    },\n    disableEvent: {\n      pointerEvents: 'none',\n      opacity: 0.5\n    },\n    uploadButton: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n      borderRadius: 20,\n      \"float\": 'right'\n    },\n    card: {\n      height: 200,\n      width: 320,\n      margin: theme.spacing(1),\n      cursor: 'pointer'\n    },\n    alignText: {\n      textAlign: 'right',\n      color: 'red'\n    },\n    text: {\n      marginTop: 16,\n      fontWeight: 'bold',\n      fontSize: 15\n    }\n  };\n});\n\nvar EditSlider = function EditSlider(props) {\n  _s();\n\n  var _state$assets, _state$assets$meta, _router$query, _router$query2, _router$query3, _router$query4, _router$query5;\n\n  var sliderComponent = props.sliderComponent,\n      handleCmponent = props.handleCmponent,\n      state = props.state,\n      handleApplyDisable = props.handleApplyDisable,\n      handleSliderValues = props.handleSliderValues,\n      otherLangSlider = props.otherLangSlider;\n\n  var _useState = useState([]),\n      sliderImages = _useState[0],\n      setSliderImages = _useState[1];\n\n  var _useState2 = useState(''),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      description = _useState3[0],\n      setDescription = _useState3[1];\n\n  var _useState4 = useState(false),\n      isCta = _useState4[0],\n      setIsCta = _useState4[1];\n\n  var _useState5 = useState(''),\n      ctaTitle = _useState5[0],\n      setCtaTitle = _useState5[1];\n\n  var _useState6 = useState(''),\n      ctaLink = _useState6[0],\n      setCtaLink = _useState6[1];\n\n  var _useState7 = useState(''),\n      cta = _useState7[0],\n      setCta = _useState7[1];\n\n  var _useState8 = useState(false),\n      isLoaded = _useState8[0],\n      setIsLoaded = _useState8[1];\n\n  var _useState9 = useState(false),\n      isSaving = _useState9[0],\n      setIsSaving = _useState9[1];\n\n  var _useState10 = useState(false),\n      isItemDesc = _useState10[0],\n      setItemDesc = _useState10[1];\n\n  var _useState11 = useState(false),\n      isDeleting = _useState11[0],\n      setIsDeleting = _useState11[1];\n\n  var _useState12 = useState(),\n      selectedIndex = _useState12[0],\n      setSelectedIndex = _useState12[1];\n\n  var _useState13 = useState(false),\n      showDeleteBtn = _useState13[0],\n      setShowDeleteBtn = _useState13[1];\n\n  var _useState14 = useState(),\n      hoverIndex = _useState14[0],\n      setHoverIndex = _useState14[1];\n\n  var _useState15 = useState(''),\n      sliderGID = _useState15[0],\n      setSliderGID = _useState15[1];\n\n  var _useState16 = useState(''),\n      sliderID = _useState16[0],\n      setSliderID = _useState16[1];\n\n  var _useState17 = useState(''),\n      imageGID = _useState17[0],\n      setImageGID = _useState17[1];\n\n  var _useState18 = useState(false),\n      isDialogOpen = _useState18[0],\n      setDialogOpen = _useState18[1];\n\n  var _useState19 = useState(1),\n      itemCount = _useState19[0],\n      setItemCount = _useState19[1];\n\n  var _useState20 = useState(''),\n      gappID = _useState20[0],\n      setGappID = _useState20[1];\n\n  var _useState21 = useState([]),\n      otherLangSliderImages = _useState21[0],\n      setOtherLangSliderImages = _useState21[1];\n\n  var _useState22 = useState(sliderComponent),\n      editedSliderComponent = _useState22[0],\n      setEditedSliderComponent = _useState22[1];\n\n  var _useState23 = useState(false),\n      isImageSelected = _useState23[0],\n      setImageSelected = _useState23[1];\n\n  var _useState24 = useState(false),\n      itemDescRequest = _useState24[0],\n      setItemDescRequest = _useState24[1];\n\n  var _useState25 = useState(false),\n      isOptimizeImages = _useState25[0],\n      setOptimizeImages = _useState25[1];\n\n  var _useState26 = useState(state !== null && state !== void 0 && (_state$assets = state.assets) !== null && _state$assets !== void 0 && (_state$assets$meta = _state$assets.meta) !== null && _state$assets$meta !== void 0 && _state$assets$meta.imageQuality ? state.assets.meta.imageQuality * 100 : 50),\n      quality = _useState26[0],\n      setQuality = _useState26[1];\n\n  var _useState27 = useState(null),\n      catId = _useState27[0],\n      setCatId = _useState27[1];\n\n  var _useState28 = useState([]),\n      categories = _useState28[0],\n      setCategories = _useState28[1];\n\n  var _useState29 = useState(false),\n      isActive = _useState29[0],\n      setIsActive = _useState29[1];\n\n  var _useState30 = useState(sliderComponent !== null && sliderComponent !== void 0 && sliderComponent.textColor ? sliderComponent.textColor : '#fff'),\n      textColor = _useState30[0],\n      setTextColor = _useState30[1];\n\n  var _useState31 = useState(sliderComponent !== null && sliderComponent !== void 0 && sliderComponent.buttonColor ? sliderComponent.buttonColor : '#fff'),\n      buttonColor = _useState31[0],\n      setButtonColor = _useState31[1];\n\n  var _useState32 = useState({\n    isTextEditorDialogOpen: false,\n    editorValue: '',\n    dialogType: '',\n    pageData: [],\n    ctaLinkType: ''\n  }),\n      localState = _useState32[0],\n      setLocalState = _useState32[1];\n\n  var dialogType = localState.dialogType,\n      editorValue = localState.editorValue,\n      isTextEditorDialogOpen = localState.isTextEditorDialogOpen,\n      ctaLinkType = localState.ctaLinkType,\n      pageData = localState.pageData;\n  var router = useRouter();\n  var companyId = router.query.companyID;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS,\n      token = _useContext.token;\n\n  var authToken = token || router.query.authToken;\n  var classes = useStyles();\n\n  var openDialog = function openDialog() {\n    //it opens dialog for image upload\n    setDialogOpen(true);\n  };\n\n  var closeDialog = function closeDialog() {\n    ////it closes dialog for image upload\n    setDialogOpen(false);\n  };\n\n  useEffect(function () {\n    if (otherLangSlider && 'sliderImages' in otherLangSlider) {\n      setOtherLangSliderImages(otherLangSlider.sliderImages);\n    }\n  }, [otherLangSlider]);\n  useEffect(function () {\n    if (router.query.sliderOnly) {\n      if (sliderImages.length === 0) {\n        handleApplyDisable(true);\n      } else {\n        handleApplyDisable(false);\n      }\n    } else {\n      if (sliderImages.length > 0) {\n        if (state.langCode === state.defaultLang) {\n          handleCmponent({\n            service: 'hcmitemsld',\n            type: 'slider',\n            gid: editedSliderComponent.gid,\n            width: editedSliderComponent.width,\n            id: editedSliderComponent.id,\n            textColor: textColor,\n            buttonColor: buttonColor\n          });\n        } else {\n          if (!isItemDesc) {\n            handleCmponent({\n              slider: {\n                title: title,\n                description: description,\n                cta: cta\n              }\n            });\n          } else {\n            handleCmponent({\n              sliderImages: otherLangSliderImages\n            });\n          }\n        }\n      }\n    }\n  }, [sliderImages, title, description, cta, otherLangSliderImages, textColor, buttonColor]);\n  useEffect(function () {\n    if (router.query.sliderOnly) {\n      handleSliderValues(title, description, cta, state.slider.gid, textColor, buttonColor);\n    }\n  }, [title, description, cta, textColor, buttonColor]);\n  useEffect(function () {\n    setIsLoaded(false);\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.HCMCAT,\n      token: authToken,\n      params: {\n        hotelrefno: Number(companyId)\n      }\n    }).then(function (res) {\n      if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n        var _res$data, _res$data$data;\n\n        (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.length) > 0 && setCategories(res.data.data);\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    }); //getting data from rafile\n\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RAFILE,\n      token: authToken,\n      params: {\n        hotelrefno: Number(companyId),\n        query: \"filetype::WEBPAGE,istemplate::false}\"\n      }\n    }).then(function (res) {\n      var _res$data2;\n\n      setIsLoaded(true);\n\n      if (res.status === 200 && res !== null && res !== void 0 && (_res$data2 = res.data) !== null && _res$data2 !== void 0 && _res$data2.data) {\n        setLocalState(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            pageData: res.data.data\n          });\n        });\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n  }, []);\n  useEffect(function () {\n    // get all slider images against gid\n    setIsLoaded(false);\n\n    if (editedSliderComponent !== null && editedSliderComponent !== void 0 && editedSliderComponent.gid) {\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n        token: authToken,\n        params: {\n          query: \"gid:\".concat(editedSliderComponent.gid),\n          hotelrefno: Number(companyId)\n        }\n      }).then(function (r) {\n        if (r.status === 200) {\n          var _r$data, _r$data$data;\n\n          if ((r === null || r === void 0 ? void 0 : (_r$data = r.data) === null || _r$data === void 0 ? void 0 : (_r$data$data = _r$data.data) === null || _r$data$data === void 0 ? void 0 : _r$data$data.length) > 0) {\n            setGappID(r.data.data[0].itemid);\n            setCatId(r.data.data[0].catid);\n            setIsActive(r.data.data[0].isactive);\n\n            if (state.langCode === state.defaultLang || router.query.sliderOnly) {\n              if (r.data.data[0].title || r.data.data[0].description) {\n                setTitle(r.data.data[0].title);\n                setDescription(r.data.data[0].description);\n              }\n\n              if (r.data.data[0].cta) {\n                setIsCta(true);\n                var matchLink = r.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                if (matchLink) {\n                  var _title = r.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchLink[0], '').replace('>', '').replace('</a>', '').trim();\n\n                  setCtaLink(matchLink[0]);\n                  setCtaTitle(_title);\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      ctaLinkType: 'external'\n                    });\n                  });\n                } else {\n                  var _r$data$data$0$cta$re;\n\n                  var ctaGid = (_r$data$data$0$cta$re = r.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _r$data$data$0$cta$re === void 0 ? void 0 : _r$data$data$0$cta$re.split(' ')[0];\n                  var cta_title = r.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n                  setCtaLink(ctaGid);\n                  setCtaTitle(cta_title);\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      ctaLinkType: 'internal'\n                    });\n                  });\n                }\n              }\n            } else {\n              if (otherLangSlider && 'slider' in otherLangSlider) {\n                setTitle(otherLangSlider.slider.title);\n                setDescription(otherLangSlider.slider.description);\n\n                if (otherLangSlider.slider.cta) {\n                  setIsCta(true);\n\n                  var _matchLink = otherLangSlider.slider.cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                  if (_matchLink) {\n                    var _title2 = otherLangSlider.slider.cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_matchLink[0], '').replace('>', '').replace('</a>', '').trim();\n\n                    setCtaLink(_matchLink[0]);\n                    setCtaTitle(_title2);\n                    setLocalState(function (prev) {\n                      return _objectSpread(_objectSpread({}, prev), {}, {\n                        ctaLinkType: 'external'\n                      });\n                    });\n                  } else {\n                    var _otherLangSlider$slid;\n\n                    var _ctaGid = (_otherLangSlider$slid = otherLangSlider.slider.cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _otherLangSlider$slid === void 0 ? void 0 : _otherLangSlider$slid.split(' ')[0];\n\n                    var _cta_title = otherLangSlider.slider.cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n                    setCtaLink(_ctaGid);\n                    setCtaTitle(_cta_title);\n                    setLocalState(function (prev) {\n                      return _objectSpread(_objectSpread({}, prev), {}, {\n                        ctaLinkType: 'internal'\n                      });\n                    });\n                  }\n                }\n              }\n            }\n\n            setSliderGID(r.data.data[0].gid);\n            setSliderID(r.data.data[0].id);\n            ViewList({\n              apiUrl: GENERAL_SETTINGS.OREST_URL,\n              endpoint: OREST_ENDPOINT.HCMITEMIMG,\n              token: authToken,\n              params: {\n                query: \"sliderid:\".concat(r.data.data[0].id),\n                sort: 'orderno',\n                hotelrefno: Number(companyId)\n              }\n            }).then(function (res) {\n              setIsLoaded(true);\n\n              if (res.status === 200) {\n                var updatedImages = [];\n                res.data.data.map( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, index) {\n                    var matchs, _cta_title4, _otherLangSlider$slid2, _ctaGid3, _cta_title5;\n\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            updatedImages.push(data);\n\n                            if (state.langCode === state.defaultLang) {\n                              if (data.cta || data.title || data.description) {\n                                if (index === 0) {\n                                  setItemDesc(true);\n                                  setSelectedIndex(index);\n                                  setImageGID(data.gid);\n                                  ViewList({\n                                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                    endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                                    token: authToken,\n                                    params: {\n                                      query: \"gid:\".concat(data.gid),\n                                      sort: 'orderno',\n                                      hotelrefno: Number(companyId)\n                                    }\n                                  }).then(function (res1) {\n                                    if (res1.status === 200) {\n                                      if (res1.data && res1.data.data && res1.data.data.length > 0) {\n                                        res1.data.data[0].title ? setTitle(res1.data.data[0].title) : setTitle('');\n                                        res1.data.data[0].description ? setDescription(res1.data.data[0].description) : setDescription('');\n                                        res1.data.data[0].cta ? setCta(res1.data.data[0].cta) : setCta('');\n\n                                        if (res1.data.data[0].cta) {\n                                          setIsCta(true);\n                                          setCta(res1.data.data[0].cta);\n                                          var matchs = res1.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                                          if ((matchs === null || matchs === void 0 ? void 0 : matchs.length) > 0) {\n                                            var _cta_title2 = res1.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n\n                                            setCtaLink(matchs[0]);\n                                            setCtaTitle(_cta_title2);\n                                            setLocalState(function (prev) {\n                                              return _objectSpread(_objectSpread({}, prev), {}, {\n                                                ctaLinkType: 'external'\n                                              });\n                                            });\n                                          } else {\n                                            var _res1$data$data$0$cta;\n\n                                            var _ctaGid2 = (_res1$data$data$0$cta = res1.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _res1$data$data$0$cta === void 0 ? void 0 : _res1$data$data$0$cta.split(' ')[0];\n\n                                            var _cta_title3 = res1.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_ctaGid2 + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n                                            setCtaLink(_ctaGid2);\n                                            setCtaTitle(_cta_title3);\n                                            setLocalState(function (prev) {\n                                              return _objectSpread(_objectSpread({}, prev), {}, {\n                                                ctaLinkType: 'internal'\n                                              });\n                                            });\n                                          }\n                                        } else {\n                                          setIsCta(false);\n                                        }\n                                      }\n                                    } else {\n                                      var retErr = isErrorMsg(res1);\n                                      toast.error(retErr.errorMsg, {\n                                        position: toast.POSITION.TOP_RIGHT\n                                      });\n                                    }\n                                  });\n                                }\n                              }\n                            } else {\n                              if (otherLangSlider && otherLangSlider.sliderImages && otherLangSlider.sliderImages.length > 0) {\n                                setSelectedIndex(0);\n                                setItemDesc(true);\n                                setTitle(otherLangSlider.sliderImages[0].title);\n                                setDescription(otherLangSlider.sliderImages[0].description);\n\n                                if (otherLangSlider.sliderImages[0].cta) {\n                                  setIsCta(true);\n                                  setCta(otherLangSlider.sliderImages[0].cta);\n                                  matchs = otherLangSlider.sliderImages[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                                  if ((matchs === null || matchs === void 0 ? void 0 : matchs.length) > 0) {\n                                    _cta_title4 = otherLangSlider.sliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n                                    setCtaLink(matchs[0]);\n                                    setCtaTitle(_cta_title4);\n                                    setLocalState(function (prev) {\n                                      return _objectSpread(_objectSpread({}, prev), {}, {\n                                        ctaLinkType: 'external'\n                                      });\n                                    });\n                                  } else {\n                                    _ctaGid3 = (_otherLangSlider$slid2 = otherLangSlider.sliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _otherLangSlider$slid2 === void 0 ? void 0 : _otherLangSlider$slid2.split(' ')[0];\n                                    _cta_title5 = otherLangSlider.sliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_ctaGid3 + '\"', '').replace('>', '').replace('</a>', '').trim();\n                                    setCtaLink(_ctaGid3);\n                                    setCtaTitle(_cta_title5);\n                                    setLocalState(function (prev) {\n                                      return _objectSpread(_objectSpread({}, prev), {}, {\n                                        ctaLinkType: 'internal'\n                                      });\n                                    });\n                                  }\n                                } else {\n                                  setIsCta(false);\n                                  setCtaTitle('');\n                                  setCtaLink('');\n                                }\n                              }\n                            }\n\n                          case 2:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x, _x2) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n                setSliderImages(updatedImages);\n                setItemCount(updatedImages + 1);\n              } else {\n                console.log(res);\n              }\n            });\n          } else {\n            setIsLoaded(true);\n          }\n        } else {\n          setIsLoaded(true);\n          var retErr = isErrorMsg(r);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    } else {\n      Insert({\n        // insert slider\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n        token: authToken,\n        data: {\n          itemid: state.hcmItemId,\n          hotelrefno: Number(companyId)\n        }\n      }).then(function (res) {\n        if (res.status === 200 && res.data.data) {\n          setIsLoaded(true);\n\n          var updatedSliderComponent = _objectSpread({}, editedSliderComponent);\n\n          updatedSliderComponent.gid = res.data.data.gid;\n          setEditedSliderComponent(updatedSliderComponent);\n        }\n      });\n    }\n  }, [editedSliderComponent]);\n  useEffect(function () {\n    if (ctaTitle && ctaLink) {\n      setCta(\"<a target=\\\"_blank\\\" href=\\\"\".concat(ctaLink, \"\\\" > \").concat(ctaTitle, \" </a>\"));\n    }\n  }, [ctaTitle, ctaLink]);\n\n  var handleUpdate = function handleUpdate() {\n    // update slider/image descriptions\n    if (state.langCode === state.defaultLang) {\n      if (isItemDesc) {\n        if (isImageSelected) {\n          setIsSaving(true);\n          Patch({\n            // update image\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMIMG,\n            token: authToken,\n            gid: imageGID,\n            params: {\n              hotelrefno: Number(companyId)\n            },\n            data: {\n              title: title,\n              description: description,\n              cta: cta\n            }\n          }).then(function (res) {\n            if (res.status === 200) {\n              setIsSaving(false);\n              toast.success(SAVED_SUCCESS, {\n                position: toast.POSITION.TOP_RIGHT\n              });\n            } else {\n              console.log(res);\n            }\n          });\n        } else {\n          handleResetState();\n          toast.warn('Please Select Image', {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      } else {\n        setIsSaving(true);\n        Patch({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMSLD,\n          token: authToken,\n          gid: sliderGID,\n          params: {\n            hotelrefno: Number(companyId)\n          },\n          data: {\n            title: title,\n            description: description,\n            cta: cta\n          }\n        }).then(function (res) {\n          setIsSaving(false);\n\n          if (res.status === 200) {\n            toast.success(SAVED_SUCCESS, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          } else {\n            console.log(res);\n          }\n        });\n      }\n    } else {\n      var updateOtherLangSliderImages = _toConsumableArray(otherLangSliderImages);\n\n      updateOtherLangSliderImages[selectedIndex] = {\n        title: title,\n        description: description,\n        cta: cta\n      };\n      setOtherLangSliderImages(updateOtherLangSliderImages);\n      toast.success(SAVED_SUCCESS, {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    }\n  };\n\n  var handleDeleteImage = function handleDeleteImage(imageGid) {\n    // delete image against gid\n    setIsDeleting(true);\n    Delete({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.HCMITEMIMG,\n      token: authToken,\n      gid: imageGid,\n      params: {\n        hotelrefno: Number(companyId)\n      }\n    }).then( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res) {\n        var sldImages, updatedImages, requestPassed, _iterator, _step, sldImage, updatedSliderImage, retErr;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                setIsDeleting(false);\n\n                if (!(res.status === 200)) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 4;\n                return getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID);\n\n              case 4:\n                sldImages = _context2.sent;\n                sldImages.sort(function (a, b) {\n                  return a.orderno > b.orderno ? 1 : -1;\n                });\n\n                if (sldImages) {\n                  updatedImages = [];\n                  sldImages.map(function (data, index) {\n                    data.orderno = index + 1;\n                    updatedImages.push(data);\n                  });\n                  requestPassed = true;\n                  _iterator = _createForOfIteratorHelper(sldImages);\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      sldImage = _step.value;\n                      updatedSliderImage = patchListSliderImage(GENERAL_SETTINGS.OREST_URL, authToken, companyId, {\n                        orderno: sldImage.orderno\n                      }, {\n                        hotelrefno: Number(companyId)\n                      }, sldImage.gid);\n                      updatedSliderImage ? requestPassed = true : requestPassed = false;\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                  if (requestPassed) {\n                    setSliderImages(updatedImages);\n                    setSelectedIndex(null);\n                    setItemCount(updatedImages.length + 1);\n                    toast.success(DELETE_SUCCESS, {\n                      position: toast.POSITION.TOP_RIGHT\n                    });\n                  } else {\n                    toast.error('Something went wrong while deleting image. Please check network tab.', {\n                      position: toast.POSITION.TOP_RIGHT\n                    });\n                  }\n                } else {\n                  toast.error('Something went wrong while deleting image. Please check network tab.', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                }\n\n                _context2.next = 12;\n                break;\n\n              case 9:\n                retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n                setIsDeleting(false);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n\n  var handleSelectedImage = function handleSelectedImage(index, image) {\n    if (isItemDesc) {\n      setSelectedIndex(index);\n      setImageSelected(true);\n\n      if (state.langCode === state.defaultLang) {\n        setImageGID(image.gid);\n        setItemDescRequest(true);\n        ViewList({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMIMG,\n          token: authToken,\n          params: {\n            query: \"gid:\".concat(image.gid),\n            sort: 'orderno',\n            hotelrefno: Number(companyId)\n          }\n        }).then(function (res) {\n          setItemDescRequest(false);\n\n          if (res.status === 200) {\n            if (res.data && res.data.data && res.data.data.length > 0) {\n              res.data.data[0].title ? setTitle(res.data.data[0].title) : setTitle('');\n              res.data.data[0].description ? setDescription(res.data.data[0].description) : setDescription('');\n              res.data.data[0].cta ? setCta(res.data.data[0].cta) : setCta('');\n\n              if (res.data.data[0].cta) {\n                setIsCta(true);\n                setCta(res.data.data[0].cta);\n                var matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                if ((matchs === null || matchs === void 0 ? void 0 : matchs.length) > 0) {\n                  var cta_title = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n                  setCtaLink(matchs[0]);\n                  setCtaTitle(cta_title);\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      ctaLinkType: 'external'\n                    });\n                  });\n                } else {\n                  var _res$data$data$0$cta$;\n\n                  var ctaGid = (_res$data$data$0$cta$ = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _res$data$data$0$cta$ === void 0 ? void 0 : _res$data$data$0$cta$.split(' ')[0];\n\n                  var _cta_title6 = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n                  setCtaLink(ctaGid);\n                  setCtaTitle(_cta_title6);\n                  setLocalState(function (prev) {\n                    return _objectSpread(_objectSpread({}, prev), {}, {\n                      ctaLinkType: 'internal'\n                    });\n                  });\n                }\n              } else {\n                setIsCta(false);\n                setCtaTitle('');\n                setCtaLink('');\n              }\n            }\n          } else {\n            var retErr = isErrorMsg(res);\n            toast.error(retErr.errorMsg, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        });\n      } else {\n        if (otherLangSliderImages.length > 0) {\n          setTitle(otherLangSliderImages[index].title);\n          setDescription(otherLangSliderImages[index].description);\n\n          if (otherLangSliderImages[index].cta) {\n            setIsCta(true);\n            setCta(otherLangSliderImages[index].cta);\n            var matchs = otherLangSliderImages[index].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n            if (matchs.length > 0) {\n              var cta_title = otherLangSliderImages[index].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n              setCtaLink(matchs[0]);\n              setCtaTitle(cta_title);\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  ctaLinkType: 'external'\n                });\n              });\n            } else {\n              var _otherLangSliderImage;\n\n              var ctaGid = (_otherLangSliderImage = otherLangSliderImages[index - 1].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _otherLangSliderImage === void 0 ? void 0 : _otherLangSliderImage.split(' ')[0];\n\n              var _cta_title7 = otherLangSliderImages[index - 1].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(ctaGid + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n              setCtaLink(ctaGid);\n              setCtaTitle(_cta_title7);\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  ctaLinkType: 'internal'\n                });\n              });\n            }\n          } else {\n            setIsCta(false);\n            setCtaTitle('');\n            setCtaLink('');\n          }\n        } else {\n          var _otherLangSliderImage2, _otherLangSliderImage3, _otherLangSliderImage4;\n\n          setTitle(otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : (_otherLangSliderImage2 = otherLangSliderImages.sliderImages[index - 1]) === null || _otherLangSliderImage2 === void 0 ? void 0 : _otherLangSliderImage2.title);\n          setDescription(otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : (_otherLangSliderImage3 = otherLangSliderImages.sliderImages[index - 1]) === null || _otherLangSliderImage3 === void 0 ? void 0 : _otherLangSliderImage3.description);\n\n          if (otherLangSliderImages !== null && otherLangSliderImages !== void 0 && (_otherLangSliderImage4 = otherLangSliderImages.sliderImages[0]) !== null && _otherLangSliderImage4 !== void 0 && _otherLangSliderImage4.cta) {\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                isCta: true\n              });\n            });\n\n            var _matchs = otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : otherLangSliderImages.sliderImages[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n            if ((_matchs === null || _matchs === void 0 ? void 0 : _matchs.length) > 0) {\n              var _cta_title8 = otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : otherLangSliderImages.sliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_matchs[0], '').replace('>', '').replace('</a>', '').trim();\n\n              setCtaLink(_matchs[0]);\n              setCtaTitle(_cta_title8);\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  ctaLinkType: 'external'\n                });\n              });\n            } else {\n              var _otherLangSliderImage5;\n\n              var _ctaGid4 = otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : (_otherLangSliderImage5 = otherLangSliderImages.sliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace('>', '').replace('</a>', '').replace('\"', '').trim()) === null || _otherLangSliderImage5 === void 0 ? void 0 : _otherLangSliderImage5.split(' ')[0];\n\n              var _cta_title9 = otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : otherLangSliderImages.sliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(_ctaGid4 + '\"', '').replace('>', '').replace('</a>', '').trim();\n\n              setCtaLink(_ctaGid4);\n              setCtaTitle(_cta_title9);\n              setLocalState(function (prev) {\n                return _objectSpread(_objectSpread({}, prev), {}, {\n                  ctaLinkType: 'internal'\n                });\n              });\n            }\n          } else {\n            setLocalState(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, {\n                ctaLink: '',\n                ctaTitle: '',\n                isCta: false\n              });\n            });\n          }\n        }\n      }\n    }\n  };\n\n  var handleResetState = function handleResetState() {\n    setCta('');\n    setCtaTitle('');\n    setCtaLink('');\n    setTitle('');\n    setDescription('');\n    setIsCta(false);\n    setImageSelected(false);\n    setSelectedIndex(null);\n  };\n\n  var handleItemDescription = function handleItemDescription() {\n    setItemDesc(!isItemDesc);\n\n    if (isItemDesc) {\n      setItemDescRequest(true);\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n        token: authToken,\n        params: {\n          query: \"gid:\".concat(sliderGID),\n          sort: 'orderno',\n          hotelrefno: Number(companyId)\n        }\n      }).then(function (res) {\n        var _res$data3, _res$data3$data;\n\n        setItemDescRequest(false);\n\n        if ((res === null || res === void 0 ? void 0 : res.status) === 200 && (res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$data = _res$data3.data) === null || _res$data3$data === void 0 ? void 0 : _res$data3$data.length) > 0) {\n          var _res$data$data$, _res$data$data$2;\n\n          setTitle((_res$data$data$ = res.data.data[0]) === null || _res$data$data$ === void 0 ? void 0 : _res$data$data$.title);\n          setDescription((_res$data$data$2 = res.data.data[0]) === null || _res$data$data$2 === void 0 ? void 0 : _res$data$data$2.description);\n\n          if (res.data.data[0].cta) {\n            setIsCta(true);\n            setCta(res.data.data[0].cta);\n            var matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n            if (matchs.length > 0) {\n              var cta_title = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n              setCtaLink(matchs[0]);\n              setCtaTitle(cta_title);\n            }\n          } else {\n            setIsCta(false);\n            setCtaTitle('');\n            setCtaLink('');\n            setCta('');\n          }\n        }\n      });\n      handleResetState();\n    } else {\n      setSelectedIndex(0);\n      setImageSelected(true);\n\n      if (state.langCode === state.defaultLang) {\n        var _sliderImages$, _sliderImages$2;\n\n        setImageGID((_sliderImages$ = sliderImages[0]) === null || _sliderImages$ === void 0 ? void 0 : _sliderImages$.gid);\n        setItemDescRequest(true);\n        ViewList({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMIMG,\n          token: authToken,\n          params: {\n            query: \"gid:\".concat((_sliderImages$2 = sliderImages[0]) === null || _sliderImages$2 === void 0 ? void 0 : _sliderImages$2.gid),\n            sort: 'orderno',\n            hotelrefno: Number(companyId)\n          }\n        }).then(function (res) {\n          setItemDescRequest(false);\n\n          if (res.status === 200) {\n            if (res.data && res.data.data && res.data.data.length > 0) {\n              res.data.data[0].title ? setTitle(res.data.data[0].title) : setTitle('');\n              res.data.data[0].description ? setDescription(res.data.data[0].description) : setDescription('');\n              res.data.data[0].cta ? setCta(res.data.data[0].cta) : setCta('');\n\n              if (res.data.data[0].cta) {\n                setIsCta(true);\n                setCta(res.data.data[0].cta);\n                var matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n                if (matchs.length > 0) {\n                  var cta_title = res.data.data[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n                  setCtaLink(matchs[0]);\n                  setCtaTitle(cta_title);\n                }\n              } else {\n                setIsCta(false);\n                setCtaTitle('');\n                setCtaLink('');\n              }\n            }\n          } else {\n            var retErr = isErrorMsg(res);\n            toast.error(retErr.errorMsg, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        });\n      } else {\n        if ((otherLangSliderImages === null || otherLangSliderImages === void 0 ? void 0 : otherLangSliderImages.length) > 0) {\n          setTitle(otherLangSliderImages[0].title);\n          setDescription(otherLangSliderImages[0].description);\n\n          if (otherLangSliderImages[0].cta) {\n            setIsCta(true);\n            setCta(otherLangSliderImages[0].cta);\n            var matchs = otherLangSliderImages[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi);\n\n            if (matchs.length > 0) {\n              var cta_title = otherLangSliderImages[0].cta.replace(\"<a target=\\\"_blank\\\" href=\\\"\", '').replace(matchs[0], '').replace('>', '').replace('</a>', '').trim();\n              setCtaLink(matchs[0]);\n              setCtaTitle(cta_title);\n            }\n          } else {\n            setIsCta(false);\n            setCtaTitle('');\n            setCtaLink('');\n          }\n        }\n      }\n    }\n  };\n\n  var saveImage = function saveImage(files) {\n    setIsLoaded(false);\n    var orderNo = itemCount;\n    var requests = files.map(function (file) {\n      return new Promise(function (resolve) {\n        asyncUpload(file, orderNo, resolve);\n        orderNo++;\n      });\n    });\n    Promise.all(requests).then( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var sldImages, updatedImages;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID);\n\n            case 2:\n              sldImages = _context3.sent;\n              setIsLoaded(true);\n\n              if (sldImages) {\n                updatedImages = [];\n                sldImages.map(function (data) {\n                  updatedImages.push(data);\n                });\n                setSliderImages(updatedImages);\n                setItemCount(updatedImages.length + 1);\n                toast.success(UPLOAD_SUCCESS, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n                closeDialog();\n              } else {\n                toast.warn('Something went wrong while saving image. Please check network tab.', {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })));\n  };\n\n  function asyncUpload(file, itemTreated, callback) {\n    if (router.query.sliderOnly) {\n      if (gappID && editedSliderComponent.gid) {\n        setTimeout(function () {\n          ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMSLD,\n            token: authToken,\n            params: {\n              query: \"gid:\".concat(editedSliderComponent.gid),\n              hotelrefno: Number(companyId)\n            }\n          }).then(function (r) {\n            if (r.status === 200) {\n              Insert({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                token: authToken,\n                data: {\n                  itemid: gappID,\n                  sliderid: r.data.data[0].id,\n                  imgtype: FIELDTYPE.IMG,\n                  orderno: itemTreated,\n                  hotelrefno: Number(companyId),\n                  masterid: router.query.masterid,\n                  imgquality: quality / 100,\n                  imgscale: quality / 100\n                }\n              }).then(function (r1) {\n                if (r1.status === 200) {\n                  ImageUpload(GENERAL_SETTINGS.OREST_URL, OREST_ENDPOINT.RAFILE, authToken, r1.data.data.mid, file).then(function (r) {\n                    if (r.status === 200) {\n                      callback();\n                    } else {\n                      callback();\n                    }\n                  });\n                } else {\n                  callback();\n                }\n              });\n            }\n          });\n        }, 100);\n      }\n    } else {\n      if (state.hcmItemId && editedSliderComponent.gid) {\n        setTimeout(function () {\n          ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMSLD,\n            token: authToken,\n            params: {\n              query: \"gid:\".concat(editedSliderComponent.gid),\n              hotelrefno: Number(companyId)\n            }\n          }).then(function (r) {\n            if (r.status === 200) {\n              Insert({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                token: authToken,\n                data: {\n                  itemid: state.hcmItemId,\n                  sliderid: r.data.data[0].id,\n                  imgtype: FIELDTYPE.IMG,\n                  orderno: itemTreated,\n                  hotelrefno: Number(companyId),\n                  imgquality: quality / 100,\n                  imgscale: quality / 100\n                }\n              }).then(function (r1) {\n                if (r1.status === 200) {\n                  ImageUpload(GENERAL_SETTINGS.OREST_URL, OREST_ENDPOINT.RAFILE, authToken, r1.data.data.mid, file).then(function (r) {\n                    if (r.status === 200) {\n                      callback();\n                    } else {\n                      callback();\n                    }\n                  });\n                } else {\n                  callback();\n                }\n              });\n            }\n          });\n        }, 100);\n      }\n    }\n  }\n\n  var ImageUpload = function ImageUpload(apiUrl, endPoint, token, masterID, file) {\n    var url = apiUrl + '/' + endPoint + OREST_UPLOAD;\n    var binaryData = [];\n    binaryData.push(file);\n    var formData = new FormData();\n    formData.append('file', new Blob(binaryData, {\n      type: file.type\n    }), file.name);\n    var options = {\n      url: url,\n      method: 'post',\n      headers: {\n        Authorization: \"Bearer \".concat(token),\n        'Content-Type': 'multipart/form-data'\n      },\n      params: {\n        orsactive: true,\n        masterid: masterID,\n        hotelrefno: companyId,\n        quality: quality / 100,\n        scale: quality / 100\n      },\n      data: formData\n    };\n    return axios(options).then(function (response) {\n      return response;\n    })[\"catch\"](function (error) {\n      return error.response || {\n        status: 0\n      };\n    });\n  };\n\n  var handleUpdateOrderNo = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(gid, orderNo, orderType) {\n      var tmpSliderImages, tmp, _tmp, requestPassed, _iterator2, _step2, sldImage, updatedSliderImage;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              // update order no of slider images\n              if (orderNo <= 0 || orderNo > sliderImages.length) {\n                setSelectedIndex(null);\n                setImageSelected(false);\n              } else {\n                tmpSliderImages = _toConsumableArray(sliderImages);\n\n                if (orderType === 'increment') {\n                  tmp = tmpSliderImages[orderNo - 1];\n                  tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo - 2];\n                  tmpSliderImages[orderNo - 2] = tmp;\n                } else {\n                  _tmp = tmpSliderImages[orderNo - 1];\n                  tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo];\n                  tmpSliderImages[orderNo] = _tmp;\n                }\n\n                tmpSliderImages.map(function (data, index) {\n                  data.orderno = index + 1;\n                });\n                setIsDeleting(true);\n                requestPassed = true;\n                _iterator2 = _createForOfIteratorHelper(tmpSliderImages);\n\n                try {\n                  for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                    sldImage = _step2.value;\n                    updatedSliderImage = patchListSliderImage(GENERAL_SETTINGS.OREST_URL, authToken, companyId, {\n                      orderno: sldImage.orderno\n                    }, {\n                      hotelrefno: Number(companyId)\n                    }, sldImage.gid);\n                    updatedSliderImage ? requestPassed = true : requestPassed = false;\n                  }\n                } catch (err) {\n                  _iterator2.e(err);\n                } finally {\n                  _iterator2.f();\n                }\n\n                setIsDeleting(false);\n\n                if (requestPassed) {\n                  setSliderImages(tmpSliderImages);\n                  setItemCount(sliderImages.length + 1);\n                  handleResetState();\n                  toast.success('Order No Updated Successfully', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                } else {\n                  toast.error('Something went wrong while updating order no. Please check network tab.', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                }\n              }\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleUpdateOrderNo(_x4, _x5, _x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleImageQualityChange = function handleImageQualityChange(value) {\n    if (value >= 10 && value <= 100 && value % 10 === 0) {\n      if (sliderImages.length) {\n        setIsLoaded(false);\n        var gids = sliderImages.map(function (image) {\n          return {\n            gid: image.gid,\n            imgquality: value / 100,\n            imgscale: value / 100\n          };\n        });\n        UseOrest({\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMIMG + '/' + OREST_ENDPOINT.LIST + '/' + OREST_ENDPOINT.PATCH,\n          token: authToken,\n          method: REQUEST_METHOD_CONST.PATCH,\n          data: gids,\n          params: {\n            hotelrefno: Number(companyId)\n          }\n        }).then(function (res) {\n          var _res$data4;\n\n          if ((res === null || res === void 0 ? void 0 : res.status) === 200 && res !== null && res !== void 0 && (_res$data4 = res.data) !== null && _res$data4 !== void 0 && _res$data4.data) {\n            setQuality(value);\n            setIsLoaded(true);\n          } else {\n            var retErr = isErrorMsg(res);\n            toast.error(retErr.errorMsg, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        });\n      } else {\n        setQuality(value);\n      }\n    }\n  };\n\n  var handleTextEditorValue = function handleTextEditorValue(value) {\n    if (dialogType === 'title') {\n      setTitle(value);\n    }\n\n    if (dialogType === 'description') {\n      setDescription(value);\n    }\n\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isTextEditorDialogOpen: false,\n        dialogType: '',\n        editorValue: ''\n      });\n    });\n  };\n\n  var handleCancelEditor = function handleCancelEditor() {\n    setLocalState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        isTextEditorDialogOpen: false,\n        dialogType: '',\n        editorValue: ''\n      });\n    });\n  };\n\n  var handleDialogOpen = function handleDialogOpen(type) {\n    if (type === 'title') {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          isTextEditorDialogOpen: true,\n          dialogType: type,\n          editorValue: title\n        });\n      });\n    }\n\n    if (type === 'description') {\n      setLocalState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          isTextEditorDialogOpen: true,\n          dialogType: type,\n          editorValue: description\n        });\n      });\n    }\n  };\n\n  if (!isLoaded) {\n    return __jsx(LoadingSpinner, {\n      style: {\n        color: COLORS.secondary\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1228,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1229,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: router !== null && router !== void 0 && (_router$query = router.query) !== null && _router$query !== void 0 && _router$query.sliderOnly ? 8 : 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1230,\n      columnNumber: 17\n    }\n  }, __jsx(FormControlLabel, {\n    disabled: state.langCode !== state.defaultLang && !router.query.sliderOnly,\n    control: __jsx(Checkbox, {\n      checked: isItemDesc,\n      onChange: handleItemDescription,\n      name: \"isitem\",\n      color: \"primary\",\n      disabled: sliderImages.length === 0,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1234,\n        columnNumber: 29\n      }\n    }),\n    label: \"Items Description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 21\n    }\n  }), __jsx(FormControlLabel, {\n    control: __jsx(Checkbox, {\n      checked: isOptimizeImages,\n      onChange: function onChange() {\n        return setOptimizeImages(!isOptimizeImages);\n      },\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1246,\n        columnNumber: 29\n      }\n    }),\n    label: \"Optimize Images\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1244,\n      columnNumber: 21\n    }\n  }), (router === null || router === void 0 ? void 0 : (_router$query2 = router.query) === null || _router$query2 === void 0 ? void 0 : _router$query2.sliderOnly) && __jsx(React.Fragment, null, __jsx(FormControlLabel, {\n    className: classes.labelFont,\n    control: __jsx(Checkbox, {\n      size: 'small',\n      checked: isActive,\n      onChange: function onChange() {\n        setIsActive(!isActive);\n        Patch({\n          // update slider\n          apiUrl: GENERAL_SETTINGS.OREST_URL,\n          endpoint: OREST_ENDPOINT.HCMITEMSLD,\n          token: authToken,\n          gid: sliderGID,\n          params: {\n            hotelrefno: Number(companyId)\n          },\n          data: {\n            isactive: !isActive\n          }\n        }).then(function (res) {\n          if (res.status !== 200) {\n            var retErr = isErrorMsg(res);\n            toast.error(retErr.errorMsg, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        });\n      },\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1259,\n        columnNumber: 37\n      }\n    }),\n    label: \"Active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1256,\n      columnNumber: 29\n    }\n  }), __jsx(FormControl, {\n    size: 'small',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1290,\n      columnNumber: 29\n    }\n  }, __jsx(InputLabel, {\n    htmlFor: \"age-native-simple\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1291,\n      columnNumber: 33\n    }\n  }, \"Category\"), __jsx(Select, {\n    \"native\": true,\n    name: \"cat_id\",\n    variant: 'outlined',\n    value: catId,\n    onChange: function onChange(e) {\n      setCatId(e.target.value);\n      Patch({\n        // update slider\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n        token: authToken,\n        gid: sliderGID,\n        params: {\n          hotelrefno: Number(companyId)\n        },\n        data: {\n          catid: e.target.value\n        }\n      }).then(function (res) {\n        if (res.status !== 200) {\n          var retErr = isErrorMsg(res);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1292,\n      columnNumber: 33\n    }\n  }, __jsx(\"option\", {\n    style: {\n      display: 'none'\n    },\n    value: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1321,\n      columnNumber: 37\n    }\n  }), categories.length > 0 && categories.map(function (cat) {\n    return __jsx(\"option\", {\n      key: cat.id,\n      value: cat.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1325,\n        columnNumber: 49\n      }\n    }, cat.description);\n  }))))), !(router !== null && router !== void 0 && (_router$query3 = router.query) !== null && _router$query3 !== void 0 && _router$query3.sliderOnly) && __jsx(Grid, {\n    item: true,\n    xs: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1336,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1337,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 1,\n    style: {\n      marginTop: 6,\n      marginLeft: 16\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1338,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    component: 'span',\n    style: {\n      marginLeft: -8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1339,\n      columnNumber: 33\n    }\n  }, \"Text\")), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1343,\n      columnNumber: 29\n    }\n  }, __jsx(InputColor, {\n    onChange: function onChange(color) {\n      return setTextColor(color.hex);\n    },\n    placement: \"right\",\n    initialValue: textColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1344,\n      columnNumber: 33\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    style: {\n      marginTop: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1350,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    component: 'span',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1351,\n      columnNumber: 33\n    }\n  }, \"Button\")), __jsx(Grid, {\n    item: true,\n    xs: 3,\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1353,\n      columnNumber: 29\n    }\n  }, __jsx(InputColor, {\n    onChange: function onChange(color) {\n      return setButtonColor(color.hex);\n    },\n    placement: \"right\",\n    initialValue: buttonColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1354,\n      columnNumber: 33\n    }\n  })))), __jsx(Grid, {\n    item: true,\n    xs: router !== null && router !== void 0 && (_router$query4 = router.query) !== null && _router$query4 !== void 0 && _router$query4.sliderOnly ? 4 : 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1363,\n      columnNumber: 17\n    }\n  }, router !== null && router !== void 0 && (_router$query5 = router.query) !== null && _router$query5 !== void 0 && _router$query5.sliderOnly ? __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1365,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 1,\n    style: {\n      marginTop: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1366,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    component: 'span',\n    style: {\n      marginLeft: -8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1367,\n      columnNumber: 33\n    }\n  }, \"Text\")), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1371,\n      columnNumber: 29\n    }\n  }, __jsx(InputColor, {\n    onChange: function onChange(color) {\n      return setTextColor(color.hex);\n    },\n    placement: \"right\",\n    initialValue: textColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1372,\n      columnNumber: 33\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 2,\n    style: {\n      marginTop: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1378,\n      columnNumber: 29\n    }\n  }, __jsx(Typography, {\n    component: 'span',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1379,\n      columnNumber: 33\n    }\n  }, \"Button\")), __jsx(Grid, {\n    item: true,\n    xs: 3,\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1381,\n      columnNumber: 29\n    }\n  }, __jsx(InputColor, {\n    onChange: function onChange(color) {\n      return setButtonColor(color.hex);\n    },\n    placement: \"right\",\n    initialValue: buttonColor,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1382,\n      columnNumber: 33\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1388,\n      columnNumber: 29\n    }\n  }, __jsx(Button, {\n    onClick: openDialog,\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"upload\",\n    className: classes.uploadButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1389,\n      columnNumber: 33\n    }\n  }, __jsx(CloudUploadIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1397,\n      columnNumber: 37\n    }\n  }), \"UPLOAD\"))) : __jsx(Button, {\n    onClick: openDialog,\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"upload\",\n    className: classes.uploadButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1403,\n      columnNumber: 25\n    }\n  }, __jsx(CloudUploadIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1411,\n      columnNumber: 29\n    }\n  }), \"UPLOAD\"))), isOptimizeImages && __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1418,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1419,\n      columnNumber: 21\n    }\n  }, __jsx(PercentageSlider, {\n    marks: PERCENTAGE_VALUES,\n    value: quality,\n    onChange: function onChange(e, value) {\n      return handleImageQualityChange(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1420,\n      columnNumber: 25\n    }\n  }))), __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    spacing: 3,\n    className: isSaving ? classes.disableEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1428,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 5,\n    className: otherLangSlider && 'slider' in otherLangSlider && state.langCode !== state.defaultLang ? classes.disableEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1429,\n      columnNumber: 17\n    }\n  }, __jsx(Paper, {\n    className: classes.paperBlock,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1438,\n      columnNumber: 21\n    }\n  }, sliderImages.length > 0 && sliderImages.map(function (image, index) {\n    return __jsx(Grid, {\n      key: index,\n      container: true,\n      justify: 'center',\n      className: isDeleting ? classes.disableEvent : '',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1442,\n        columnNumber: 37\n      }\n    }, __jsx(Grid, {\n      item: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1448,\n        columnNumber: 41\n      }\n    }, __jsx(Card, {\n      className: classes.card,\n      style: {\n        border: index === selectedIndex ? '2px solid red' : \"1px solid \".concat(COLORS === null || COLORS === void 0 ? void 0 : COLORS.secondary)\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1449,\n        columnNumber: 45\n      }\n    }, __jsx(\"div\", {\n      style: {\n        backgroundImage: \"url(\".concat(GENERAL_SETTINGS.STATIC_URL + image.fileurl, \")\"),\n        height: '100%',\n        width: '100%',\n        backgroundSize: 'cover',\n        borderRadius: 5\n      },\n      onMouseEnter: function onMouseEnter() {\n        setShowDeleteBtn(true);\n        setHoverIndex(index);\n      },\n      onMouseLeave: function onMouseLeave() {\n        setShowDeleteBtn(false);\n        setHoverIndex(index);\n      },\n      onClick: function onClick() {\n        return handleSelectedImage(index, image);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1458,\n        columnNumber: 49\n      }\n    }, showDeleteBtn && hoverIndex === index && __jsx(IconButton, {\n      disabled: state.langCode !== state.defaultLang && !router.query.sliderOnly,\n      component: \"span\",\n      color: 'primary',\n      className: index === sliderImages.length - 1 ? classes.disableEvent : '',\n      onClick: function onClick() {\n        return handleUpdateOrderNo(image.gid, image.orderno + 1, 'increment');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1479,\n        columnNumber: 57\n      }\n    }, __jsx(AddCircleIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1499,\n        columnNumber: 61\n      }\n    })), showDeleteBtn && hoverIndex === index && __jsx(Typography, {\n      component: \"span\",\n      color: 'primary',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1503,\n        columnNumber: 57\n      }\n    }, image.orderno), showDeleteBtn && hoverIndex === index && __jsx(IconButton, {\n      disabled: state.langCode !== state.defaultLang && !router.query.sliderOnly,\n      component: \"span\",\n      color: 'primary',\n      className: index === 0 ? classes.disableEvent : '',\n      onClick: function onClick() {\n        return handleUpdateOrderNo(image.gid, image.orderno - 1, 'decrement');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1508,\n        columnNumber: 57\n      }\n    }, __jsx(RemoveCircleIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1524,\n        columnNumber: 61\n      }\n    })), showDeleteBtn && hoverIndex === index && __jsx(IconButton, {\n      disabled: state.langCode !== state.defaultLang && !router.query.sliderOnly,\n      onClick: function onClick() {\n        return handleDeleteImage(image.gid);\n      },\n      \"aria-label\": \"upload picture\",\n      component: \"span\",\n      style: {\n        \"float\": 'right'\n      },\n      color: 'primary',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1528,\n        columnNumber: 57\n      }\n    }, __jsx(CancelIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1539,\n        columnNumber: 61\n      }\n    }))))));\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 7,\n    className: itemDescRequest ? classes.disableEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1550,\n      columnNumber: 17\n    }\n  }, __jsx(Paper, {\n    className: classes.paperBlock,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1551,\n      columnNumber: 21\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1552,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1553,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1554,\n      columnNumber: 33\n    }\n  }, __jsx(Typography, {\n    component: 'h6',\n    variant: 'h6',\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1555,\n      columnNumber: 37\n    }\n  }, \"Title\")), __jsx(Grid, {\n    item: true,\n    xs: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1559,\n      columnNumber: 33\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"Edit Title\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleDialogOpen('title');\n    },\n    style: {\n      \"float\": 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1560,\n      columnNumber: 37\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1566,\n      columnNumber: 41\n    }\n  }))))), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1571,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1572,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1573,\n      columnNumber: 33\n    }\n  }, __jsx(Typography, {\n    component: 'h6',\n    variant: 'h6',\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1574,\n      columnNumber: 37\n    }\n  }, \"Description\")), __jsx(Grid, {\n    item: true,\n    xs: 9,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1578,\n      columnNumber: 33\n    }\n  }, __jsx(IconButton, {\n    \"aria-label\": \"Edit Title\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return handleDialogOpen('description');\n    },\n    style: {\n      \"float\": 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1579,\n      columnNumber: 37\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1585,\n      columnNumber: 41\n    }\n  }))))), __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1590,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1591,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 11,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1592,\n      columnNumber: 33\n    }\n  }, __jsx(Typography, {\n    component: 'h6',\n    variant: 'h6',\n    className: classes.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1593,\n      columnNumber: 37\n    }\n  }, \"Do you want to add button for slider ?\")), __jsx(Grid, {\n    item: true,\n    xs: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1597,\n      columnNumber: 33\n    }\n  }, __jsx(Typography, {\n    component: 'div',\n    style: {\n      marginTop: 16\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1598,\n      columnNumber: 37\n    }\n  }, __jsx(Switch, {\n    size: 'small',\n    checked: isCta,\n    onChange: function onChange() {\n      setIsCta(!isCta);\n      setCtaTitle('');\n      setCtaLink('');\n      setCta('');\n    },\n    inputProps: {\n      'aria-label': 'secondary checkbox'\n    },\n    color: 'primary',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1599,\n      columnNumber: 41\n    }\n  }))))), isCta && __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1616,\n      columnNumber: 29\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1617,\n      columnNumber: 33\n    }\n  }, __jsx(FormControl, {\n    component: \"fieldset\",\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1618,\n      columnNumber: 37\n    }\n  }, __jsx(RadioGroup, {\n    \"aria-label\": \"link-type\",\n    row: true,\n    value: ctaLinkType,\n    onChange: function onChange(e) {\n      var _e$target = e === null || e === void 0 ? void 0 : e.target,\n          value = _e$target.value;\n\n      setLocalState(function (prev) {\n        var _pageData$;\n\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          ctaLinkType: value,\n          ctaLink: value === 'internal' ? (_pageData$ = pageData[0]) === null || _pageData$ === void 0 ? void 0 : _pageData$.code : ''\n        });\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1619,\n      columnNumber: 41\n    }\n  }, __jsx(FormControlLabel, {\n    value: \"external\",\n    control: __jsx(Radio, {\n      color: 'primary',\n      size: 'small',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1634,\n        columnNumber: 58\n      }\n    }),\n    label: \"External Link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1632,\n      columnNumber: 45\n    }\n  }), __jsx(FormControlLabel, {\n    value: \"internal\",\n    control: __jsx(Radio, {\n      color: 'primary',\n      size: 'small',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1639,\n        columnNumber: 58\n      }\n    }),\n    label: \"Internal Link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1637,\n      columnNumber: 45\n    }\n  })))), __jsx(Grid, {\n    container: true,\n    justify: 'flex-start',\n    spacing: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1645,\n      columnNumber: 33\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1646,\n      columnNumber: 37\n    }\n  }, __jsx(TextField, {\n    size: 'small',\n    id: \"cta-title\",\n    variant: 'outlined',\n    label: 'Title',\n    fullWidth: true,\n    value: ctaTitle,\n    onChange: function onChange(e) {\n      return setCtaTitle(e.target.value);\n    },\n    style: {\n      marginTop: 8\n    },\n    helperText: ctaTitle && __jsx(Typography, {\n      variant: \"caption\",\n      className: classes.alignText,\n      display: \"block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 53\n      }\n    }, \"\".concat(ctaTitle === null || ctaTitle === void 0 ? void 0 : ctaTitle.length, \" < 100\")),\n    inputProps: {\n      maxLength: 99\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1647,\n      columnNumber: 41\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1670,\n      columnNumber: 37\n    }\n  }, ctaLinkType === 'external' && __jsx(TextField, {\n    size: 'small',\n    id: \"cta-link\",\n    variant: 'outlined',\n    label: 'Link',\n    fullWidth: true,\n    value: ctaLink,\n    error: ctaLink ? !validator.isURL(ctaLink) : false,\n    onChange: function onChange(e) {\n      return setCtaLink(e.target.value);\n    },\n    style: {\n      marginTop: 8\n    },\n    disabled: state.langCode !== state.defaultLang,\n    helperText: ctaLink && __jsx(Typography, {\n      variant: \"caption\",\n      className: classes.alignText,\n      display: \"block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1685,\n        columnNumber: 57\n      }\n    }, \"\".concat(ctaLink === null || ctaLink === void 0 ? void 0 : ctaLink.length, \" < 100\")),\n    inputProps: {\n      maxLength: 99\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1672,\n      columnNumber: 45\n    }\n  }), ctaLinkType === 'internal' && __jsx(FormControl, {\n    variant: \"outlined\",\n    size: 'small',\n    style: {\n      marginTop: 8\n    },\n    fullWidth: true,\n    disabled: (state === null || state === void 0 ? void 0 : state.langCode) !== (state === null || state === void 0 ? void 0 : state.defaultLang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1698,\n      columnNumber: 45\n    }\n  }, __jsx(Select, {\n    value: ctaLink,\n    onChange: function onChange(e) {\n      var _e$target2 = e === null || e === void 0 ? void 0 : e.target,\n          value = _e$target2.value;\n\n      setCtaLink(value);\n    },\n    label: \"Web Pages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1705,\n      columnNumber: 49\n    }\n  }, pageData.map(function (option, index) {\n    return __jsx(MenuItem, {\n      value: option.code,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1715,\n        columnNumber: 61\n      }\n    }, ' ', option.code, ' ');\n  })))))), __jsx(Divider, {\n    style: {\n      marginTop: 8\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1728,\n      columnNumber: 25\n    }\n  }), __jsx(Button, {\n    onClick: handleUpdate,\n    variant: \"contained\",\n    size: \"small\",\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    className: classes.submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1729,\n      columnNumber: 25\n    }\n  }, \"SUBMIT\")))), __jsx(DropzoneDialog, {\n    open: isDialogOpen,\n    onSave: saveImage,\n    acceptedFiles: ['image/jpeg', 'image/png', 'image/bmp'],\n    showPreviews: true,\n    maxFileSize: 5000000,\n    onClose: closeDialog,\n    filesLimit: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1742,\n      columnNumber: 13\n    }\n  }), isTextEditorDialogOpen && __jsx(TextEditor, {\n    handleSaveTextEditor: handleTextEditorValue,\n    handleCancelTextEditor: handleCancelEditor,\n    data: editorValue,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1752,\n      columnNumber: 17\n    }\n  }));\n};\n\n_s(EditSlider, \"YIQ2N6ZDSsks3MoYtN8UvQXyrzs=\", false, function () {\n  return [useRouter, useStyles];\n});\n\n_c = EditSlider;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nexport default connect(mapStateToProps)(EditSlider);\n\nvar _c;\n\n$RefreshReg$(_c, \"EditSlider\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/components/page/sections/slider/EditSlider.js"],"names":["React","useState","useEffect","useContext","Paper","Grid","Card","TextField","Typography","CloudUploadIcon","IconButton","AddCircleIcon","RemoveCircleIcon","FormControlLabel","MenuItem","Radio","RadioGroup","Checkbox","CancelIcon","Divider","Switch","makeStyles","Button","Container","DropzoneDialog","useRouter","WebCmsGlobal","Delete","Insert","Patch","UseOrest","ViewList","COLORS","DELETE_SUCCESS","PERCENTAGE_VALUES","SAVED_SUCCESS","UPLOAD_SUCCESS","LoadingSpinner","FIELDTYPE","isErrorMsg","OREST_ENDPOINT","OREST_UPLOAD","REQUEST_METHOD_CONST","connect","toast","validator","axios","FormControl","InputLabel","Select","InputColor","PercentageSlider","getSliderImages","patchListSliderImage","TextEditor","BorderColorSharpIcon","useStyles","theme","submit","marginRight","spacing","marginTop","borderRadius","paperBlock","height","border","secondary","overflow","disableEvent","pointerEvents","opacity","uploadButton","marginBottom","marginLeft","card","width","margin","cursor","alignText","textAlign","color","text","fontWeight","fontSize","EditSlider","props","sliderComponent","handleCmponent","state","handleApplyDisable","handleSliderValues","otherLangSlider","sliderImages","setSliderImages","title","setTitle","description","setDescription","isCta","setIsCta","ctaTitle","setCtaTitle","ctaLink","setCtaLink","cta","setCta","isLoaded","setIsLoaded","isSaving","setIsSaving","isItemDesc","setItemDesc","isDeleting","setIsDeleting","selectedIndex","setSelectedIndex","showDeleteBtn","setShowDeleteBtn","hoverIndex","setHoverIndex","sliderGID","setSliderGID","sliderID","setSliderID","imageGID","setImageGID","isDialogOpen","setDialogOpen","itemCount","setItemCount","gappID","setGappID","otherLangSliderImages","setOtherLangSliderImages","editedSliderComponent","setEditedSliderComponent","isImageSelected","setImageSelected","itemDescRequest","setItemDescRequest","isOptimizeImages","setOptimizeImages","assets","meta","imageQuality","quality","setQuality","catId","setCatId","categories","setCategories","isActive","setIsActive","textColor","setTextColor","buttonColor","setButtonColor","isTextEditorDialogOpen","editorValue","dialogType","pageData","ctaLinkType","localState","setLocalState","router","companyId","query","companyID","GENERAL_SETTINGS","token","authToken","classes","openDialog","closeDialog","sliderOnly","length","langCode","defaultLang","service","type","gid","id","slider","apiUrl","OREST_URL","endpoint","HCMCAT","params","hotelrefno","Number","then","res","status","data","retErr","error","errorMsg","position","POSITION","TOP_RIGHT","RAFILE","prev","HCMITEMSLD","r","itemid","catid","isactive","matchLink","match","replace","trim","ctaGid","split","cta_title","HCMITEMIMG","sort","updatedImages","map","index","push","res1","matchs","console","log","hcmItemId","updatedSliderComponent","handleUpdate","success","handleResetState","warn","updateOtherLangSliderImages","handleDeleteImage","imageGid","sldImages","a","b","orderno","requestPassed","sldImage","updatedSliderImage","handleSelectedImage","image","handleItemDescription","saveImage","files","orderNo","requests","file","Promise","resolve","asyncUpload","all","itemTreated","callback","setTimeout","sliderid","imgtype","IMG","masterid","imgquality","imgscale","r1","ImageUpload","mid","endPoint","masterID","url","binaryData","formData","FormData","append","Blob","name","options","method","headers","Authorization","orsactive","scale","response","handleUpdateOrderNo","orderType","tmpSliderImages","tmp","handleImageQualityChange","value","gids","LIST","PATCH","handleTextEditorValue","handleCancelEditor","handleDialogOpen","labelFont","e","target","display","cat","hex","backgroundImage","STATIC_URL","fileurl","backgroundSize","code","maxLength","isURL","option","mapStateToProps","formReducer","pageBuilder"],"mappings":"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","sourcesContent":["//react imports\nimport React, { useState, useEffect, useContext } from 'react'\n//material ui imports\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\nimport IconButton from '@material-ui/core/IconButton'\nimport AddCircleIcon from '@material-ui/icons/AddCircle'\nimport RemoveCircleIcon from '@material-ui/icons/RemoveCircle'\nimport { FormControlLabel, MenuItem, Radio, RadioGroup } from '@material-ui/core'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Divider from '@material-ui/core/Divider'\nimport Switch from '@material-ui/core/Switch'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Container from '@material-ui/core/Container'\n//dropzone related imports\nimport 'regenerator-runtime/runtime'\nimport { DropzoneDialog } from 'material-ui-dropzone'\nimport { useRouter } from 'next/router'\n//custom imports\nimport WebCmsGlobal from '../../../../../../webcms-global'\nimport { Delete, Insert, Patch, UseOrest, ViewList } from '@webcms/orest'\nimport { COLORS, DELETE_SUCCESS, PERCENTAGE_VALUES, SAVED_SUCCESS, UPLOAD_SUCCESS } from '../../../../constants'\nimport LoadingSpinner from '../../../../../../LoadingSpinner'\nimport {\n    FIELDTYPE,\n    isErrorMsg,\n    OREST_ENDPOINT,\n    OREST_UPLOAD,\n    REQUEST_METHOD_CONST,\n} from '../../../../../../../model/orest/constants'\nimport { connect } from 'react-redux'\nimport { toast } from 'react-toastify'\nimport validator from 'validator'\nimport axios from 'axios'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Select from '@material-ui/core/Select'\nimport InputColor from 'react-input-color'\nimport { PercentageSlider } from '../../../../../../../model/slider'\nimport { getSliderImages, patchListSliderImage } from '../../../../helpers/slider'\nimport TextEditor from '../text-editor'\nimport BorderColorSharpIcon from '@material-ui/icons/BorderColorSharp'\n\nconst useStyles = makeStyles((theme) => ({\n    submit: {\n        marginRight: theme.spacing(3),\n        marginTop: theme.spacing(1),\n        borderRadius: 20,\n        float: 'right',\n    },\n    paperBlock: {\n        height: 350,\n        border: `2px solid ${COLORS?.secondary}`,\n        overflow: 'auto',\n    },\n    disableEvent: {\n        pointerEvents: 'none',\n        opacity: 0.5,\n    },\n    uploadButton: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        marginLeft: theme.spacing(1),\n        borderRadius: 20,\n        float: 'right',\n    },\n    card: {\n        height: 200,\n        width: 320,\n        margin: theme.spacing(1),\n        cursor: 'pointer',\n    },\n    alignText: {\n        textAlign: 'right',\n        color: 'red',\n    },\n    text: {\n        marginTop: 16,\n        fontWeight: 'bold',\n        fontSize: 15,\n    },\n}))\n\nconst EditSlider = (props) => {\n    const { sliderComponent, handleCmponent, state, handleApplyDisable, handleSliderValues, otherLangSlider } = props\n\n    const [sliderImages, setSliderImages] = useState([])\n    const [title, setTitle] = useState('')\n    const [description, setDescription] = useState('')\n    const [isCta, setIsCta] = useState(false)\n    const [ctaTitle, setCtaTitle] = useState('')\n    const [ctaLink, setCtaLink] = useState('')\n    const [cta, setCta] = useState('')\n    const [isLoaded, setIsLoaded] = useState(false)\n    const [isSaving, setIsSaving] = useState(false)\n    const [isItemDesc, setItemDesc] = useState(false)\n    const [isDeleting, setIsDeleting] = useState(false)\n    const [selectedIndex, setSelectedIndex] = useState()\n    const [showDeleteBtn, setShowDeleteBtn] = useState(false)\n    const [hoverIndex, setHoverIndex] = useState()\n    const [sliderGID, setSliderGID] = useState('')\n    const [sliderID, setSliderID] = useState('')\n    const [imageGID, setImageGID] = useState('')\n    const [isDialogOpen, setDialogOpen] = useState(false)\n    const [itemCount, setItemCount] = useState(1)\n    const [gappID, setGappID] = useState('')\n    const [otherLangSliderImages, setOtherLangSliderImages] = useState([])\n    const [editedSliderComponent, setEditedSliderComponent] = useState(sliderComponent)\n    const [isImageSelected, setImageSelected] = useState(false)\n    const [itemDescRequest, setItemDescRequest] = useState(false)\n    const [isOptimizeImages, setOptimizeImages] = useState(false)\n    const [quality, setQuality] = useState(\n        state?.assets?.meta?.imageQuality ? state.assets.meta.imageQuality * 100 : 50\n    )\n    const [catId, setCatId] = useState(null)\n    const [categories, setCategories] = useState([])\n    const [isActive, setIsActive] = useState(false)\n    const [textColor, setTextColor] = useState(sliderComponent?.textColor ? sliderComponent.textColor : '#fff')\n    const [buttonColor, setButtonColor] = useState(sliderComponent?.buttonColor ? sliderComponent.buttonColor : '#fff')\n    const [localState, setLocalState] = useState({\n        isTextEditorDialogOpen: false,\n        editorValue: '',\n        dialogType: '',\n        pageData: [],\n        ctaLinkType: '',\n    })\n\n    const { dialogType, editorValue, isTextEditorDialogOpen, ctaLinkType, pageData } = localState\n\n    const router = useRouter()\n    const companyId = router.query.companyID\n    const { GENERAL_SETTINGS, token } = useContext(WebCmsGlobal)\n    const authToken = token || router.query.authToken\n\n    const classes = useStyles()\n\n    const openDialog = () => {\n        //it opens dialog for image upload\n        setDialogOpen(true)\n    }\n\n    const closeDialog = () => {\n        ////it closes dialog for image upload\n        setDialogOpen(false)\n    }\n\n    useEffect(() => {\n        if (otherLangSlider && 'sliderImages' in otherLangSlider) {\n            setOtherLangSliderImages(otherLangSlider.sliderImages)\n        }\n    }, [otherLangSlider])\n\n    useEffect(() => {\n        if (router.query.sliderOnly) {\n            if (sliderImages.length === 0) {\n                handleApplyDisable(true)\n            } else {\n                handleApplyDisable(false)\n            }\n        } else {\n            if (sliderImages.length > 0) {\n                if (state.langCode === state.defaultLang) {\n                    handleCmponent({\n                        service: 'hcmitemsld',\n                        type: 'slider',\n                        gid: editedSliderComponent.gid,\n                        width: editedSliderComponent.width,\n                        id: editedSliderComponent.id,\n                        textColor: textColor,\n                        buttonColor: buttonColor,\n                    })\n                } else {\n                    if (!isItemDesc) {\n                        handleCmponent({\n                            slider: {\n                                title: title,\n                                description: description,\n                                cta: cta,\n                            },\n                        })\n                    } else {\n                        handleCmponent({\n                            sliderImages: otherLangSliderImages,\n                        })\n                    }\n                }\n            }\n        }\n    }, [sliderImages, title, description, cta, otherLangSliderImages, textColor, buttonColor])\n\n    useEffect(() => {\n        if (router.query.sliderOnly) {\n            handleSliderValues(title, description, cta, state.slider.gid, textColor, buttonColor)\n        }\n    }, [title, description, cta, textColor, buttonColor])\n\n    useEffect(() => {\n        setIsLoaded(false);\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMCAT,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n            },\n        }).then((res) => {\n            if (res?.status === 200) {\n                res?.data?.data?.length > 0 && setCategories(res.data.data)\n            } else {\n                const retErr = isErrorMsg(res)\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n        //getting data from rafile\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RAFILE,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n                query: `filetype::WEBPAGE,istemplate::false}`,\n            }\n        }).then(res => {\n            setIsLoaded(true)\n            if (res.status === 200 && res?.data?.data) {\n                setLocalState(prev => ({...prev, pageData: res.data.data}))\n            } else {\n                const retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        })\n    }, [])\n\n    useEffect(() => {\n        // get all slider images against gid\n        setIsLoaded(false)\n        if (editedSliderComponent?.gid) {\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                token: authToken,\n                params: {\n                    query: `gid:${editedSliderComponent.gid}`,\n                    hotelrefno: Number(companyId),\n                },\n            }).then((r) => {\n\n                if (r.status === 200) {\n                    if (r?.data?.data?.length > 0) {\n                        setGappID(r.data.data[0].itemid)\n                        setCatId(r.data.data[0].catid)\n                        setIsActive(r.data.data[0].isactive)\n                        if (state.langCode === state.defaultLang || router.query.sliderOnly) {\n                            if (r.data.data[0].title || r.data.data[0].description) {\n                                setTitle(r.data.data[0].title)\n                                setDescription(r.data.data[0].description)\n                            }\n                            if (r.data.data[0].cta) {\n                                setIsCta(true)\n                                const matchLink = r.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                                if (matchLink) {\n                                    const title = r.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace(matchLink[0], '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .trim()\n                                    setCtaLink(matchLink[0])\n                                    setCtaTitle(title)\n                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                                } else {\n                                    const ctaGid = r.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .replace('\"', '')\n                                        .trim()\n                                        ?.split(' ')[0]\n                                    const cta_title = r.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace(ctaGid + '\"', '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .trim()\n                                    setCtaLink(ctaGid)\n                                    setCtaTitle(cta_title)\n                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                                }\n                            }\n                        } else {\n                            if (otherLangSlider && 'slider' in otherLangSlider) {\n                                setTitle(otherLangSlider.slider.title)\n                                setDescription(otherLangSlider.slider.description)\n                                if (otherLangSlider.slider.cta) {\n                                    setIsCta(true)\n                                    const matchLink = otherLangSlider.slider.cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                                    if (matchLink) {\n                                        const title = otherLangSlider.slider.cta\n                                            .replace(`<a target=\"_blank\" href=\"`, '')\n                                            .replace(matchLink[0], '')\n                                            .replace('>', '')\n                                            .replace('</a>', '')\n                                            .trim()\n                                        setCtaLink(matchLink[0])\n                                        setCtaTitle(title)\n                                        setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                                    } else {\n                                        const ctaGid = otherLangSlider.slider.cta\n                                            .replace(`<a target=\"_blank\" href=\"`, '')\n                                            .replace('>', '')\n                                            .replace('</a>', '')\n                                            .replace('\"', '')\n                                            .trim()\n                                            ?.split(' ')[0]\n                                        const cta_title = otherLangSlider.slider.cta\n                                            .replace(`<a target=\"_blank\" href=\"`, '')\n                                            .replace(ctaGid + '\"', '')\n                                            .replace('>', '')\n                                            .replace('</a>', '')\n                                            .trim()\n                                        setCtaLink(ctaGid)\n                                        setCtaTitle(cta_title)\n                                        setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                                    }\n                                }\n                            }\n                        }\n                        setSliderGID(r.data.data[0].gid)\n                        setSliderID(r.data.data[0].id)\n                        ViewList({\n                            apiUrl: GENERAL_SETTINGS.OREST_URL,\n                            endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                            token: authToken,\n                            params: {\n                                query: `sliderid:${r.data.data[0].id}`,\n                                sort: 'orderno',\n                                hotelrefno: Number(companyId),\n                            },\n                        }).then((res) => {\n                            setIsLoaded(true)\n                            if (res.status === 200) {\n                                let updatedImages = []\n                                res.data.data.map(async (data, index) => {\n                                    updatedImages.push(data)\n                                    if (state.langCode === state.defaultLang) {\n                                        if (data.cta || data.title || data.description) {\n                                            if (index === 0) {\n                                                setItemDesc(true)\n                                                setSelectedIndex(index)\n                                                setImageGID(data.gid)\n                                                ViewList({\n                                                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                                    endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                                                    token: authToken,\n                                                    params: {\n                                                        query: `gid:${data.gid}`,\n                                                        sort: 'orderno',\n                                                        hotelrefno: Number(companyId),\n                                                    },\n                                                }).then((res1) => {\n                                                    if (res1.status === 200) {\n                                                        if (res1.data && res1.data.data && res1.data.data.length > 0) {\n                                                            res1.data.data[0].title\n                                                                ? setTitle(res1.data.data[0].title)\n                                                                : setTitle('')\n                                                            res1.data.data[0].description\n                                                                ? setDescription(res1.data.data[0].description)\n                                                                : setDescription('')\n                                                            res1.data.data[0].cta\n                                                                ? setCta(res1.data.data[0].cta)\n                                                                : setCta('')\n                                                            if (res1.data.data[0].cta) {\n                                                                setIsCta(true)\n                                                                setCta(res1.data.data[0].cta)\n                                                                const matchs = res1.data.data[0].cta.match(\n                                                                    /\\bhttps?:\\/\\/\\S+/gi\n                                                                )\n                                                                if (matchs?.length > 0) {\n                                                                    const cta_title = res1.data.data[0].cta\n                                                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                                                        .replace(matchs[0], '')\n                                                                        .replace('>', '')\n                                                                        .replace('</a>', '')\n                                                                        .trim()\n                                                                    setCtaLink(matchs[0])\n                                                                    setCtaTitle(cta_title)\n                                                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                                                                } else {\n                                                                    const ctaGid = res1.data.data[0].cta\n                                                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                                                        .replace('>', '')\n                                                                        .replace('</a>', '')\n                                                                        .replace('\"', '')\n                                                                        .trim()\n                                                                        ?.split(' ')[0]\n                                                                    const cta_title = res1.data.data[0].cta\n                                                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                                                        .replace(ctaGid + '\"', '')\n                                                                        .replace('>', '')\n                                                                        .replace('</a>', '')\n                                                                        .trim()\n                                                                    setCtaLink(ctaGid)\n                                                                    setCtaTitle(cta_title)\n                                                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                                                                }\n                                                            } else {\n                                                                setIsCta(false)\n                                                            }\n                                                        }\n                                                    } else {\n                                                        const retErr = isErrorMsg(res1)\n                                                        toast.error(retErr.errorMsg, {\n                                                            position: toast.POSITION.TOP_RIGHT,\n                                                        })\n                                                    }\n                                                })\n                                            }\n                                        }\n                                    } else {\n                                        if (\n                                            otherLangSlider &&\n                                            otherLangSlider.sliderImages &&\n                                            otherLangSlider.sliderImages.length > 0\n                                        ) {\n                                            setSelectedIndex(0)\n                                            setItemDesc(true)\n                                            setTitle(otherLangSlider.sliderImages[0].title)\n                                            setDescription(otherLangSlider.sliderImages[0].description)\n                                            if (otherLangSlider.sliderImages[0].cta) {\n                                                setIsCta(true)\n                                                setCta(otherLangSlider.sliderImages[0].cta)\n                                                const matchs = otherLangSlider.sliderImages[0].cta.match(\n                                                    /\\bhttps?:\\/\\/\\S+/gi\n                                                )\n                                                if (matchs?.length > 0) {\n                                                    const cta_title = otherLangSlider.sliderImages[0].cta\n                                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                                        .replace(matchs[0], '')\n                                                        .replace('>', '')\n                                                        .replace('</a>', '')\n                                                        .trim()\n                                                    setCtaLink(matchs[0])\n                                                    setCtaTitle(cta_title)\n                                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                                                } else {\n                                                    const ctaGid = otherLangSlider.sliderImages[0].cta\n                                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                                        .replace('>', '')\n                                                        .replace('</a>', '')\n                                                        .replace('\"', '')\n                                                        .trim()\n                                                        ?.split(' ')[0]\n                                                    const cta_title = otherLangSlider.sliderImages[0].cta\n                                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                                        .replace(ctaGid + '\"', '')\n                                                        .replace('>', '')\n                                                        .replace('</a>', '')\n                                                        .trim()\n                                                    setCtaLink(ctaGid)\n                                                    setCtaTitle(cta_title)\n                                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                                                }\n                                            } else {\n                                                setIsCta(false)\n                                                setCtaTitle('')\n                                                setCtaLink('')\n                                            }\n                                        }\n                                    }\n                                })\n                                setSliderImages(updatedImages)\n                                setItemCount(updatedImages + 1)\n                            } else {\n                                console.log(res)\n                            }\n                        })\n                    } else {\n                        setIsLoaded(true)\n                    }\n                } else {\n                    setIsLoaded(true)\n                    const retErr = isErrorMsg(r)\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT,\n                    })\n                }\n            })\n        } else {\n            Insert({\n                // insert slider\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                token: authToken,\n                data: {\n                    itemid: state.hcmItemId,\n                    hotelrefno: Number(companyId),\n                },\n            }).then((res) => {\n                if (res.status === 200 && res.data.data) {\n                    setIsLoaded(true)\n                    const updatedSliderComponent = { ...editedSliderComponent }\n                    updatedSliderComponent.gid = res.data.data.gid\n                    setEditedSliderComponent(updatedSliderComponent)\n                }\n            })\n        }\n    }, [editedSliderComponent])\n\n    useEffect(() => {\n        if (ctaTitle && ctaLink) {\n            setCta(`<a target=\"_blank\" href=\"${ctaLink}\" > ${ctaTitle} </a>`)\n        }\n    }, [ctaTitle, ctaLink])\n\n    const handleUpdate = () => {\n        // update slider/image descriptions\n        if (state.langCode === state.defaultLang) {\n            if (isItemDesc) {\n                if (isImageSelected) {\n                    setIsSaving(true)\n                    Patch({\n                        // update image\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                        token: authToken,\n                        gid: imageGID,\n                        params: {\n                            hotelrefno: Number(companyId),\n                        },\n                        data: {\n                            title: title,\n                            description: description,\n                            cta: cta,\n                        },\n                    }).then((res) => {\n                        if (res.status === 200) {\n                            setIsSaving(false)\n                            toast.success(SAVED_SUCCESS, {\n                                position: toast.POSITION.TOP_RIGHT,\n                            })\n                        } else {\n                            console.log(res)\n                        }\n                    })\n                } else {\n                    handleResetState()\n                    toast.warn('Please Select Image', {\n                        position: toast.POSITION.TOP_RIGHT,\n                    })\n                }\n            } else {\n                setIsSaving(true)\n                Patch({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                    token: authToken,\n                    gid: sliderGID,\n                    params: {\n                        hotelrefno: Number(companyId),\n                    },\n                    data: {\n                        title: title,\n                        description: description,\n                        cta: cta,\n                    },\n                }).then((res) => {\n                    setIsSaving(false)\n                    if (res.status === 200) {\n                        toast.success(SAVED_SUCCESS, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                    } else {\n                        console.log(res)\n                    }\n                })\n            }\n        } else {\n            const updateOtherLangSliderImages = [...otherLangSliderImages]\n            updateOtherLangSliderImages[selectedIndex] = {\n                title: title,\n                description: description,\n                cta: cta,\n            }\n            setOtherLangSliderImages(updateOtherLangSliderImages)\n            toast.success(SAVED_SUCCESS, {\n                position: toast.POSITION.TOP_RIGHT,\n            })\n        }\n    }\n\n    const handleDeleteImage = (imageGid) => {\n        // delete image against gid\n        setIsDeleting(true)\n        Delete({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMIMG,\n            token: authToken,\n            gid: imageGid,\n            params: {\n                hotelrefno: Number(companyId),\n            },\n        }).then(async (res) => {\n            setIsDeleting(false)\n            if (res.status === 200) {\n                const sldImages = await getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID)\n                sldImages.sort((a, b) => (a.orderno > b.orderno ? 1 : -1))\n                if (sldImages) {\n                    let updatedImages = []\n                    sldImages.map((data, index) => {\n                        data.orderno = index + 1\n                        updatedImages.push(data)\n                    })\n                    let requestPassed = true\n                    for (const sldImage of sldImages) {\n                        const updatedSliderImage = patchListSliderImage(\n                            GENERAL_SETTINGS.OREST_URL,\n                            authToken,\n                            companyId,\n                            { orderno: sldImage.orderno },\n                            { hotelrefno: Number(companyId) },\n                            sldImage.gid\n                        )\n                        updatedSliderImage ? (requestPassed = true) : (requestPassed = false)\n                    }\n                    if (requestPassed) {\n                        setSliderImages(updatedImages)\n                        setSelectedIndex(null)\n                        setItemCount(updatedImages.length + 1)\n                        toast.success(DELETE_SUCCESS, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                    } else {\n                        toast.error('Something went wrong while deleting image. Please check network tab.', {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                    }\n                } else {\n                    toast.error('Something went wrong while deleting image. Please check network tab.', {\n                        position: toast.POSITION.TOP_RIGHT,\n                    })\n                }\n            } else {\n                const retErr = isErrorMsg(res)\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n                setIsDeleting(false)\n            }\n        })\n    }\n\n    const handleSelectedImage = (index, image) => {\n        if (isItemDesc) {\n            setSelectedIndex(index)\n            setImageSelected(true)\n            if (state.langCode === state.defaultLang) {\n                setImageGID(image.gid)\n                setItemDescRequest(true)\n                ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                    token: authToken,\n                    params: {\n                        query: `gid:${image.gid}`,\n                        sort: 'orderno',\n                        hotelrefno: Number(companyId),\n                    },\n                }).then((res) => {\n                    setItemDescRequest(false)\n                    if (res.status === 200) {\n                        if (res.data && res.data.data && res.data.data.length > 0) {\n                            res.data.data[0].title ? setTitle(res.data.data[0].title) : setTitle('')\n                            res.data.data[0].description\n                                ? setDescription(res.data.data[0].description)\n                                : setDescription('')\n                            res.data.data[0].cta ? setCta(res.data.data[0].cta) : setCta('')\n                            if (res.data.data[0].cta) {\n                                setIsCta(true)\n                                setCta(res.data.data[0].cta)\n                                const matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                                if (matchs?.length > 0) {\n                                    const cta_title = res.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace(matchs[0], '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .trim()\n                                    setCtaLink(matchs[0])\n                                    setCtaTitle(cta_title)\n                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                                } else {\n                                    const ctaGid = res.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .replace('\"', '')\n                                        .trim()\n                                        ?.split(' ')[0]\n                                    const cta_title = res.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace(ctaGid + '\"', '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .trim()\n                                    setCtaLink(ctaGid)\n                                    setCtaTitle(cta_title)\n                                    setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                                }\n                            } else {\n                                setIsCta(false)\n                                setCtaTitle('')\n                                setCtaLink('')\n                            }\n                        }\n                    } else {\n                        const retErr = isErrorMsg(res)\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                    }\n                })\n            } else {\n                if (otherLangSliderImages.length > 0) {\n                    setTitle(otherLangSliderImages[index].title)\n                    setDescription(otherLangSliderImages[index].description)\n                    if (otherLangSliderImages[index].cta) {\n                        setIsCta(true)\n                        setCta(otherLangSliderImages[index].cta)\n                        const matchs = otherLangSliderImages[index].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                        if (matchs.length > 0) {\n                            const cta_title = otherLangSliderImages[index].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace(matchs[0], '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .trim()\n                            setCtaLink(matchs[0])\n                            setCtaTitle(cta_title)\n                            setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                        } else {\n                            const ctaGid = otherLangSliderImages[index - 1].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .replace('\"', '')\n                                .trim()\n                                ?.split(' ')[0]\n                            const cta_title = otherLangSliderImages[index - 1].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace(ctaGid + '\"', '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .trim()\n                            setCtaLink(ctaGid)\n                            setCtaTitle(cta_title)\n                            setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                        }\n                    } else {\n                        setIsCta(false)\n                        setCtaTitle('')\n                        setCtaLink('')\n                    }\n                } else {\n                    setTitle(otherLangSliderImages?.sliderImages[index - 1]?.title)\n                    setDescription(otherLangSliderImages?.sliderImages[index - 1]?.description)\n                    if (otherLangSliderImages?.sliderImages[0]?.cta) {\n                        setLocalState((prev) => ({ ...prev, isCta: true }))\n                        const matchs = otherLangSliderImages?.sliderImages[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                        if (matchs?.length > 0) {\n                            const cta_title = otherLangSliderImages?.sliderImages[0].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace(matchs[0], '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .trim()\n                            setCtaLink(matchs[0])\n                            setCtaTitle(cta_title)\n                            setLocalState((prev) => ({ ...prev, ctaLinkType: 'external' }))\n                        } else {\n                            const ctaGid = otherLangSliderImages?.sliderImages[0].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .replace('\"', '')\n                                .trim()\n                                ?.split(' ')[0]\n                            const cta_title = otherLangSliderImages?.sliderImages[0].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace(ctaGid + '\"', '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .trim()\n                            setCtaLink(ctaGid)\n                            setCtaTitle(cta_title)\n                            setLocalState((prev) => ({ ...prev, ctaLinkType: 'internal' }))\n                        }\n                    } else {\n                        setLocalState((prev) => ({ ...prev, ctaLink: '', ctaTitle: '', isCta: false }))\n                    }\n                }\n            }\n        }\n    }\n\n    const handleResetState = () => {\n        setCta('')\n        setCtaTitle('')\n        setCtaLink('')\n        setTitle('')\n        setDescription('')\n        setIsCta(false)\n        setImageSelected(false)\n        setSelectedIndex(null)\n    }\n\n    const handleItemDescription = () => {\n        setItemDesc(!isItemDesc)\n        if (isItemDesc) {\n            setItemDescRequest(true)\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                token: authToken,\n                params: {\n                    query: `gid:${sliderGID}`,\n                    sort: 'orderno',\n                    hotelrefno: Number(companyId),\n                },\n            }).then((res) => {\n                setItemDescRequest(false)\n                if (res?.status === 200 && res?.data?.data?.length > 0) {\n                    setTitle(res.data.data[0]?.title)\n                    setDescription(res.data.data[0]?.description)\n                    if (res.data.data[0].cta) {\n                        setIsCta(true)\n                        setCta(res.data.data[0].cta)\n                        const matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                        if (matchs.length > 0) {\n                            const cta_title = res.data.data[0].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace(matchs[0], '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .trim()\n                            setCtaLink(matchs[0])\n                            setCtaTitle(cta_title)\n                        }\n                    } else {\n                        setIsCta(false)\n                        setCtaTitle('')\n                        setCtaLink('')\n                        setCta('')\n                    }\n                }\n            })\n            handleResetState()\n        } else {\n            setSelectedIndex(0)\n            setImageSelected(true)\n            if (state.langCode === state.defaultLang) {\n                setImageGID(sliderImages[0]?.gid)\n                setItemDescRequest(true)\n                ViewList({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                    token: authToken,\n                    params: {\n                        query: `gid:${sliderImages[0]?.gid}`,\n                        sort: 'orderno',\n                        hotelrefno: Number(companyId),\n                    },\n                }).then((res) => {\n                    setItemDescRequest(false)\n                    if (res.status === 200) {\n                        if (res.data && res.data.data && res.data.data.length > 0) {\n                            res.data.data[0].title ? setTitle(res.data.data[0].title) : setTitle('')\n                            res.data.data[0].description\n                                ? setDescription(res.data.data[0].description)\n                                : setDescription('')\n                            res.data.data[0].cta ? setCta(res.data.data[0].cta) : setCta('')\n                            if (res.data.data[0].cta) {\n                                setIsCta(true)\n                                setCta(res.data.data[0].cta)\n                                const matchs = res.data.data[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                                if (matchs.length > 0) {\n                                    const cta_title = res.data.data[0].cta\n                                        .replace(`<a target=\"_blank\" href=\"`, '')\n                                        .replace(matchs[0], '')\n                                        .replace('>', '')\n                                        .replace('</a>', '')\n                                        .trim()\n                                    setCtaLink(matchs[0])\n                                    setCtaTitle(cta_title)\n                                }\n                            } else {\n                                setIsCta(false)\n                                setCtaTitle('')\n                                setCtaLink('')\n                            }\n                        }\n                    } else {\n                        const retErr = isErrorMsg(res)\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                    }\n                })\n            } else {\n                if (otherLangSliderImages?.length > 0) {\n                    setTitle(otherLangSliderImages[0].title)\n                    setDescription(otherLangSliderImages[0].description)\n                    if (otherLangSliderImages[0].cta) {\n                        setIsCta(true)\n                        setCta(otherLangSliderImages[0].cta)\n                        const matchs = otherLangSliderImages[0].cta.match(/\\bhttps?:\\/\\/\\S+/gi)\n                        if (matchs.length > 0) {\n                            const cta_title = otherLangSliderImages[0].cta\n                                .replace(`<a target=\"_blank\" href=\"`, '')\n                                .replace(matchs[0], '')\n                                .replace('>', '')\n                                .replace('</a>', '')\n                                .trim()\n                            setCtaLink(matchs[0])\n                            setCtaTitle(cta_title)\n                        }\n                    } else {\n                        setIsCta(false)\n                        setCtaTitle('')\n                        setCtaLink('')\n                    }\n                }\n            }\n        }\n    }\n\n    const saveImage = (files) => {\n        setIsLoaded(false)\n        let orderNo = itemCount\n        let requests = files.map((file) => {\n            return new Promise((resolve) => {\n                asyncUpload(file, orderNo, resolve)\n                orderNo++\n            })\n        })\n        Promise.all(requests).then(async () => {\n            const sldImages = await getSliderImages(GENERAL_SETTINGS.OREST_URL, authToken, companyId, sliderID)\n            setIsLoaded(true)\n            if (sldImages) {\n                let updatedImages = []\n                sldImages.map((data) => {\n                    updatedImages.push(data)\n                })\n                setSliderImages(updatedImages)\n                setItemCount(updatedImages.length + 1)\n                toast.success(UPLOAD_SUCCESS, {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n                closeDialog()\n            } else {\n                toast.warn('Something went wrong while saving image. Please check network tab.', {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        })\n    }\n\n    function asyncUpload(file, itemTreated, callback) {\n        if (router.query.sliderOnly) {\n            if (gappID && editedSliderComponent.gid) {\n                setTimeout(() => {\n                    ViewList({\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                        token: authToken,\n                        params: {\n                            query: `gid:${editedSliderComponent.gid}`,\n                            hotelrefno: Number(companyId),\n                        },\n                    }).then((r) => {\n                        if (r.status === 200) {\n                            Insert({\n                                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                                token: authToken,\n                                data: {\n                                    itemid: gappID,\n                                    sliderid: r.data.data[0].id,\n                                    imgtype: FIELDTYPE.IMG,\n                                    orderno: itemTreated,\n                                    hotelrefno: Number(companyId),\n                                    masterid: router.query.masterid,\n                                    imgquality: quality / 100,\n                                    imgscale: quality / 100,\n                                },\n                            }).then((r1) => {\n                                if (r1.status === 200) {\n                                    ImageUpload(\n                                        GENERAL_SETTINGS.OREST_URL,\n                                        OREST_ENDPOINT.RAFILE,\n                                        authToken,\n                                        r1.data.data.mid,\n                                        file\n                                    ).then((r) => {\n                                        if (r.status === 200) {\n                                            callback()\n                                        } else {\n                                            callback()\n                                        }\n                                    })\n                                } else {\n                                    callback()\n                                }\n                            })\n                        }\n                    })\n                }, 100)\n            }\n        } else {\n            if (state.hcmItemId && editedSliderComponent.gid) {\n                setTimeout(() => {\n                    ViewList({\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                        token: authToken,\n                        params: {\n                            query: `gid:${editedSliderComponent.gid}`,\n                            hotelrefno: Number(companyId),\n                        },\n                    }).then((r) => {\n                        if (r.status === 200) {\n                            Insert({\n                                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                endpoint: OREST_ENDPOINT.HCMITEMIMG,\n                                token: authToken,\n                                data: {\n                                    itemid: state.hcmItemId,\n                                    sliderid: r.data.data[0].id,\n                                    imgtype: FIELDTYPE.IMG,\n                                    orderno: itemTreated,\n                                    hotelrefno: Number(companyId),\n                                    imgquality: quality / 100,\n                                    imgscale: quality / 100,\n                                },\n                            }).then((r1) => {\n                                if (r1.status === 200) {\n                                    ImageUpload(\n                                        GENERAL_SETTINGS.OREST_URL,\n                                        OREST_ENDPOINT.RAFILE,\n                                        authToken,\n                                        r1.data.data.mid,\n                                        file\n                                    ).then((r) => {\n                                        if (r.status === 200) {\n                                            callback()\n                                        } else {\n                                            callback()\n                                        }\n                                    })\n                                } else {\n                                    callback()\n                                }\n                            })\n                        }\n                    })\n                }, 100)\n            }\n        }\n    }\n\n    const ImageUpload = (apiUrl, endPoint, token, masterID, file) => {\n        const url = apiUrl + '/' + endPoint + OREST_UPLOAD\n        let binaryData = []\n        binaryData.push(file)\n        let formData = new FormData()\n        formData.append('file', new Blob(binaryData, { type: file.type }), file.name)\n\n        const options = {\n            url: url,\n            method: 'post',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'multipart/form-data',\n            },\n            params: {\n                orsactive: true,\n                masterid: masterID,\n                hotelrefno: companyId,\n                quality: quality / 100,\n                scale: quality / 100,\n            },\n            data: formData,\n        }\n\n        return axios(options)\n            .then((response) => {\n                return response\n            })\n            .catch((error) => {\n                return error.response || { status: 0 }\n            })\n    }\n\n    const handleUpdateOrderNo = async (gid, orderNo, orderType) => {\n        // update order no of slider images\n\n        if (orderNo <= 0 || orderNo > sliderImages.length) {\n            setSelectedIndex(null)\n            setImageSelected(false)\n        } else {\n            const tmpSliderImages = [...sliderImages]\n            if (orderType === 'increment') {\n                const tmp = tmpSliderImages[orderNo - 1]\n                tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo - 2]\n                tmpSliderImages[orderNo - 2] = tmp\n            } else {\n                const tmp = tmpSliderImages[orderNo - 1]\n                tmpSliderImages[orderNo - 1] = tmpSliderImages[orderNo]\n                tmpSliderImages[orderNo] = tmp\n            }\n            tmpSliderImages.map((data, index) => {\n                data.orderno = index + 1\n            })\n            setIsDeleting(true)\n            let requestPassed = true\n            for (const sldImage of tmpSliderImages) {\n                const updatedSliderImage = patchListSliderImage(\n                    GENERAL_SETTINGS.OREST_URL,\n                    authToken,\n                    companyId,\n                    { orderno: sldImage.orderno },\n                    { hotelrefno: Number(companyId) },\n                    sldImage.gid\n                )\n                updatedSliderImage ? (requestPassed = true) : (requestPassed = false)\n            }\n            setIsDeleting(false)\n            if (requestPassed) {\n                setSliderImages(tmpSliderImages)\n                setItemCount(sliderImages.length + 1)\n                handleResetState()\n                toast.success('Order No Updated Successfully', {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            } else {\n                toast.error('Something went wrong while updating order no. Please check network tab.', {\n                    position: toast.POSITION.TOP_RIGHT,\n                })\n            }\n        }\n    }\n\n    const handleImageQualityChange = (value) => {\n        if (value >= 10 && value <= 100 && value % 10 === 0) {\n            if (sliderImages.length) {\n                setIsLoaded(false)\n                const gids = sliderImages.map((image) => {\n                    return { gid: image.gid, imgquality: value / 100, imgscale: value / 100 }\n                })\n                UseOrest({\n                    apiUrl: GENERAL_SETTINGS.OREST_URL,\n                    endpoint: OREST_ENDPOINT.HCMITEMIMG + '/' + OREST_ENDPOINT.LIST + '/' + OREST_ENDPOINT.PATCH,\n                    token: authToken,\n                    method: REQUEST_METHOD_CONST.PATCH,\n                    data: gids,\n                    params: {\n                        hotelrefno: Number(companyId),\n                    },\n                }).then((res) => {\n                    if (res?.status === 200 && res?.data?.data) {\n                        setQuality(value)\n                        setIsLoaded(true)\n                    } else {\n                        const retErr = isErrorMsg(res)\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        })\n                    }\n                })\n            } else {\n                setQuality(value)\n            }\n        }\n    }\n\n    const handleTextEditorValue = (value) => {\n        if (dialogType === 'title') {\n            setTitle(value)\n        }\n        if (dialogType === 'description') {\n            setDescription(value)\n        }\n        setLocalState((prev) => ({ ...prev, isTextEditorDialogOpen: false, dialogType: '', editorValue: '' }))\n    }\n\n    const handleCancelEditor = () => {\n        setLocalState((prev) => ({ ...prev, isTextEditorDialogOpen: false, dialogType: '', editorValue: '' }))\n    }\n\n    const handleDialogOpen = (type) => {\n        if (type === 'title') {\n            setLocalState((prev) => ({ ...prev, isTextEditorDialogOpen: true, dialogType: type, editorValue: title }))\n        }\n        if (type === 'description') {\n            setLocalState((prev) => ({\n                ...prev,\n                isTextEditorDialogOpen: true,\n                dialogType: type,\n                editorValue: description,\n            }))\n        }\n    }\n\n    if (!isLoaded) {\n        return <LoadingSpinner style={{ color: COLORS.secondary }} />\n    }\n\n    return (\n        <React.Fragment>\n            <Grid container={true} justify={'flex-start'}>\n                <Grid item xs={router?.query?.sliderOnly ? 8 : 5}>\n                    <FormControlLabel\n                        disabled={state.langCode !== state.defaultLang && !router.query.sliderOnly}\n                        control={\n                            <Checkbox\n                                checked={isItemDesc}\n                                onChange={handleItemDescription}\n                                name=\"isitem\"\n                                color=\"primary\"\n                                disabled={sliderImages.length === 0}\n                            />\n                        }\n                        label=\"Items Description\"\n                    />\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={isOptimizeImages}\n                                onChange={() => setOptimizeImages(!isOptimizeImages)}\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Optimize Images\"\n                    />\n                    {router?.query?.sliderOnly && (\n                        <>\n                            <FormControlLabel\n                                className={classes.labelFont}\n                                control={\n                                    <Checkbox\n                                        size={'small'}\n                                        checked={isActive}\n                                        onChange={() => {\n                                            setIsActive(!isActive)\n                                            Patch({\n                                                // update slider\n                                                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                                endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                                                token: authToken,\n                                                gid: sliderGID,\n                                                params: {\n                                                    hotelrefno: Number(companyId),\n                                                },\n                                                data: {\n                                                    isactive: !isActive,\n                                                },\n                                            }).then((res) => {\n                                                if (res.status !== 200) {\n                                                    const retErr = isErrorMsg(res)\n                                                    toast.error(retErr.errorMsg, {\n                                                        position: toast.POSITION.TOP_RIGHT,\n                                                    })\n                                                }\n                                            })\n                                        }}\n                                        color=\"primary\"\n                                    />\n                                }\n                                label=\"Active\"\n                            />\n                            <FormControl size={'small'}>\n                                <InputLabel htmlFor=\"age-native-simple\">Category</InputLabel>\n                                <Select\n                                    native\n                                    name=\"cat_id\"\n                                    variant={'outlined'}\n                                    value={catId}\n                                    onChange={(e) => {\n                                        setCatId(e.target.value)\n                                        Patch({\n                                            // update slider\n                                            apiUrl: GENERAL_SETTINGS.OREST_URL,\n                                            endpoint: OREST_ENDPOINT.HCMITEMSLD,\n                                            token: authToken,\n                                            gid: sliderGID,\n                                            params: {\n                                                hotelrefno: Number(companyId),\n                                            },\n                                            data: {\n                                                catid: e.target.value,\n                                            },\n                                        }).then((res) => {\n                                            if (res.status !== 200) {\n                                                const retErr = isErrorMsg(res)\n                                                toast.error(retErr.errorMsg, {\n                                                    position: toast.POSITION.TOP_RIGHT,\n                                                })\n                                            }\n                                        })\n                                    }}\n                                >\n                                    <option style={{ display: 'none' }} value=\"\"></option>\n                                    {categories.length > 0 &&\n                                        categories.map((cat) => {\n                                            return (\n                                                <option key={cat.id} value={cat.id}>\n                                                    {cat.description}\n                                                </option>\n                                            )\n                                        })}\n                                </Select>\n                            </FormControl>\n                        </>\n                    )}\n                </Grid>\n                {!router?.query?.sliderOnly && (\n                    <Grid item xs={5}>\n                        <Grid container spacing={1}>\n                            <Grid item xs={1} style={{ marginTop: 6, marginLeft: 16 }}>\n                                <Typography component={'span'} style={{ marginLeft: -8 }}>\n                                    Text\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={2} style={{ marginTop: 8 }}>\n                                <InputColor\n                                    onChange={(color) => setTextColor(color.hex)}\n                                    placement=\"right\"\n                                    initialValue={textColor}\n                                />\n                            </Grid>\n                            <Grid item xs={2} style={{ marginTop: 6 }}>\n                                <Typography component={'span'}>Button</Typography>\n                            </Grid>\n                            <Grid item xs={3} style={{ marginTop: 8 }}>\n                                <InputColor\n                                    onChange={(color) => setButtonColor(color.hex)}\n                                    placement=\"right\"\n                                    initialValue={buttonColor}\n                                />\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                )}\n                <Grid item xs={router?.query?.sliderOnly ? 4 : 2}>\n                    {router?.query?.sliderOnly ? (\n                        <Grid container spacing={1}>\n                            <Grid item xs={1} style={{ marginTop: 6 }}>\n                                <Typography component={'span'} style={{ marginLeft: -8 }}>\n                                    Text\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={2} style={{ marginTop: 8 }}>\n                                <InputColor\n                                    onChange={(color) => setTextColor(color.hex)}\n                                    placement=\"right\"\n                                    initialValue={textColor}\n                                />\n                            </Grid>\n                            <Grid item xs={2} style={{ marginTop: 6 }}>\n                                <Typography component={'span'}>Button</Typography>\n                            </Grid>\n                            <Grid item xs={3} style={{ marginTop: 8 }}>\n                                <InputColor\n                                    onChange={(color) => setButtonColor(color.hex)}\n                                    placement=\"right\"\n                                    initialValue={buttonColor}\n                                />\n                            </Grid>\n                            <Grid item xs={4}>\n                                <Button\n                                    onClick={openDialog}\n                                    variant=\"contained\"\n                                    size=\"small\"\n                                    color=\"primary\"\n                                    aria-label=\"upload\"\n                                    className={classes.uploadButton}\n                                >\n                                    <CloudUploadIcon />\n                                    UPLOAD\n                                </Button>\n                            </Grid>\n                        </Grid>\n                    ) : (\n                        <Button\n                            onClick={openDialog}\n                            variant=\"contained\"\n                            size=\"small\"\n                            color=\"primary\"\n                            aria-label=\"upload\"\n                            className={classes.uploadButton}\n                        >\n                            <CloudUploadIcon />\n                            UPLOAD\n                        </Button>\n                    )}\n                </Grid>\n            </Grid>\n            {isOptimizeImages && (\n                <Grid container>\n                    <Grid item xs={12}>\n                        <PercentageSlider\n                            marks={PERCENTAGE_VALUES}\n                            value={quality}\n                            onChange={(e, value) => handleImageQualityChange(value)}\n                        />\n                    </Grid>\n                </Grid>\n            )}\n            <Grid container={true} justify={'flex-start'} spacing={3} className={isSaving ? classes.disableEvent : ''}>\n                <Grid\n                    item\n                    xs={5}\n                    className={\n                        otherLangSlider && 'slider' in otherLangSlider && state.langCode !== state.defaultLang\n                            ? classes.disableEvent\n                            : ''\n                    }\n                >\n                    <Paper className={classes.paperBlock}>\n                        {sliderImages.length > 0 &&\n                            sliderImages.map((image, index) => {\n                                return (\n                                    <Grid\n                                        key={index}\n                                        container\n                                        justify={'center'}\n                                        className={isDeleting ? classes.disableEvent : ''}\n                                    >\n                                        <Grid item={true}>\n                                            <Card\n                                                className={classes.card}\n                                                style={{\n                                                    border:\n                                                        index === selectedIndex\n                                                            ? '2px solid red'\n                                                            : `1px solid ${COLORS?.secondary}`,\n                                                }}\n                                            >\n                                                <div\n                                                    style={{\n                                                        backgroundImage: `url(${\n                                                            GENERAL_SETTINGS.STATIC_URL + image.fileurl\n                                                        })`,\n                                                        height: '100%',\n                                                        width: '100%',\n                                                        backgroundSize: 'cover',\n                                                        borderRadius: 5,\n                                                    }}\n                                                    onMouseEnter={() => {\n                                                        setShowDeleteBtn(true)\n                                                        setHoverIndex(index)\n                                                    }}\n                                                    onMouseLeave={() => {\n                                                        setShowDeleteBtn(false)\n                                                        setHoverIndex(index)\n                                                    }}\n                                                    onClick={() => handleSelectedImage(index, image)}\n                                                >\n                                                    {showDeleteBtn && hoverIndex === index && (\n                                                        <IconButton\n                                                            disabled={\n                                                                state.langCode !== state.defaultLang &&\n                                                                !router.query.sliderOnly\n                                                            }\n                                                            component=\"span\"\n                                                            color={'primary'}\n                                                            className={\n                                                                index === sliderImages.length - 1\n                                                                    ? classes.disableEvent\n                                                                    : ''\n                                                            }\n                                                            onClick={() =>\n                                                                handleUpdateOrderNo(\n                                                                    image.gid,\n                                                                    image.orderno + 1,\n                                                                    'increment'\n                                                                )\n                                                            }\n                                                        >\n                                                            <AddCircleIcon />\n                                                        </IconButton>\n                                                    )}\n                                                    {showDeleteBtn && hoverIndex === index && (\n                                                        <Typography component=\"span\" color={'primary'}>\n                                                            {image.orderno}\n                                                        </Typography>\n                                                    )}\n                                                    {showDeleteBtn && hoverIndex === index && (\n                                                        <IconButton\n                                                            disabled={\n                                                                state.langCode !== state.defaultLang &&\n                                                                !router.query.sliderOnly\n                                                            }\n                                                            component=\"span\"\n                                                            color={'primary'}\n                                                            className={index === 0 ? classes.disableEvent : ''}\n                                                            onClick={() =>\n                                                                handleUpdateOrderNo(\n                                                                    image.gid,\n                                                                    image.orderno - 1,\n                                                                    'decrement'\n                                                                )\n                                                            }\n                                                        >\n                                                            <RemoveCircleIcon />\n                                                        </IconButton>\n                                                    )}\n                                                    {showDeleteBtn && hoverIndex === index && (\n                                                        <IconButton\n                                                            disabled={\n                                                                state.langCode !== state.defaultLang &&\n                                                                !router.query.sliderOnly\n                                                            }\n                                                            onClick={() => handleDeleteImage(image.gid)}\n                                                            aria-label=\"upload picture\"\n                                                            component=\"span\"\n                                                            style={{ float: 'right' }}\n                                                            color={'primary'}\n                                                        >\n                                                            <CancelIcon />\n                                                        </IconButton>\n                                                    )}\n                                                </div>\n                                            </Card>\n                                        </Grid>\n                                    </Grid>\n                                )\n                            })}\n                    </Paper>\n                </Grid>\n                <Grid item xs={7} className={itemDescRequest ? classes.disableEvent : ''}>\n                    <Paper className={classes.paperBlock}>\n                        <Container>\n                            <Grid container justify={'flex-start'}>\n                                <Grid item xs={3}>\n                                    <Typography component={'h6'} variant={'h6'} className={classes.text}>\n                                        Title\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={9}>\n                                    <IconButton\n                                        aria-label=\"Edit Title\"\n                                        color=\"primary\"\n                                        onClick={() => handleDialogOpen('title')}\n                                        style={{ float: 'right' }}\n                                    >\n                                        <BorderColorSharpIcon color=\"primary\" />\n                                    </IconButton>\n                                </Grid>\n                            </Grid>\n                        </Container>\n                        <Container>\n                            <Grid container justify={'flex-start'}>\n                                <Grid item xs={3}>\n                                    <Typography component={'h6'} variant={'h6'} className={classes.text}>\n                                        Description\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={9}>\n                                    <IconButton\n                                        aria-label=\"Edit Title\"\n                                        color=\"primary\"\n                                        onClick={() => handleDialogOpen('description')}\n                                        style={{ float: 'right' }}\n                                    >\n                                        <BorderColorSharpIcon color=\"primary\" />\n                                    </IconButton>\n                                </Grid>\n                            </Grid>\n                        </Container>\n                        <Container>\n                            <Grid container justify={'flex-start'}>\n                                <Grid item xs={11}>\n                                    <Typography component={'h6'} variant={'h6'} className={classes.text}>\n                                        Do you want to add button for slider ?\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={1}>\n                                    <Typography component={'div'} style={{ marginTop: 16 }}>\n                                        <Switch\n                                            size={'small'}\n                                            checked={isCta}\n                                            onChange={() => {\n                                                setIsCta(!isCta)\n                                                setCtaTitle('')\n                                                setCtaLink('')\n                                                setCta('')\n                                            }}\n                                            inputProps={{ 'aria-label': 'secondary checkbox' }}\n                                            color={'primary'}\n                                        />\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        </Container>\n                        {isCta && (\n                            <Container>\n                                <Grid container>\n                                    <FormControl component=\"fieldset\" disabled={state?.langCode !== state?.defaultLang}>\n                                        <RadioGroup\n                                            aria-label=\"link-type\"\n                                            row\n                                            value={ctaLinkType}\n                                            onChange={(e) => {\n                                                const { value } = e?.target\n                                                setLocalState((prev) => ({\n                                                    ...prev,\n                                                    ctaLinkType: value,\n                                                    ctaLink: value === 'internal' ? pageData[0]?.code : '',\n                                                }))\n                                            }}\n                                        >\n                                            <FormControlLabel\n                                                value=\"external\"\n                                                control={<Radio color={'primary'} size={'small'} />}\n                                                label=\"External Link\"\n                                            />\n                                            <FormControlLabel\n                                                value=\"internal\"\n                                                control={<Radio color={'primary'} size={'small'} />}\n                                                label=\"Internal Link\"\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </Grid>\n                                <Grid container justify={'flex-start'} spacing={1}>\n                                    <Grid item xs={6}>\n                                        <TextField\n                                            size={'small'}\n                                            id=\"cta-title\"\n                                            variant={'outlined'}\n                                            label={'Title'}\n                                            fullWidth\n                                            value={ctaTitle}\n                                            onChange={(e) => setCtaTitle(e.target.value)}\n                                            style={{ marginTop: 8 }}\n                                            helperText={\n                                                ctaTitle && (\n                                                    <Typography\n                                                        variant=\"caption\"\n                                                        className={classes.alignText}\n                                                        display=\"block\"\n                                                    >\n                                                        {`${ctaTitle?.length} < 100`}\n                                                    </Typography>\n                                                )\n                                            }\n                                            inputProps={{ maxLength: 99 }}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={6}>\n                                        {ctaLinkType === 'external' && (\n                                            <TextField\n                                                size={'small'}\n                                                id=\"cta-link\"\n                                                variant={'outlined'}\n                                                label={'Link'}\n                                                fullWidth\n                                                value={ctaLink}\n                                                error={ctaLink ? !validator.isURL(ctaLink) : false}\n                                                onChange={(e) => setCtaLink(e.target.value)}\n                                                style={{ marginTop: 8 }}\n                                                disabled={state.langCode !== state.defaultLang}\n                                                helperText={\n                                                    ctaLink && (\n                                                        <Typography\n                                                            variant=\"caption\"\n                                                            className={classes.alignText}\n                                                            display=\"block\"\n                                                        >\n                                                            {`${ctaLink?.length} < 100`}\n                                                        </Typography>\n                                                    )\n                                                }\n                                                inputProps={{ maxLength: 99 }}\n                                            />\n                                        )}\n                                        {ctaLinkType === 'internal' && (\n                                            <FormControl\n                                                variant=\"outlined\"\n                                                size={'small'}\n                                                style={{ marginTop: 8 }}\n                                                fullWidth\n                                                disabled={state?.langCode !== state?.defaultLang}\n                                            >\n                                                <Select\n                                                    value={ctaLink}\n                                                    onChange={(e) => {\n                                                        const { value } = e?.target\n                                                        setCtaLink(value);\n                                                    }}\n                                                    label=\"Web Pages\"\n                                                >\n                                                    {pageData.map((option, index) => {\n                                                        return (\n                                                            <MenuItem value={option.code} key={index}>\n                                                                {' '}\n                                                                {option.code}{' '}\n                                                            </MenuItem>\n                                                        )\n                                                    })}\n                                                </Select>\n                                            </FormControl>\n                                        )}\n                                    </Grid>\n                                </Grid>\n                            </Container>\n                        )}\n                        <Divider style={{ marginTop: 8 }} />\n                        <Button\n                            onClick={handleUpdate}\n                            variant=\"contained\"\n                            size=\"small\"\n                            color=\"primary\"\n                            aria-label=\"add\"\n                            className={classes.submit}\n                        >\n                            SUBMIT\n                        </Button>\n                    </Paper>\n                </Grid>\n            </Grid>\n            <DropzoneDialog\n                open={isDialogOpen}\n                onSave={saveImage}\n                acceptedFiles={['image/jpeg', 'image/png', 'image/bmp']}\n                showPreviews={true}\n                maxFileSize={5000000}\n                onClose={closeDialog}\n                filesLimit={5}\n            />\n            {isTextEditorDialogOpen && (\n                <TextEditor\n                    handleSaveTextEditor={handleTextEditorValue}\n                    handleCancelTextEditor={handleCancelEditor}\n                    data={editorValue}\n                />\n            )}\n        </React.Fragment>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.pageBuilder,\n    }\n}\n\nexport default connect(mapStateToProps)(EditSlider)\n"]},"metadata":{},"sourceType":"module"}