{"ast":null,"code":"import _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/@webcms-ui/core/card-slider/card-slider-item-info-dialog.js\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useContext } from 'react';\nimport { connect } from 'react-redux';\nimport { setToState as _setToState, updateState as _updateState } from 'state/actions';\nimport axios from 'axios';\nimport Typography from '@material-ui/core/Typography';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport WebCmsGlobal from 'components/webcms-global';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport LoadingSpinner from 'components/LoadingSpinner';\nvar useStyles = makeStyles(function (theme) {\n  var _h, _sliderImgBox;\n\n  return {\n    dialogTitle: {\n      '& h2': (_h = {}, _defineProperty(_h, theme.breakpoints.only('md'), {\n        fontSize: 15\n      }), _defineProperty(_h, theme.breakpoints.only('sm'), {\n        fontSize: 14\n      }), _defineProperty(_h, theme.breakpoints.only('xs'), {\n        fontSize: 13\n      }), _h)\n    },\n    button: {\n      textAlign: 'center',\n      '& a': {\n        background: '#fffbfb',\n        padding: 10,\n        textAlign: 'center',\n        color: theme.palette.primary.main,\n        border: \"1px solid \".concat(theme.palette.primary.main),\n        fontSize: '0.875rem',\n        minWidth: 64,\n        boxSizing: 'border-box',\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        fontWeight: 500,\n        lineHeight: 1.75,\n        borderRadius: 4,\n        letterSpacing: '0.02857em',\n        textTransform: 'uppercase'\n      }\n    },\n    sliderImgBox: (_sliderImgBox = {\n      width: '100%',\n      height: 340\n    }, _defineProperty(_sliderImgBox, theme.breakpoints.only('xs'), {\n      height: 180\n    }), _defineProperty(_sliderImgBox, \"backgroundRepeat\", 'no-repeat'), _defineProperty(_sliderImgBox, \"backgroundSize\", '100% 100%'), _sliderImgBox)\n  };\n});\n\nvar FileItem = function FileItem(props) {\n  _s();\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var data = props.data;\n  return __jsx(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(CardActionArea, {\n    onClick: function onClick() {\n      return window.open(GENERAL_SETTINGS.STATIC_URL + data.fileurl);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, __jsx(CardMedia, {\n    component: \"img\",\n    alt: data && data.description,\n    height: \"140\",\n    image: data.isPreview ? GENERAL_SETTINGS.STATIC_URL + data.fileurl : '/imgs/pdf-placeholder.jpg',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }), __jsx(CardContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, __jsx(Tooltip, {\n    title: data && data.description,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, __jsx(Typography, {\n    gutterBottom: true,\n    variant: \"h6\",\n    component: \"h4\",\n    noWrap: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, data && data.description)))), __jsx(CardActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    onClick: function onClick() {\n      return window.open(GENERAL_SETTINGS.STATIC_URL + data.fileurl);\n    },\n    color: \"primary\",\n    startIcon: __jsx(VisibilityIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 32\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, t('str_preview'))));\n};\n\n_s(FileItem, \"CFRIMMC+gj08NlIkzWQC/DggJNU=\", false, function () {\n  return [useTranslation];\n});\n\n_c = FileItem;\n\nvar CardSliderItemInfoDialog = function CardSliderItemInfoDialog(props) {\n  _s2();\n\n  var state = props.state,\n      dialogData = props.dialogData,\n      open = props.open,\n      close = props.close;\n\n  var _useContext2 = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext2.GENERAL_SETTINGS,\n      locale = _useContext2.locale;\n\n  var _useTranslation2 = useTranslation(),\n      t = _useTranslation2.t;\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsloading = _useState[1];\n\n  var _useState2 = useState(false),\n      fileList = _useState2[0],\n      setFileList = _useState2[1];\n\n  var clientParams = {};\n  useEffect(function () {\n    var active = true;\n\n    if (active && open && !fileList) {\n      if (GENERAL_SETTINGS.ISCHAIN && state.changeHotelRefno !== false) {\n        clientParams.ischain = true;\n        clientParams.chainid = state.changeHotelRefno;\n        clientParams.hotelrefno = GENERAL_SETTINGS.HOTELREFNO;\n      } else {\n        clientParams.ischain = false;\n        clientParams.chainid = false;\n      }\n\n      clientParams.langcode = locale;\n      setIsloading(true);\n      axios({\n        url: GENERAL_SETTINGS.BASE_URL + 'api/hotel/content/file/list',\n        method: 'post',\n        params: Object.assign({\n          masterid: dialogData.locmid\n        }, clientParams)\n      }).then(function (fileResponse) {\n        if (active) {\n          var _fileResponse$data;\n\n          var fileListData = fileResponse === null || fileResponse === void 0 ? void 0 : (_fileResponse$data = fileResponse.data) === null || _fileResponse$data === void 0 ? void 0 : _fileResponse$data.data;\n\n          if (fileResponse.data.success && fileListData.length > 0) {\n            setFileList(fileListData);\n            setIsloading(false);\n          } else {\n            setFileList(null);\n            setIsloading(false);\n          }\n        }\n      });\n    }\n\n    return function () {\n      active = false;\n    };\n  }, [open]);\n  return __jsx(Dialog, {\n    maxWidth: \"md\",\n    open: open,\n    onClose: function onClose() {\n      return close(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, __jsx(DialogTitle, {\n    className: classes.dialogTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, dialogData && t(dialogData.localtitle), \" - \", t('str_info')), __jsx(DialogContent, {\n    dividers: true,\n    style: {\n      overflow: 'overlay'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, isLoading ? __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, __jsx(LoadingSpinner, {\n    size: 40,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  })) : fileList && fileList.length > 0 ? fileList.map(function (item, index) {\n    return __jsx(Grid, {\n      item: true,\n      xs: fileList.length === 1 ? 6 : 4,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 29\n      }\n    }, __jsx(FileItem, {\n      data: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }));\n  }) : t('str_noDefaultRecord'))), __jsx(DialogActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    onClick: function onClick() {\n      return close(false);\n    },\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, t('str_cancel'))));\n};\n\n_s2(CardSliderItemInfoDialog, \"GB5TENTxqtuqZiJaw/6wy7dhVk0=\", false, function () {\n  return [useTranslation, useStyles];\n});\n\n_c2 = CardSliderItemInfoDialog;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.formReducer.guest\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateState: function updateState(stateType, stateName, value) {\n      return dispatch(_updateState(stateType, stateName, value));\n    },\n    setToState: function setToState(stateType, stateName, value) {\n      return dispatch(_setToState(stateType, stateName, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CardSliderItemInfoDialog);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FileItem\");\n$RefreshReg$(_c2, \"CardSliderItemInfoDialog\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/@webcms-ui/core/card-slider/card-slider-item-info-dialog.js"],"names":["React","useEffect","useState","useContext","connect","setToState","updateState","axios","Typography","DialogTitle","DialogContent","DialogActions","Dialog","Button","Grid","WebCmsGlobal","useTranslation","makeStyles","Card","CardActionArea","CardActions","CardContent","CardMedia","VisibilityIcon","Tooltip","LoadingSpinner","useStyles","theme","dialogTitle","breakpoints","only","fontSize","button","textAlign","background","padding","color","palette","primary","main","border","minWidth","boxSizing","transition","fontWeight","lineHeight","borderRadius","letterSpacing","textTransform","sliderImgBox","width","height","FileItem","props","GENERAL_SETTINGS","t","data","window","open","STATIC_URL","fileurl","description","isPreview","CardSliderItemInfoDialog","state","dialogData","close","locale","classes","isLoading","setIsloading","fileList","setFileList","clientParams","active","ISCHAIN","changeHotelRefno","ischain","chainid","hotelrefno","HOTELREFNO","langcode","url","BASE_URL","method","params","Object","assign","masterid","locmid","then","fileResponse","fileListData","success","length","localtitle","overflow","map","item","index","mapStateToProps","formReducer","guest","mapDispatchToProps","dispatch","stateType","stateName","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\nimport { connect } from 'react-redux'\nimport { setToState, updateState } from 'state/actions'\nimport axios from 'axios'\nimport Typography from '@material-ui/core/Typography'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport Grid from '@material-ui/core/Grid'\nimport WebCmsGlobal from 'components/webcms-global'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport LoadingSpinner from 'components/LoadingSpinner'\n\nconst useStyles = makeStyles((theme) => ({\n    dialogTitle: {\n        '& h2': {\n            [theme.breakpoints.only('md')]: {\n                fontSize: 15,\n            },\n            [theme.breakpoints.only('sm')]: {\n                fontSize: 14,\n            },\n            [theme.breakpoints.only('xs')]: {\n                fontSize: 13,\n            },\n        },\n    },\n    button: {\n        textAlign: 'center',\n        '& a': {\n            background: '#fffbfb',\n            padding: 10,\n            textAlign: 'center',\n            color: theme.palette.primary.main,\n            border: `1px solid ${theme.palette.primary.main}`,\n            fontSize: '0.875rem',\n            minWidth: 64,\n            boxSizing: 'border-box',\n            transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n            fontWeight: 500,\n            lineHeight: 1.75,\n            borderRadius: 4,\n            letterSpacing: '0.02857em',\n            textTransform: 'uppercase'\n        },\n    },\n    sliderImgBox: {\n        width: '100%',\n        height: 340,\n        [theme.breakpoints.only('xs')]: {\n            height: 180,\n        },\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: '100% 100%',\n    },\n}))\n\nconst FileItem = (props) => {\n    const { GENERAL_SETTINGS } = useContext(WebCmsGlobal)\n    const { t } = useTranslation()\n    const { data } = props\n\n    return (\n        <Card>\n            <CardActionArea onClick={()=> window.open(GENERAL_SETTINGS.STATIC_URL + data.fileurl)}>\n                <CardMedia\n                    component=\"img\"\n                    alt={data && data.description}\n                    height=\"140\"\n                    image={data.isPreview ? GENERAL_SETTINGS.STATIC_URL + data.fileurl : '/imgs/pdf-placeholder.jpg'}\n                />\n                <CardContent>\n                    <Tooltip title={data && data.description}>\n                        <Typography gutterBottom variant=\"h6\" component=\"h4\" noWrap>\n                            {data && data.description}\n                        </Typography>\n                    </Tooltip>\n                </CardContent>\n            </CardActionArea>\n            <CardActions>\n                <Button\n                    onClick={()=> window.open(GENERAL_SETTINGS.STATIC_URL + data.fileurl)}\n                    color=\"primary\"\n                    startIcon={<VisibilityIcon />}\n                >\n                    {t('str_preview')}\n                </Button>\n            </CardActions>\n        </Card>\n    );\n}\n\nconst CardSliderItemInfoDialog = (props) => {\n    const { state, dialogData, open, close } = props\n    const { GENERAL_SETTINGS, locale } = useContext(WebCmsGlobal)\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const [isLoading, setIsloading] = useState(false)\n    const [fileList, setFileList] = useState(false)\n\n    let clientParams = {}\n\n    useEffect(() => {\n        let active = true\n        if (active && open && !fileList) {\n\n            if (GENERAL_SETTINGS.ISCHAIN && state.changeHotelRefno !== false) {\n                clientParams.ischain = true\n                clientParams.chainid = state.changeHotelRefno\n                clientParams.hotelrefno = GENERAL_SETTINGS.HOTELREFNO\n\n            } else {\n                clientParams.ischain = false\n                clientParams.chainid = false\n            }\n\n            clientParams.langcode = locale\n\n            setIsloading(true)\n            axios({\n                url: GENERAL_SETTINGS.BASE_URL + 'api/hotel/content/file/list',\n                method: 'post',\n                params:  Object.assign({\n                    masterid: dialogData.locmid,\n                }, clientParams),\n            }).then((fileResponse) => {\n                if (active) {\n                    const fileListData = fileResponse?.data?.data\n                    if (fileResponse.data.success && fileListData.length > 0) {\n                        setFileList(fileListData)\n                        setIsloading(false)\n                    } else {\n                        setFileList(null)\n                        setIsloading(false)\n                    }\n                }\n            })\n        }\n\n        return () => {\n            active = false\n        }\n    }, [open])\n\n    return (\n        <Dialog maxWidth=\"md\" open={open} onClose={() => close(false)}>\n            <DialogTitle className={classes.dialogTitle}>{dialogData && t(dialogData.localtitle)} - {t('str_info')}</DialogTitle>\n            <DialogContent dividers style={{overflow: 'overlay'}}>\n                <Grid container spacing={3}>\n                    {isLoading ?\n                        <Grid item xs={12}>\n                            <LoadingSpinner size={40} />\n                        </Grid> : fileList && fileList.length > 0 ? fileList.map((item, index) => {\n                        return (\n                            <Grid item xs={fileList.length === 1 ? 6 : 4} key={index}>\n                                <FileItem data={item}/>\n                            </Grid>\n                        )\n                    }): t('str_noDefaultRecord')}\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => close(false)} color=\"primary\">\n                    {t('str_cancel')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.guest,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CardSliderItemInfoDialog)\n"]},"metadata":{},"sourceType":"module"}