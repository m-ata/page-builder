{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/@webcms-ui/core/card-slider/card-slider-item.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport ListIcon from '@material-ui/icons/List';\nimport Rating from '@material-ui/lab/Rating';\nimport Chip from '@material-ui/core/Chip';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport CardSliderItemDialog from './card-slider-item-dialog';\nimport WebCmsGlobal from 'components/webcms-global';\nimport { SLASH, ZERO } from 'model/globals';\nimport { DEFAULT_OREST_TOKEN, getHyperlinkParser, OREST_ENDPOINT, stdTimeFormat } from 'model/orest/constants';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EventAvailableIcon from '@material-ui/icons/EventAvailable';\nimport RestaurantMenuIcon from '@material-ui/icons/RestaurantMenu';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Avatar from '@material-ui/core/Avatar';\nimport { connect, useSelector } from 'react-redux';\nimport { setToState, updateState } from 'state/actions';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport PhoneIcon from '@material-ui/icons/Phone';\nimport CardImage from '@webcms-ui/core/card-image';\nimport getSymbolFromCurrency from 'model/currency-symbol';\nimport * as global from '@webcms-globals';\nimport TodayIcon from '@material-ui/icons/Today';\nimport moment from 'moment';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport RepeatIcon from '@material-ui/icons/Repeat';\nimport CardSliderItemInfoDialog from './card-slider-item-info-dialog';\nimport LoginDialog from 'components/LoginComponent/LoginDialog';\nimport { useSnackbar } from 'notistack';\nimport RoomServiceIcon from '@material-ui/icons/RoomService';\nimport useWidth from '@webcms-ui/hooks/use-width';\nimport { useRouter } from 'next/router';\nimport ReviewDialog from \"../../../components/ReviewDialog\";\nimport { UseOrest } from \"@webcms/orest\";\nimport AlignToCenter from \"../../../components/AlignToCenter\";\nimport LoadingSpinner from \"../../../components/LoadingSpinner\";\nconst useStyles = makeStyles(theme => ({\n  title: {\n    fontSize: '1rem'\n  },\n  cardRoot: {\n    width: '100%',\n    marginBottom: 35\n  },\n  cardImage: {\n    [theme.breakpoints.down('md')]: {\n      width: '100%'\n    },\n    width: '40%',\n    float: 'left',\n    '& div:nth-child(1)': {\n      display: 'block!important'\n    }\n  },\n  cardTitle: {\n    color: '#484848',\n    fontSize: '1.2rem'\n  },\n  cardDesc: {\n    color: '#494949',\n    fontSize: '0.8rem'\n  },\n  cardContentWrap: {\n    width: '60%',\n    [theme.breakpoints.down('md')]: {\n      width: '100%'\n    },\n    float: 'left'\n  },\n  cardContent: {\n    height: 205,\n    [theme.breakpoints.down('md')]: {\n      height: 125\n    }\n  },\n  deleteIcon: {\n    cursor: 'unset'\n  },\n  cardChip: {\n    [theme.breakpoints.down('xs')]: {\n      transform: 'scale(0.9)'\n    }\n  }\n}));\n\nconst geoFormat = number => {\n  const str = String(number);\n  const $1 = str.substr(0, 2);\n  const $2 = str.substr(2, str.length);\n  const res = `${$1}.${$2}`;\n  return parseFloat(res);\n};\n\nconst CardSliderItem = props => {\n  var _sliderData$localtitl, _sliderData$localtitl2, _sliderData$localtitl3, _sliderData$localdesc;\n\n  const width = useWidth();\n  const {\n    rootCls,\n    openId,\n    sliderData,\n    type,\n    state,\n    loadPriority\n  } = props;\n  const {\n    0: openDialog,\n    1: setOpenDialog\n  } = useState(false);\n  const {\n    0: openReservation,\n    1: setOpenReservation\n  } = useState(false);\n  const {\n    0: openMenu,\n    1: setOpenMenu\n  } = useState(false);\n  const {\n    0: openInfoDialog,\n    1: setOpenInfoDialog\n  } = useState(false);\n  const {\n    0: openRoomService,\n    1: setOpenRoomService\n  } = useState(false);\n  const {\n    0: isOpenLoginDialog,\n    1: setIsOpenLoginDialog\n  } = useState(false);\n  const {\n    0: openReviewDialog,\n    1: setOpenReviewDialog\n  } = useState(false);\n  const {\n    0: reviewScore,\n    1: setReviewScore\n  } = useState(-1);\n  const {\n    0: eventResNo,\n    1: setEventResNo\n  } = useState(-1);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const router = useRouter();\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const {\n    GENERAL_SETTINGS\n  } = useContext(WebCmsGlobal);\n  const isLogin = !!useSelector(state => state.orest.currentUser && state.orest.currentUser.auth);\n  const reservBase = state.clientReservation || false;\n  const clientBase = useSelector(state => {\n    var _state$orest$state;\n\n    return (state === null || state === void 0 ? void 0 : (_state$orest$state = state.orest.state) === null || _state$orest$state === void 0 ? void 0 : _state$orest$state.client) || false;\n  });\n  const token = useSelector(state => {\n    var _state$orest, _state$orest$currentU, _state$orest$currentU2;\n\n    return (state === null || state === void 0 ? void 0 : (_state$orest = state.orest) === null || _state$orest === void 0 ? void 0 : (_state$orest$currentU = _state$orest.currentUser) === null || _state$orest$currentU === void 0 ? void 0 : (_state$orest$currentU2 = _state$orest$currentU.auth) === null || _state$orest$currentU2 === void 0 ? void 0 : _state$orest$currentU2.access_token) || false;\n  });\n  const hotelRefNo = useSelector(state => {\n    var _state$formReducer, _state$formReducer$gu, _state$hotelinfo;\n\n    return (state === null || state === void 0 ? void 0 : (_state$formReducer = state.formReducer) === null || _state$formReducer === void 0 ? void 0 : (_state$formReducer$gu = _state$formReducer.guest) === null || _state$formReducer$gu === void 0 ? void 0 : _state$formReducer$gu.changeHotelRefno) || (state === null || state === void 0 ? void 0 : (_state$hotelinfo = state.hotelinfo) === null || _state$hotelinfo === void 0 ? void 0 : _state$hotelinfo.currentHotelRefNo) || GENERAL_SETTINGS.HOTELREFNO;\n  });\n  useEffect(() => {\n    if (Number(openId) === sliderData.locid && !router.query.openMenu) {\n      handleOpenDialog();\n    } else if (Number(openId) === sliderData.locid && router.query.openMenu) {\n      handleOpenMenu();\n    }\n  }, [openId]);\n\n  const handleOpenDialog = () => {\n    if (sliderData.locismulti) {\n      router.push({\n        pathname: router.pathname,\n        query: {\n          menu: 'info',\n          catid: sliderData.locid,\n          hotelrefno: sliderData.hotelrefno\n        }\n      });\n    } else {\n      setOpenDialog(!openDialog);\n    }\n  };\n\n  const handleOpenRestaurant = () => {\n    if (!reservBase) {\n      enqueueSnackbar(t('str_yourRoomReservationIsNotAvailable'), {\n        variant: 'info'\n      });\n      return false;\n    }\n\n    if ((sliderData === null || sliderData === void 0 ? void 0 : sliderData.hotelrefno) !== reservBase.hotelrefno) {\n      enqueueSnackbar(t('str_youCanOnlyBookARestaurantAtTheHotelYouAreStayingAt'), {\n        variant: 'info'\n      });\n      return false;\n    }\n\n    if (sliderData !== null && sliderData !== void 0 && sliderData.loconlyih && (reservBase === null || reservBase === void 0 ? void 0 : reservBase.status) !== 'I') {\n      enqueueSnackbar(t('str_youMustBeInhouseTheHotelToBookARestaurant'), {\n        variant: 'info'\n      });\n      return false;\n    }\n\n    setOpenReservation(!openReservation);\n  };\n\n  const handleOpenMenu = () => {\n    setOpenMenu(!openMenu);\n  };\n\n  const handleOpenInfo = () => {\n    setOpenInfoDialog(!openInfoDialog);\n  };\n\n  const handleRoomService = () => {\n    if (reservBase.roomno) {\n      setOpenRoomService(!openRoomService);\n      setOpenReservation(!openReservation);\n    } else {\n      enqueueSnackbar(t('str_yourRoomNumberIsNotAvailableARoomNumberIsRequiredToOrder'), {\n        variant: 'info'\n      });\n    }\n  };\n\n  const handleLocation = () => {\n    if (sliderData.loclat && sliderData.loclng) {\n      window.open(`https://www.google.com.tr/maps/@${geoFormat(sliderData.loclat)},${geoFormat(sliderData.loclng)},19z`);\n    } else {\n      enqueueSnackbar(t('str_notDefined'), {\n        variant: 'info'\n      });\n    }\n  };\n\n  const handleCheckIsLogin = () => {\n    enqueueSnackbar(t('str_youMustLoginFirst'), {\n      variant: 'info'\n    });\n    setIsOpenLoginDialog(true);\n  };\n\n  let cta = false;\n\n  if (sliderData.cta) {\n    let link = getHyperlinkParser(sliderData.cta);\n\n    if (link) {\n      cta = {};\n      cta.href = link.href;\n      cta.text = link.text;\n    }\n  }\n\n  const isTelIconShow = cta => (cta === null || cta === void 0 ? void 0 : cta.href) && cta.href.startsWith(\"tel:\") || false;\n\n  let isReservation = eventloc => {\n    if (eventloc.lochasres && eventloc.isorsactive || eventloc.isspares) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  isReservation = sliderData && isReservation(sliderData);\n  const showDateStr = Boolean(!(sliderData.startdate && sliderData.enddate) && (sliderData.startdate || sliderData.enddate));\n\n  const getDescription = (str, isLong = true) => {\n    let useLength = 95,\n        useShort = 75;\n\n    if (isLong) {\n      useLength = 470;\n      useShort = 470;\n    }\n\n    if (str && str.length >= useLength) {\n      return str.substring(0, useShort) + ' ...';\n    }\n\n    return str;\n  };\n\n  const checkCanReview = async locId => {\n    if (locId) {\n      setIsLoading(true);\n      const resInfo = await findRes(locId);\n\n      if (resInfo) {\n        const resNo = resInfo.reservno;\n        const reviewInfo = await findReview(resNo);\n\n        if (!reviewInfo) {\n          setEventResNo(resNo);\n          setOpenReviewDialog(true);\n        } else {\n          enqueueSnackbar(t('str_youAreAlreadyHaveAReview'), {\n            variant: 'info'\n          });\n        }\n      } else {\n        enqueueSnackbar(t('str_reservationNotFound'), {\n          variant: 'warning'\n        });\n      }\n\n      setIsLoading(false);\n    }\n  };\n\n  const findRes = async locId => {\n    return UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.RESEVENT + SLASH + OREST_ENDPOINT.VIEW + SLASH + OREST_ENDPOINT.LOCRES + SLASH + OREST_ENDPOINT.LIST,\n      token,\n      params: {\n        limit: 1,\n        sort: 'transdate-',\n        query: `clientid:${clientBase === null || clientBase === void 0 ? void 0 : clientBase.id},eventlocid:${locId}`,\n        hotelrefno: hotelRefNo\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        return res.data.count > 0 ? res.data.data[0] : null;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  };\n\n  const findReview = async resNo => {\n    return UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: 'surevportrans/view/list',\n      token,\n      params: {\n        limit: 1,\n        query: `clientid:${clientBase === null || clientBase === void 0 ? void 0 : clientBase.id},reservno:${resNo}`,\n        hotelrefno: hotelRefNo\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        return res.data.count > 0 ? res.data.data[0] : null;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  }, __jsx(LoginDialog, {\n    open: isOpenLoginDialog,\n    onClose: status => setIsOpenLoginDialog(status),\n    locationName: \"guest\",\n    isLoginWrapper: true,\n    disableRegister: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }), __jsx(Card, {\n    className: type === 'infoOneGroup' ? classes.cardRoot : rootCls,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, __jsx(CardImage, {\n    className: type === 'infoOneGroup' ? classes.cardImage : undefined,\n    loadPriority: loadPriority || \"false\",\n    src: sliderData.imageurl ? GENERAL_SETTINGS.STATIC_URL + sliderData.imageurl : '/imgs/not-found.png',\n    alt: t(sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$localtitl = sliderData.localtitle) === null || _sliderData$localtitl === void 0 ? void 0 : _sliderData$localtitl.removeHtmlTag()),\n    layout: \"fill\",\n    cursor: \"pointer\",\n    onClick: () => handleOpenDialog(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: type === 'infoOneGroup' ? classes.cardContentWrap : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 17\n    }\n  }, __jsx(CardContent, {\n    className: type === 'infoOneGroup' ? classes.cardContent : undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 21\n    }\n  }, __jsx(Typography, {\n    noWrap: true,\n    className: type === 'infoOneGroup' ? classes.cardTitle : classes.title,\n    variant: 'button',\n    onClick: () => handleOpenDialog(),\n    style: {\n      cursor: 'pointer'\n    },\n    title: sliderData.localtitle && t(sliderData.localtitle).length >= 30 ? sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$localtitl2 = sliderData.localtitle) === null || _sliderData$localtitl2 === void 0 ? void 0 : _sliderData$localtitl2.removeHtmlTag() : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 25\n    }\n  }, t(sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$localtitl3 = sliderData.localtitle) === null || _sliderData$localtitl3 === void 0 ? void 0 : _sliderData$localtitl3.removeHtmlTag())), type === 'infoOneGroup' && __jsx(Typography, {\n    className: classes.cardDesc,\n    variant: \"caption\",\n    display: \"block\",\n    align: \"justify\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 29\n    }\n  }, getDescription(t(sliderData === null || sliderData === void 0 ? void 0 : (_sliderData$localdesc = sliderData.localdesc) === null || _sliderData$localdesc === void 0 ? void 0 : _sliderData$localdesc.removeHtmlTag()), width !== 'xs'))), type === 'event' && (sliderData.startdate || sliderData.enddate) && __jsx(CardActions, {\n    disableSpacing: true,\n    style: {\n      paddingTop: 0,\n      paddingBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 25\n    }\n  }, __jsx(Box, {\n    style: {\n      margin: '0 0 0 auto'\n    },\n    component: \"fieldset\",\n    mb: 3,\n    borderColor: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 29\n    }\n  }, sliderData !== null && sliderData !== void 0 && sliderData.hasrecurr ? __jsx(Chip, {\n    className: classes.cardChip,\n    classes: {\n      deleteIcon: classes.deleteIcon\n    },\n    onDelete: () => {\n      return;\n    },\n    deleteIcon: __jsx(Tooltip, {\n      title: t('str_recurrence'),\n      arrow: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 45\n      }\n    }, __jsx(RepeatIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 49\n      }\n    })),\n    variant: \"outlined\",\n    icon: __jsx(TodayIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 47\n      }\n    }),\n    label: `${showDateStr && sliderData.startdate && t('str_startDate') + ': ' || ''}${sliderData && sliderData.startdate && moment(sliderData.startdate, 'YYYY-MM-DD').format('DD MMMM') || ''} ${sliderData && sliderData.startdate !== null && sliderData.enddate !== null ? '/' : ''} ${showDateStr && sliderData.enddate && t('str_endDate') + ': ' || ''}${sliderData && sliderData.enddate && moment(sliderData.enddate, 'YYYY-MM-DD').format('DD MMMM') || ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 37\n    }\n  }) : __jsx(Chip, {\n    className: classes.cardChip,\n    variant: \"outlined\",\n    icon: __jsx(TodayIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 47\n      }\n    }),\n    label: `${showDateStr && sliderData.startdate && t('str_startDate') + ': ' || ''}${sliderData && sliderData.startdate && moment(sliderData.startdate, 'YYYY-MM-DD').format('DD MMMM') || ''} ${sliderData && sliderData.startdate !== null && sliderData.enddate !== null ? '/' : ''} ${showDateStr && sliderData.enddate && t('str_endDate') + ': ' || ''}${sliderData && sliderData.enddate && moment(sliderData.enddate, 'YYYY-MM-DD').format('DD MMMM') || ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 37\n    }\n  }))), __jsx(CardActions, {\n    disableSpacing: true,\n    style: {\n      minHeight: 64\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 21\n    }\n  }, cta && cta.text && cta.href ? isTelIconShow(cta) ? __jsx(Tooltip, {\n    title: t(cta.text),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 33\n    }\n  }, __jsx(IconButton, {\n    onClick: () => cta.href.includes(window.location.host) ? window.location.href = cta.href : window.open(cta.href),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 37\n    }\n  }, __jsx(PhoneIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 41\n    }\n  }))) : __jsx(Tooltip, {\n    title: t(cta.text),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 33\n    }\n  }, __jsx(IconButton, {\n    onClick: () => cta.href.includes(window.location.host) ? window.location.href = cta.href : window.open(cta.href),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 37\n    }\n  }, __jsx(ArrowForwardIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 41\n    }\n  }))) : null, isReservation ? __jsx(Tooltip, {\n    title: t('str_reservation'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 29\n    }\n  }, __jsx(IconButton, {\n    onClick: () => isLogin ? handleOpenRestaurant() : handleCheckIsLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 33\n    }\n  }, __jsx(EventAvailableIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 37\n    }\n  }))) : null, sliderData && sliderData.locdepartid && sliderData.lochasmenu && __jsx(Tooltip, {\n    title: t('str_menu'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 29\n    }\n  }, __jsx(IconButton, {\n    onClick: () => handleOpenMenu(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 33\n    }\n  }, sliderData !== null && sliderData !== void 0 && sliderData.isspares ? __jsx(ListIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 61\n    }\n  }) : __jsx(RestaurantMenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 76\n    }\n  }))), sliderData && sliderData.loclat && sliderData.loclng && __jsx(Tooltip, {\n    title: t('str_location'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 29\n    }\n  }, __jsx(IconButton, {\n    onClick: () => handleLocation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 33\n    }\n  }, __jsx(LocationOnIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 37\n    }\n  }))), sliderData.price > 0 && type === 'event' && __jsx(Tooltip, {\n    title: t(sliderData.priceinfo),\n    interactive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 29\n    }\n  }, __jsx(Chip, {\n    className: classes.cardChip,\n    variant: \"outlined\",\n    avatar: __jsx(Avatar, {\n      style: {\n        background: '#e6e6e6',\n        color: '#3c3c3c',\n        fontSize: 15\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 45\n      }\n    }, getSymbolFromCurrency(sliderData.currcode)),\n    label: global.helper.formatPrice(sliderData.price),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 33\n    }\n  })), !sliderData.isspares && !sliderData.isbanquet && sliderData.lochasmenu && sliderData.locisposmain && __jsx(Tooltip, {\n    title: t('str_order'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 29\n    }\n  }, __jsx(IconButton, {\n    onClick: () => isLogin ? handleRoomService() : handleCheckIsLogin(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 33\n    }\n  }, __jsx(RoomServiceIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 37\n    }\n  }))), sliderData.hasdoc && __jsx(Tooltip, {\n    title: t('str_info'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 29\n    }\n  }, __jsx(IconButton, {\n    onClick: () => handleOpenInfo(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 33\n    }\n  }, __jsx(InfoOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 37\n    }\n  }))), (sliderData === null || sliderData === void 0 ? void 0 : sliderData.locshowrevscore) && __jsx(Box, {\n    style: {\n      margin: '0 0 0 auto'\n    },\n    component: \"fieldset\",\n    mb: 3,\n    borderColor: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 33\n    }\n  }, (type === 'info' || type === 'infoOneGroup') && __jsx(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 41\n    }\n  }, isLoading && __jsx(AlignToCenter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 53\n    }\n  }, __jsx(LoadingSpinner, {\n    size: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 57\n    }\n  })), __jsx(Rating, {\n    disabled: isLoading,\n    \"aria-label\": sliderData.locid,\n    readOnly: !isLogin || !(sliderData !== null && sliderData !== void 0 && sliderData.islocres),\n    className: classes.cardChip,\n    name: sliderData.locid.toString(),\n    value: Number(sliderData.locrate) || ZERO,\n    precision: 0.5,\n    emptyIcon: __jsx(StarBorderIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 60\n      }\n    }),\n    onChange: (e, newValue) => {\n      setReviewScore(newValue);\n      checkCanReview(sliderData === null || sliderData === void 0 ? void 0 : sliderData.locid);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 45\n    }\n  })), type === 'event' && sliderData.starttime && __jsx(Chip, {\n    className: classes.cardChip,\n    variant: \"outlined\",\n    icon: __jsx(AccessTimeIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 51\n      }\n    }),\n    label: stdTimeFormat(sliderData.starttime),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 41\n    }\n  }))))), openRoomService || openDialog || openReservation || openMenu ? __jsx(CardSliderItemDialog, {\n    open: openDialog,\n    close: e => setOpenDialog(e),\n    type: type,\n    dialogData: sliderData,\n    isRoomService: openRoomService || false,\n    isReservation: isReservation || false,\n    openReservation: openReservation,\n    closeReservation: () => setOpenReservation(false),\n    openMenu: openMenu,\n    closeMenu: () => setOpenMenu(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 17\n    }\n  }) : null, sliderData.hasdoc && openInfoDialog ? __jsx(CardSliderItemInfoDialog, {\n    open: openInfoDialog,\n    close: e => setOpenInfoDialog(e),\n    dialogData: sliderData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 17\n    }\n  }) : null, __jsx(ReviewDialog, {\n    open: openReviewDialog,\n    onClose: () => setOpenReviewDialog(false),\n    initialValue: reviewScore,\n    params: {\n      clientid: clientBase === null || clientBase === void 0 ? void 0 : clientBase.id,\n      hotelrefno: hotelRefNo,\n      reservno: eventResNo\n    },\n    handleAfterInsert: () => {\n      setEventResNo(-1);\n      setOpenReviewDialog(false);\n      setReviewScore(-1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 13\n    }\n  }));\n};\n\nCardSliderItem.propTypes = {\n  rootCls: PropTypes.string,\n  mediaCls: PropTypes.string,\n  openId: PropTypes.number,\n  sliderData: PropTypes.object,\n  type: PropTypes.string\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.guest\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n  setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CardSliderItem);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/@webcms-ui/core/card-slider/card-slider-item.js"],"names":["React","useContext","useEffect","useState","PropTypes","Typography","Box","Card","CardContent","CardActions","IconButton","LocationOnIcon","StarBorderIcon","ListIcon","Rating","Chip","AccessTimeIcon","CardSliderItemDialog","WebCmsGlobal","SLASH","ZERO","DEFAULT_OREST_TOKEN","getHyperlinkParser","OREST_ENDPOINT","stdTimeFormat","useTranslation","makeStyles","EventAvailableIcon","RestaurantMenuIcon","Tooltip","Avatar","connect","useSelector","setToState","updateState","ArrowForwardIcon","PhoneIcon","CardImage","getSymbolFromCurrency","global","TodayIcon","moment","InfoOutlinedIcon","RepeatIcon","CardSliderItemInfoDialog","LoginDialog","useSnackbar","RoomServiceIcon","useWidth","useRouter","ReviewDialog","UseOrest","AlignToCenter","LoadingSpinner","useStyles","theme","title","fontSize","cardRoot","width","marginBottom","cardImage","breakpoints","down","float","display","cardTitle","color","cardDesc","cardContentWrap","cardContent","height","deleteIcon","cursor","cardChip","transform","geoFormat","number","str","String","$1","substr","$2","length","res","parseFloat","CardSliderItem","props","rootCls","openId","sliderData","type","state","loadPriority","openDialog","setOpenDialog","openReservation","setOpenReservation","openMenu","setOpenMenu","openInfoDialog","setOpenInfoDialog","openRoomService","setOpenRoomService","isOpenLoginDialog","setIsOpenLoginDialog","openReviewDialog","setOpenReviewDialog","reviewScore","setReviewScore","eventResNo","setEventResNo","isLoading","setIsLoading","router","classes","t","enqueueSnackbar","GENERAL_SETTINGS","isLogin","orest","currentUser","auth","reservBase","clientReservation","clientBase","client","token","access_token","hotelRefNo","formReducer","guest","changeHotelRefno","hotelinfo","currentHotelRefNo","HOTELREFNO","Number","locid","query","handleOpenDialog","handleOpenMenu","locismulti","push","pathname","menu","catid","hotelrefno","handleOpenRestaurant","variant","loconlyih","status","handleOpenInfo","handleRoomService","roomno","handleLocation","loclat","loclng","window","open","handleCheckIsLogin","cta","link","href","text","isTelIconShow","startsWith","isReservation","eventloc","lochasres","isorsactive","isspares","showDateStr","Boolean","startdate","enddate","getDescription","isLong","useLength","useShort","substring","checkCanReview","locId","resInfo","findRes","resNo","reservno","reviewInfo","findReview","apiUrl","OREST_URL","endpoint","RESEVENT","VIEW","LOCRES","LIST","params","limit","sort","id","then","data","count","catch","undefined","imageurl","STATIC_URL","localtitle","removeHtmlTag","localdesc","paddingTop","paddingBottom","margin","hasrecurr","format","minHeight","includes","location","host","locdepartid","lochasmenu","price","priceinfo","background","currcode","helper","formatPrice","isbanquet","locisposmain","hasdoc","locshowrevscore","position","islocres","toString","locrate","e","newValue","starttime","clientid","propTypes","string","mediaCls","object","mapStateToProps","mapDispatchToProps","dispatch","stateType","stateName","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,oBAAP,MAAiC,2BAAjC;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,SAAQC,KAAR,EAAeC,IAAf,QAA0B,eAA1B;AACA,SAAQC,mBAAR,EAA6BC,kBAA7B,EAAiDC,cAAjD,EAAiEC,aAAjE,QAAqF,uBAArF;AACA,OAAOC,cAAP,MAA2B,uCAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,aAArC;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,eAAxC;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,qBAAP,MAAkC,uBAAlC;AACA,OAAO,KAAKC,MAAZ,MAAwB,iBAAxB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,wBAAP,MAAqC,gCAArC;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,SAAQC,QAAR,QAAuB,eAAvB;AACA,OAAOC,aAAP,MAA0B,mCAA1B;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AAEA,MAAMC,SAAS,GAAG5B,UAAU,CAAE6B,KAAD,KAAY;AACrCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAE;AADP,GAD8B;AAIrCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KAAK,EAAE,MADC;AAENC,IAAAA,YAAY,EAAE;AAFR,GAJ2B;AAQrCC,EAAAA,SAAS,EAAE;AACP,KAACN,KAAK,CAACO,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC5BJ,MAAAA,KAAK,EAAE;AADqB,KADzB;AAIPA,IAAAA,KAAK,EAAE,KAJA;AAKPK,IAAAA,KAAK,EAAE,MALA;AAMP,0BAAsB;AAClBC,MAAAA,OAAO,EAAE;AADS;AANf,GAR0B;AAkBrCC,EAAAA,SAAS,EAAE;AACPC,IAAAA,KAAK,EAAE,SADA;AAEPV,IAAAA,QAAQ,EAAE;AAFH,GAlB0B;AAsBrCW,EAAAA,QAAQ,EAAE;AACND,IAAAA,KAAK,EAAE,SADD;AAENV,IAAAA,QAAQ,EAAE;AAFJ,GAtB2B;AA0BrCY,EAAAA,eAAe,EAAE;AACbV,IAAAA,KAAK,EAAE,KADM;AAEb,KAACJ,KAAK,CAACO,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC5BJ,MAAAA,KAAK,EAAE;AADqB,KAFnB;AAKbK,IAAAA,KAAK,EAAE;AALM,GA1BoB;AAiCrCM,EAAAA,WAAW,EAAC;AACRC,IAAAA,MAAM,EAAE,GADA;AAER,KAAChB,KAAK,CAACO,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC5BQ,MAAAA,MAAM,EAAE;AADoB;AAFxB,GAjCyB;AAuCrCC,EAAAA,UAAU,EAAE;AACRC,IAAAA,MAAM,EAAE;AADA,GAvCyB;AA0CrCC,EAAAA,QAAQ,EAAE;AACN,KAACnB,KAAK,CAACO,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC5BY,MAAAA,SAAS,EAAE;AADiB;AAD1B;AA1C2B,CAAZ,CAAD,CAA5B;;AAiDA,MAAMC,SAAS,GAAIC,MAAD,IAAY;AAC1B,QAAMC,GAAG,GAAGC,MAAM,CAACF,MAAD,CAAlB;AACA,QAAMG,EAAE,GAAGF,GAAG,CAACG,MAAJ,CAAW,CAAX,EAAc,CAAd,CAAX;AACA,QAAMC,EAAE,GAAGJ,GAAG,CAACG,MAAJ,CAAW,CAAX,EAAcH,GAAG,CAACK,MAAlB,CAAX;AACA,QAAMC,GAAG,GAAI,GAAEJ,EAAG,IAAGE,EAAG,EAAxB;AAEA,SAAOG,UAAU,CAACD,GAAD,CAAjB;AACH,CAPD;;AASA,MAAME,cAAc,GAAIC,KAAD,IAAW;AAAA;;AAC9B,QAAM5B,KAAK,GAAGX,QAAQ,EAAtB;AACA,QAAM;AAAEwC,IAAAA,OAAF;AAAWC,IAAAA,MAAX;AAAmBC,IAAAA,UAAnB;AAA+BC,IAAAA,IAA/B;AAAqCC,IAAAA,KAArC;AAA4CC,IAAAA;AAA5C,MAA6DN,KAAnE;AACA,QAAM;AAAA,OAACO,UAAD;AAAA,OAAaC;AAAb,MAA8B5F,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM;AAAA,OAAC6F,eAAD;AAAA,OAAkBC;AAAlB,MAAwC9F,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM;AAAA,OAAC+F,QAAD;AAAA,OAAWC;AAAX,MAA0BhG,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAACiG,cAAD;AAAA,OAAiBC;AAAjB,MAAsClG,QAAQ,CAAC,KAAD,CAApD;AACA,QAAM;AAAA,OAACmG,eAAD;AAAA,OAAkBC;AAAlB,MAAwCpG,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM;AAAA,OAACqG,iBAAD;AAAA,OAAoBC;AAApB,MAA4CtG,QAAQ,CAAC,KAAD,CAA1D;AACA,QAAM;AAAA,OAACuG,gBAAD;AAAA,OAAmBC;AAAnB,MAA0CxG,QAAQ,CAAC,KAAD,CAAxD;AACA,QAAM;AAAA,OAACyG,WAAD;AAAA,OAAcC;AAAd,MAAgC1G,QAAQ,CAAC,CAAC,CAAF,CAA9C;AACA,QAAM;AAAA,OAAC2G,UAAD;AAAA,OAAaC;AAAb,MAA8B5G,QAAQ,CAAC,CAAC,CAAF,CAA5C;AACA,QAAM;AAAA,OAAC6G,SAAD;AAAA,OAAYC;AAAZ,MAA4B9G,QAAQ,CAAC,KAAD,CAA1C;AAEA,QAAM+G,MAAM,GAAGjE,SAAS,EAAxB;AACA,QAAMkE,OAAO,GAAG7D,SAAS,EAAzB;AACA,QAAM;AAAE8D,IAAAA;AAAF,MAAQ3F,cAAc,EAA5B;AACA,QAAM;AAAE4F,IAAAA;AAAF,MAAsBvE,WAAW,EAAvC;AACA,QAAM;AAAEwE,IAAAA;AAAF,MAAuBrH,UAAU,CAACiB,YAAD,CAAvC;AAEA,QAAMqG,OAAO,GAAG,CAAC,CAACvF,WAAW,CAAE4D,KAAD,IAAWA,KAAK,CAAC4B,KAAN,CAAYC,WAAZ,IAA2B7B,KAAK,CAAC4B,KAAN,CAAYC,WAAZ,CAAwBC,IAA/D,CAA7B;AACA,QAAMC,UAAU,GAAG/B,KAAK,CAACgC,iBAAN,IAA2B,KAA9C;AACA,QAAMC,UAAU,GAAG7F,WAAW,CAAE4D,KAAD;AAAA;;AAAA,WAAW,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,kCAAAA,KAAK,CAAE4B,KAAP,CAAa5B,KAAb,0EAAoBkC,MAApB,KAA8B,KAAzC;AAAA,GAAD,CAA9B;AACA,QAAMC,KAAK,GAAG/F,WAAW,CAAE4D,KAAD;AAAA;;AAAA,WAAW,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,4BAAAA,KAAK,CAAE4B,KAAP,uFAAcC,WAAd,0GAA2BC,IAA3B,kFAAiCM,YAAjC,KAAiD,KAA5D;AAAA,GAAD,CAAzB;AACA,QAAMC,UAAU,GAAGjG,WAAW,CAAE4D,KAAD;AAAA;;AAAA,WAAW,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,kCAAAA,KAAK,CAAEsC,WAAP,mGAAoBC,KAApB,gFAA2BC,gBAA3B,MAA+CxC,KAA/C,aAA+CA,KAA/C,2CAA+CA,KAAK,CAAEyC,SAAtD,qDAA+C,iBAAkBC,iBAAjE,KAAsFhB,gBAAgB,CAACiB,UAAlH;AAAA,GAAD,CAA9B;AAEArI,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIsI,MAAM,CAAC/C,MAAD,CAAN,KAAmBC,UAAU,CAAC+C,KAA9B,IAAuC,CAACvB,MAAM,CAACwB,KAAP,CAAaxC,QAAzD,EAAmE;AAC/DyC,MAAAA,gBAAgB;AACnB,KAFD,MAEO,IAAIH,MAAM,CAAC/C,MAAD,CAAN,KAAmBC,UAAU,CAAC+C,KAA9B,IAAuCvB,MAAM,CAACwB,KAAP,CAAaxC,QAAxD,EAAkE;AACrE0C,MAAAA,cAAc;AACjB;AACJ,GANQ,EAMN,CAACnD,MAAD,CANM,CAAT;;AAQA,QAAMkD,gBAAgB,GAAG,MAAM;AAC3B,QAAGjD,UAAU,CAACmD,UAAd,EAAyB;AACrB3B,MAAAA,MAAM,CAAC4B,IAAP,CAAY;AACRC,QAAAA,QAAQ,EAAE7B,MAAM,CAAC6B,QADT;AAERL,QAAAA,KAAK,EAAE;AACHM,UAAAA,IAAI,EAAE,MADH;AAEHC,UAAAA,KAAK,EAAEvD,UAAU,CAAC+C,KAFf;AAGHS,UAAAA,UAAU,EAAExD,UAAU,CAACwD;AAHpB;AAFC,OAAZ;AAQH,KATD,MASK;AACDnD,MAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AACH;AACJ,GAbD;;AAeA,QAAMqD,oBAAoB,GAAG,MAAM;AAC/B,QAAG,CAACxB,UAAJ,EAAe;AACXN,MAAAA,eAAe,CAACD,CAAC,CAAC,uCAAD,CAAF,EAA6C;AAAEgC,QAAAA,OAAO,EAAE;AAAX,OAA7C,CAAf;AACA,aAAO,KAAP;AACH;;AAED,QAAG,CAAA1D,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEwD,UAAZ,MAA2BvB,UAAU,CAACuB,UAAzC,EAAoD;AAChD7B,MAAAA,eAAe,CAACD,CAAC,CAAC,wDAAD,CAAF,EAA8D;AAAEgC,QAAAA,OAAO,EAAE;AAAX,OAA9D,CAAf;AACA,aAAO,KAAP;AACH;;AAED,QAAG1D,UAAU,SAAV,IAAAA,UAAU,WAAV,IAAAA,UAAU,CAAE2D,SAAZ,IAAyB,CAAA1B,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAE2B,MAAZ,MAAuB,GAAnD,EAAuD;AACnDjC,MAAAA,eAAe,CAACD,CAAC,CAAC,+CAAD,CAAF,EAAqD;AAAEgC,QAAAA,OAAO,EAAE;AAAX,OAArD,CAAf;AACA,aAAO,KAAP;AACH;;AAEDnD,IAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAlB;AACH,GAjBD;;AAmBA,QAAM4C,cAAc,GAAG,MAAM;AACzBzC,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACH,GAFD;;AAIA,QAAMqD,cAAc,GAAG,MAAM;AACzBlD,IAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAjB;AACH,GAFD;;AAIA,QAAMoD,iBAAiB,GAAG,MAAK;AAC3B,QAAG7B,UAAU,CAAC8B,MAAd,EAAqB;AACjBlD,MAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAlB;AACAL,MAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAlB;AACH,KAHD,MAGK;AACDqB,MAAAA,eAAe,CAACD,CAAC,CAAC,8DAAD,CAAF,EAAoE;AAAEgC,QAAAA,OAAO,EAAE;AAAX,OAApE,CAAf;AACH;AACJ,GAPD;;AASA,QAAMM,cAAc,GAAG,MAAM;AACzB,QAAIhE,UAAU,CAACiE,MAAX,IAAqBjE,UAAU,CAACkE,MAApC,EAA4C;AACxCC,MAAAA,MAAM,CAACC,IAAP,CAAa,mCAAkClF,SAAS,CAACc,UAAU,CAACiE,MAAZ,CAAoB,IAAG/E,SAAS,CAACc,UAAU,CAACkE,MAAZ,CAAoB,MAA5G;AACH,KAFD,MAEO;AACHvC,MAAAA,eAAe,CAACD,CAAC,CAAC,gBAAD,CAAF,EAAsB;AAAEgC,QAAAA,OAAO,EAAE;AAAX,OAAtB,CAAf;AACH;AACJ,GAND;;AAQA,QAAMW,kBAAkB,GAAG,MAAM;AAC7B1C,IAAAA,eAAe,CAACD,CAAC,CAAC,uBAAD,CAAF,EAA6B;AAAEgC,MAAAA,OAAO,EAAE;AAAX,KAA7B,CAAf;AACA3C,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACH,GAHD;;AAKA,MAAIuD,GAAG,GAAG,KAAV;;AACA,MAAItE,UAAU,CAACsE,GAAf,EAAoB;AAChB,QAAIC,IAAI,GAAG3I,kBAAkB,CAACoE,UAAU,CAACsE,GAAZ,CAA7B;;AACA,QAAIC,IAAJ,EAAU;AACND,MAAAA,GAAG,GAAG,EAAN;AACAA,MAAAA,GAAG,CAACE,IAAJ,GAAWD,IAAI,CAACC,IAAhB;AACAF,MAAAA,GAAG,CAACG,IAAJ,GAAWF,IAAI,CAACE,IAAhB;AACH;AACJ;;AAED,QAAMC,aAAa,GAAIJ,GAAD,IAAS,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEE,IAAL,KAAaF,GAAG,CAACE,IAAJ,CAASG,UAAT,CAAoB,MAApB,CAAb,IAA4C,KAA3E;;AAEA,MAAIC,aAAa,GAAIC,QAAD,IAAc;AAC9B,QAAIA,QAAQ,CAACC,SAAT,IAAsBD,QAAQ,CAACE,WAA/B,IAA8CF,QAAQ,CAACG,QAA3D,EAAqE;AACjE,aAAO,IAAP;AACH,KAFD,MAEO;AACH,aAAO,KAAP;AACH;AACJ,GAND;;AAQAJ,EAAAA,aAAa,GAAG5E,UAAU,IAAI4E,aAAa,CAAC5E,UAAD,CAA3C;AACA,QAAMiF,WAAW,GAAGC,OAAO,CAAC,EAAElF,UAAU,CAACmF,SAAX,IAAwBnF,UAAU,CAACoF,OAArC,MAAkDpF,UAAU,CAACmF,SAAX,IAAwBnF,UAAU,CAACoF,OAArF,CAAD,CAA3B;;AAEA,QAAMC,cAAc,GAAG,CAACjG,GAAD,EAAMkG,MAAM,GAAG,IAAf,KAAwB;AAC3C,QAAIC,SAAS,GAAG,EAAhB;AAAA,QAAoBC,QAAQ,GAAG,EAA/B;;AACA,QAAGF,MAAH,EAAU;AACNC,MAAAA,SAAS,GAAG,GAAZ;AACAC,MAAAA,QAAQ,GAAG,GAAX;AACH;;AAED,QAAIpG,GAAG,IAAIA,GAAG,CAACK,MAAJ,IAAc8F,SAAzB,EAAoC;AAChC,aAAOnG,GAAG,CAACqG,SAAJ,CAAc,CAAd,EAAiBD,QAAjB,IAA6B,MAApC;AACH;;AACD,WAAOpG,GAAP;AACH,GAXD;;AAaA,QAAMsG,cAAc,GAAG,MAAOC,KAAP,IAAiB;AACpC,QAAGA,KAAH,EAAU;AACNpE,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,YAAMqE,OAAO,GAAG,MAAMC,OAAO,CAACF,KAAD,CAA7B;;AACA,UAAGC,OAAH,EAAY;AACR,cAAME,KAAK,GAAGF,OAAO,CAACG,QAAtB;AACA,cAAMC,UAAU,GAAG,MAAMC,UAAU,CAACH,KAAD,CAAnC;;AACA,YAAG,CAACE,UAAJ,EAAgB;AACZ3E,UAAAA,aAAa,CAACyE,KAAD,CAAb;AACA7E,UAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACH,SAHD,MAGO;AACHU,UAAAA,eAAe,CAACD,CAAC,CAAC,8BAAD,CAAF,EAAoC;AAACgC,YAAAA,OAAO,EAAE;AAAV,WAApC,CAAf;AACH;AAEJ,OAVD,MAUO;AACH/B,QAAAA,eAAe,CAACD,CAAC,CAAC,yBAAD,CAAF,EAA+B;AAACgC,UAAAA,OAAO,EAAE;AAAV,SAA/B,CAAf;AACH;;AACLnC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACC;AAEJ,GApBD;;AAsBA,QAAMsE,OAAO,GAAG,MAAOF,KAAP,IAAiB;AAC7B,WAAOlI,QAAQ,CAAC;AACZyI,MAAAA,MAAM,EAAEtE,gBAAgB,CAACuE,SADb;AAEZC,MAAAA,QAAQ,EAAEvK,cAAc,CAACwK,QAAf,GAA0B5K,KAA1B,GAAkCI,cAAc,CAACyK,IAAjD,GAAwD7K,KAAxD,GAAgEI,cAAc,CAAC0K,MAA/E,GAAwF9K,KAAxF,GAAgGI,cAAc,CAAC2K,IAF7G;AAGZnE,MAAAA,KAHY;AAIZoE,MAAAA,MAAM,EAAE;AACJC,QAAAA,KAAK,EAAE,CADH;AAEJC,QAAAA,IAAI,EAAE,YAFF;AAGJ3D,QAAAA,KAAK,EAAG,YAAWb,UAAZ,aAAYA,UAAZ,uBAAYA,UAAU,CAAEyE,EAAG,eAAcjB,KAAM,EAHlD;AAIJnC,QAAAA,UAAU,EAAEjB;AAJR;AAJI,KAAD,CAAR,CAUJsE,IAVI,CAUEnH,GAAD,IAAS;AACb,UAAGA,GAAG,CAACkE,MAAJ,KAAe,GAAlB,EAAuB;AACnB,eAAOlE,GAAG,CAACoH,IAAJ,CAASC,KAAT,GAAiB,CAAjB,GAAqBrH,GAAG,CAACoH,IAAJ,CAASA,IAAT,CAAc,CAAd,CAArB,GAAwC,IAA/C;AACH,OAFD,MAEO;AACH,eAAO,KAAP;AACH;AACJ,KAhBM,EAgBJE,KAhBI,CAgBE,MAAM;AACX,aAAO,KAAP;AACH,KAlBM,CAAP;AAmBH,GApBD;;AAsBA,QAAMf,UAAU,GAAG,MAAOH,KAAP,IAAiB;AAChC,WAAOrI,QAAQ,CAAC;AACZyI,MAAAA,MAAM,EAAEtE,gBAAgB,CAACuE,SADb;AAEZC,MAAAA,QAAQ,EAAE,yBAFE;AAGZ/D,MAAAA,KAHY;AAIZoE,MAAAA,MAAM,EAAE;AACJC,QAAAA,KAAK,EAAE,CADH;AAEJ1D,QAAAA,KAAK,EAAG,YAAWb,UAAZ,aAAYA,UAAZ,uBAAYA,UAAU,CAAEyE,EAAG,aAAYd,KAAM,EAFhD;AAGJtC,QAAAA,UAAU,EAAEjB;AAHR;AAJI,KAAD,CAAR,CASJsE,IATI,CASEnH,GAAD,IAAS;AACb,UAAGA,GAAG,CAACkE,MAAJ,KAAe,GAAlB,EAAuB;AAClB,eAAOlE,GAAG,CAACoH,IAAJ,CAASC,KAAT,GAAiB,CAAjB,GAAqBrH,GAAG,CAACoH,IAAJ,CAASA,IAAT,CAAc,CAAd,CAArB,GAAwC,IAA/C;AACJ,OAFD,MAEO;AACH,eAAO,KAAP;AACH;AACJ,KAfM,EAeJE,KAfI,CAeE,MAAM;AACX,aAAO,KAAP;AACH,KAjBM,CAAP;AAkBH,GAnBD;;AAqBA,SACI,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AAAa,IAAA,IAAI,EAAElG,iBAAnB;AAAsC,IAAA,OAAO,EAAG8C,MAAD,IAAY7C,oBAAoB,CAAC6C,MAAD,CAA/E;AAAyF,IAAA,YAAY,EAAC,OAAtG;AAA8G,IAAA,cAAc,MAA5H;AAA6H,IAAA,eAAe,MAA5I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,IAAD;AAAM,IAAA,SAAS,EAAE3D,IAAI,KAAK,cAAT,GAA0BwB,OAAO,CAACzD,QAAlC,GAA6C8B,OAA9D;AAAuE,IAAA,OAAO,EAAC,UAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,SAAD;AACI,IAAA,SAAS,EAAEG,IAAI,KAAK,cAAT,GAA0BwB,OAAO,CAACtD,SAAlC,GAA8C8I,SAD7D;AAEI,IAAA,YAAY,EAAE9G,YAAY,IAAI,OAFlC;AAGI,IAAA,GAAG,EAAEH,UAAU,CAACkH,QAAX,GAAsBtF,gBAAgB,CAACuF,UAAjB,GAA8BnH,UAAU,CAACkH,QAA/D,GAA0E,qBAHnF;AAII,IAAA,GAAG,EAAExF,CAAC,CAAC1B,UAAD,aAACA,UAAD,gDAACA,UAAU,CAAEoH,UAAb,0DAAC,sBAAwBC,aAAxB,EAAD,CAJV;AAKI,IAAA,MAAM,EAAC,MALX;AAMI,IAAA,MAAM,EAAC,SANX;AAOI,IAAA,OAAO,EAAE,MAAMpE,gBAAgB,EAPnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAUI;AAAK,IAAA,SAAS,EAAEhD,IAAI,KAAK,cAAT,GAA0BwB,OAAO,CAAC9C,eAAlC,GAAoDsI,SAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,WAAD;AAAa,IAAA,SAAS,EAAEhH,IAAI,KAAK,cAAT,GAA0BwB,OAAO,CAAC7C,WAAlC,GAAgDqI,SAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AACI,IAAA,MAAM,EAAE,IADZ;AAEI,IAAA,SAAS,EAAEhH,IAAI,KAAK,cAAT,GAA0BwB,OAAO,CAACjD,SAAlC,GAA8CiD,OAAO,CAAC3D,KAFrE;AAGI,IAAA,OAAO,EAAE,QAHb;AAII,IAAA,OAAO,EAAE,MAAMmF,gBAAgB,EAJnC;AAKI,IAAA,KAAK,EAAE;AAAElE,MAAAA,MAAM,EAAE;AAAV,KALX;AAMI,IAAA,KAAK,EAAEiB,UAAU,CAACoH,UAAX,IAAyB1F,CAAC,CAAC1B,UAAU,CAACoH,UAAZ,CAAD,CAAyB3H,MAAzB,IAAmC,EAA5D,GAAiEO,UAAjE,aAAiEA,UAAjE,iDAAiEA,UAAU,CAAEoH,UAA7E,2DAAiE,uBAAwBC,aAAxB,EAAjE,GAA2G,EANtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQK3F,CAAC,CAAC1B,UAAD,aAACA,UAAD,iDAACA,UAAU,CAAEoH,UAAb,2DAAC,uBAAwBC,aAAxB,EAAD,CARN,CADJ,EAWKpH,IAAI,KAAK,cAAT,IACG,MAAC,UAAD;AAAY,IAAA,SAAS,EAAEwB,OAAO,CAAC/C,QAA/B;AAAyC,IAAA,OAAO,EAAC,SAAjD;AAA2D,IAAA,OAAO,EAAC,OAAnE;AAA2E,IAAA,KAAK,EAAC,SAAjF;AAA2F,IAAA,YAAY,MAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK2G,cAAc,CAAC3D,CAAC,CAAC1B,UAAD,aAACA,UAAD,gDAACA,UAAU,CAAEsH,SAAb,0DAAC,sBAAuBD,aAAvB,EAAD,CAAF,EAA6CpJ,KAAK,KAAK,IAAvD,CADnB,CAZR,CADJ,EAkBKgC,IAAI,KAAK,OAAT,KAAqBD,UAAU,CAACmF,SAAX,IAAwBnF,UAAU,CAACoF,OAAxD,KACG,MAAC,WAAD;AAAa,IAAA,cAAc,MAA3B;AAA4B,IAAA,KAAK,EAAE;AAAEmC,MAAAA,UAAU,EAAC,CAAb;AAAgBC,MAAAA,aAAa,EAAE;AAA/B,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,GAAD;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAZ;AAAsC,IAAA,SAAS,EAAC,UAAhD;AAA2D,IAAA,EAAE,EAAE,CAA/D;AAAkE,IAAA,WAAW,EAAC,aAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKzH,UAAU,SAAV,IAAAA,UAAU,WAAV,IAAAA,UAAU,CAAE0H,SAAZ,GACG,MAAC,IAAD;AACI,IAAA,SAAS,EAAEjG,OAAO,CAACzC,QADvB;AAEI,IAAA,OAAO,EAAE;AAAEF,MAAAA,UAAU,EAAE2C,OAAO,CAAC3C;AAAtB,KAFb;AAGI,IAAA,QAAQ,EAAE,MAAK;AAAE;AAAS,KAH9B;AAII,IAAA,UAAU,EACN,MAAC,OAAD;AAAS,MAAA,KAAK,EAAE4C,CAAC,CAAC,gBAAD,CAAjB;AAAqC,MAAA,KAAK,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALR;AASI,IAAA,OAAO,EAAC,UATZ;AAUI,IAAA,IAAI,EAAE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVV;AAWI,IAAA,KAAK,EAAG,GAAGuD,WAAW,IAAIjF,UAAU,CAACmF,SAA3B,IAAyCzD,CAAC,CAAC,eAAD,CAAD,GAAqB,IAA9D,IAAsE,EAAG,GAAE1B,UAAU,IAAIA,UAAU,CAACmF,SAAzB,IAAsCpI,MAAM,CAACiD,UAAU,CAACmF,SAAZ,EAAuB,YAAvB,CAAN,CAA2CwC,MAA3C,CAAkD,SAAlD,CAAtC,IAAsG,EAAG,IAAI3H,UAAU,IAAIA,UAAU,CAACmF,SAAX,KAAyB,IAAvC,IAA+CnF,UAAU,CAACoF,OAAX,KAAuB,IAAvE,GAA+E,GAA/E,GAAqF,EAAG,IAAIH,WAAW,IAAIjF,UAAU,CAACoF,OAA3B,IAAuC1D,CAAC,CAAC,aAAD,CAAD,GAAmB,IAA1D,IAAkE,EAAG,GAAE1B,UAAU,IAAIA,UAAU,CAACoF,OAAzB,IAAoCrI,MAAM,CAACiD,UAAU,CAACoF,OAAZ,EAAqB,YAArB,CAAN,CAAyCuC,MAAzC,CAAgD,SAAhD,CAApC,IAAkG,EAAG,EAX5c;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,GAeG,MAAC,IAAD;AACI,IAAA,SAAS,EAAElG,OAAO,CAACzC,QADvB;AAEI,IAAA,OAAO,EAAC,UAFZ;AAGI,IAAA,IAAI,EAAE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHV;AAII,IAAA,KAAK,EAAG,GAAGiG,WAAW,IAAIjF,UAAU,CAACmF,SAA3B,IAAyCzD,CAAC,CAAC,eAAD,CAAD,GAAqB,IAA9D,IAAsE,EAAG,GAAE1B,UAAU,IAAIA,UAAU,CAACmF,SAAzB,IAAsCpI,MAAM,CAACiD,UAAU,CAACmF,SAAZ,EAAuB,YAAvB,CAAN,CAA2CwC,MAA3C,CAAkD,SAAlD,CAAtC,IAAsG,EAAG,IAAI3H,UAAU,IAAIA,UAAU,CAACmF,SAAX,KAAyB,IAAvC,IAA+CnF,UAAU,CAACoF,OAAX,KAAuB,IAAvE,GAA+E,GAA/E,GAAqF,EAAG,IAAIH,WAAW,IAAIjF,UAAU,CAACoF,OAA3B,IAAuC1D,CAAC,CAAC,aAAD,CAAD,GAAmB,IAA1D,IAAkE,EAAG,GAAE1B,UAAU,IAAIA,UAAU,CAACoF,OAAzB,IAAoCrI,MAAM,CAACiD,UAAU,CAACoF,OAAZ,EAAqB,YAArB,CAAN,CAAyCuC,MAAzC,CAAgD,SAAhD,CAApC,IAAkG,EAAG,EAJ5c;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBR,CADJ,CAnBR,EA8CI,MAAC,WAAD;AAAa,IAAA,cAAc,MAA3B;AAA4B,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMtD,GAAG,IAAIA,GAAG,CAACG,IAAX,IAAmBH,GAAG,CAACE,IAAxB,GACIE,aAAa,CAACJ,GAAD,CAAd,GACI,MAAC,OAAD;AAAS,IAAA,KAAK,EAAE5C,CAAC,CAAC4C,GAAG,CAACG,IAAL,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMH,GAAG,CAACE,IAAJ,CAASqD,QAAT,CAAkB1D,MAAM,CAAC2D,QAAP,CAAgBC,IAAlC,IAA0C5D,MAAM,CAAC2D,QAAP,CAAgBtD,IAAhB,GAAuBF,GAAG,CAACE,IAArE,GAA4EL,MAAM,CAACC,IAAP,CAAYE,GAAG,CAACE,IAAhB,CAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADJ,GAOI,MAAC,OAAD;AAAS,IAAA,KAAK,EAAE9C,CAAC,CAAC4C,GAAG,CAACG,IAAL,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMH,GAAG,CAACE,IAAJ,CAASqD,QAAT,CAAkB1D,MAAM,CAAC2D,QAAP,CAAgBC,IAAlC,IAA0C5D,MAAM,CAAC2D,QAAP,CAAgBtD,IAAhB,GAAuBF,GAAG,CAACE,IAArE,GAA4EL,MAAM,CAACC,IAAP,CAAYE,GAAG,CAACE,IAAhB,CAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CARP,GAcG,IAfR,EAgBMI,aAAD,GACG,MAAC,OAAD;AAAS,IAAA,KAAK,EAAElD,CAAC,CAAC,iBAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMG,OAAO,GAAG4B,oBAAoB,EAAvB,GAA4BY,kBAAkB,EAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CADH,GAME,IAtBP,EAuBMrE,UAAU,IAAIA,UAAU,CAACgI,WAAzB,IAAwChI,UAAU,CAACiI,UAApD,IACG,MAAC,OAAD;AAAS,IAAA,KAAK,EAAEvG,CAAC,CAAC,UAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMwB,cAAc,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlD,UAAU,SAAV,IAAAA,UAAU,WAAV,IAAAA,UAAU,CAAEgF,QAAZ,GAAuB,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvB,GAAsC,MAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD3C,CADJ,CAxBR,EA8BMhF,UAAU,IAAIA,UAAU,CAACiE,MAAzB,IAAmCjE,UAAU,CAACkE,MAA/C,IACG,MAAC,OAAD;AAAS,IAAA,KAAK,EAAExC,CAAC,CAAC,cAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMsC,cAAc,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CA/BR,EAqCMhE,UAAU,CAACkI,KAAX,GAAmB,CAAnB,IAAwBjI,IAAI,KAAK,OAAlC,IACG,MAAC,OAAD;AAAS,IAAA,KAAK,EAAEyB,CAAC,CAAC1B,UAAU,CAACmI,SAAZ,CAAjB;AAAyC,IAAA,WAAW,MAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AACI,IAAA,SAAS,EAAE1G,OAAO,CAACzC,QADvB;AAEI,IAAA,OAAO,EAAC,UAFZ;AAGI,IAAA,MAAM,EAAE,MAAC,MAAD;AAAQ,MAAA,KAAK,EAAE;AAAEoJ,QAAAA,UAAU,EAAE,SAAd;AAAyB3J,QAAAA,KAAK,EAAE,SAAhC;AAA2CV,QAAAA,QAAQ,EAAE;AAArD,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2EnB,qBAAqB,CAACoD,UAAU,CAACqI,QAAZ,CAAhG,CAHZ;AAII,IAAA,KAAK,EAAExL,MAAM,CAACyL,MAAP,CAAcC,WAAd,CAA0BvI,UAAU,CAACkI,KAArC,CAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAtCR,EA+CK,CAAClI,UAAU,CAACgF,QAAZ,IAAwB,CAAChF,UAAU,CAACwI,SAApC,IAAiDxI,UAAU,CAACiI,UAA5D,IAA0EjI,UAAU,CAACyI,YAArF,IACG,MAAC,OAAD;AAAS,IAAA,KAAK,EAAE/G,CAAC,CAAC,WAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMG,OAAO,GAAGiC,iBAAiB,EAApB,GAAyBO,kBAAkB,EAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAhDR,EAsDKrE,UAAU,CAAC0I,MAAX,IACG,MAAC,OAAD;AAAS,IAAA,KAAK,EAAEhH,CAAC,CAAC,UAAD,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAMmC,cAAc,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAvDR,EA8DQ,CAAA7D,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAE2I,eAAZ,KACI,MAAC,GAAD;AAAK,IAAA,KAAK,EAAE;AAAElB,MAAAA,MAAM,EAAE;AAAV,KAAZ;AAAsC,IAAA,SAAS,EAAC,UAAhD;AAA2D,IAAA,EAAE,EAAE,CAA/D;AAAkE,IAAA,WAAW,EAAC,aAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAACxH,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,cAA7B,KACG;AAAK,IAAA,KAAK,EAAE;AAAC2I,MAAAA,QAAQ,EAAE;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQtH,SAAS,IACL,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AAAgB,IAAA,IAAI,EAAE,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAHZ,EAQI,MAAC,MAAD;AACI,IAAA,QAAQ,EAAEA,SADd;AAEI,kBAAYtB,UAAU,CAAC+C,KAF3B;AAGI,IAAA,QAAQ,EAAE,CAAClB,OAAD,IAAY,EAAC7B,UAAD,aAACA,UAAD,eAACA,UAAU,CAAE6I,QAAb,CAH1B;AAII,IAAA,SAAS,EAAEpH,OAAO,CAACzC,QAJvB;AAKI,IAAA,IAAI,EAAEgB,UAAU,CAAC+C,KAAX,CAAiB+F,QAAjB,EALV;AAMI,IAAA,KAAK,EAAEhG,MAAM,CAAC9C,UAAU,CAAC+I,OAAZ,CAAN,IAA8BrN,IANzC;AAOI,IAAA,SAAS,EAAE,GAPf;AAQI,IAAA,SAAS,EAAE,MAAC,cAAD;AAAgB,MAAA,QAAQ,EAAC,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARf;AASI,IAAA,QAAQ,EAAE,CAACsN,CAAD,EAAIC,QAAJ,KAAiB;AACvB9H,MAAAA,cAAc,CAAC8H,QAAD,CAAd;AACAvD,MAAAA,cAAc,CAAC1F,UAAD,aAACA,UAAD,uBAACA,UAAU,CAAE+C,KAAb,CAAd;AACH,KAZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,CAFR,EA2BM9C,IAAI,KAAK,OAAT,IAAoBD,UAAU,CAACkJ,SAAhC,IACG,MAAC,IAAD;AACI,IAAA,SAAS,EAAEzH,OAAO,CAACzC,QADvB;AAEI,IAAA,OAAO,EAAC,UAFZ;AAGI,IAAA,IAAI,EAAE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHV;AAII,IAAA,KAAK,EAAElD,aAAa,CAACkE,UAAU,CAACkJ,SAAZ,CAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BR,CA/DZ,CA9CJ,CAVJ,CAFJ,EAkKMtI,eAAe,IAAIR,UAAnB,IAAiCE,eAAjC,IAAoDE,QAArD,GACG,MAAC,oBAAD;AACI,IAAA,IAAI,EAAEJ,UADV;AAEI,IAAA,KAAK,EAAG4I,CAAD,IAAO3I,aAAa,CAAC2I,CAAD,CAF/B;AAGI,IAAA,IAAI,EAAE/I,IAHV;AAII,IAAA,UAAU,EAAED,UAJhB;AAKI,IAAA,aAAa,EAAEY,eAAe,IAAI,KALtC;AAMI,IAAA,aAAa,EAAEgE,aAAa,IAAI,KANpC;AAOI,IAAA,eAAe,EAAEtE,eAPrB;AAQI,IAAA,gBAAgB,EAAE,MAAMC,kBAAkB,CAAC,KAAD,CAR9C;AASI,IAAA,QAAQ,EAAEC,QATd;AAUI,IAAA,SAAS,EAAE,MAAMC,WAAW,CAAC,KAAD,CAVhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,GAcE,IAhLP,EAiLMT,UAAU,CAAC0I,MAAX,IAAqBhI,cAAtB,GACG,MAAC,wBAAD;AACI,IAAA,IAAI,EAAEA,cADV;AAEI,IAAA,KAAK,EAAGsI,CAAD,IAAMrI,iBAAiB,CAACqI,CAAD,CAFlC;AAGI,IAAA,UAAU,EAAEhJ,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,GAME,IAvLP,EAwLI,MAAC,YAAD;AACI,IAAA,IAAI,EAAEgB,gBADV;AAEI,IAAA,OAAO,EAAE,MAAMC,mBAAmB,CAAC,KAAD,CAFtC;AAGI,IAAA,YAAY,EAAEC,WAHlB;AAII,IAAA,MAAM,EAAE;AACJiI,MAAAA,QAAQ,EAAEhH,UAAF,aAAEA,UAAF,uBAAEA,UAAU,CAAEyE,EADlB;AAEJpD,MAAAA,UAAU,EAAEjB,UAFR;AAGJwD,MAAAA,QAAQ,EAAE3E;AAHN,KAJZ;AASI,IAAA,iBAAiB,EAAE,MAAM;AACrBC,MAAAA,aAAa,CAAC,CAAC,CAAF,CAAb;AACAJ,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAE,MAAAA,cAAc,CAAC,CAAC,CAAF,CAAd;AACH,KAbL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxLJ,CADJ;AA0MH,CAjZD;;AAmZAvB,cAAc,CAACwJ,SAAf,GAA2B;AACvBtJ,EAAAA,OAAO,EAAEpF,SAAS,CAAC2O,MADI;AAEvBC,EAAAA,QAAQ,EAAE5O,SAAS,CAAC2O,MAFG;AAGvBtJ,EAAAA,MAAM,EAAErF,SAAS,CAACyE,MAHK;AAIvBa,EAAAA,UAAU,EAAEtF,SAAS,CAAC6O,MAJC;AAKvBtJ,EAAAA,IAAI,EAAEvF,SAAS,CAAC2O;AALO,CAA3B;;AAQA,MAAMG,eAAe,GAAItJ,KAAD,IAAW;AAC/B,SAAO;AACHA,IAAAA,KAAK,EAAEA,KAAK,CAACsC,WAAN,CAAkBC;AADtB,GAAP;AAGH,CAJD;;AAMA,MAAMgH,kBAAkB,GAAIC,QAAD,KAAe;AACtClN,EAAAA,WAAW,EAAE,CAACmN,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,KAAiCH,QAAQ,CAAClN,WAAW,CAACmN,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,CAAZ,CADhB;AAEtCtN,EAAAA,UAAU,EAAE,CAACoN,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,KAAiCH,QAAQ,CAACnN,UAAU,CAACoN,SAAD,EAAYC,SAAZ,EAAuBC,KAAvB,CAAX;AAFf,CAAf,CAA3B;;AAKA,eAAexN,OAAO,CAACmN,eAAD,EAAkBC,kBAAlB,CAAP,CAA6C7J,cAA7C,CAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport IconButton from '@material-ui/core/IconButton'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\nimport ListIcon from '@material-ui/icons/List';\nimport Rating from '@material-ui/lab/Rating'\nimport Chip from '@material-ui/core/Chip'\nimport AccessTimeIcon from '@material-ui/icons/AccessTime'\nimport CardSliderItemDialog from './card-slider-item-dialog'\nimport WebCmsGlobal from 'components/webcms-global'\nimport {SLASH, ZERO} from 'model/globals'\nimport {DEFAULT_OREST_TOKEN, getHyperlinkParser, OREST_ENDPOINT, stdTimeFormat} from 'model/orest/constants'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport { makeStyles } from '@material-ui/core/styles'\nimport EventAvailableIcon from '@material-ui/icons/EventAvailable'\nimport RestaurantMenuIcon from '@material-ui/icons/RestaurantMenu'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Avatar from '@material-ui/core/Avatar'\nimport { connect, useSelector } from 'react-redux'\nimport { setToState, updateState } from 'state/actions'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\nimport PhoneIcon from '@material-ui/icons/Phone'\nimport CardImage from '@webcms-ui/core/card-image'\nimport getSymbolFromCurrency from 'model/currency-symbol'\nimport * as global from '@webcms-globals'\nimport TodayIcon from '@material-ui/icons/Today'\nimport moment from 'moment'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport CardSliderItemInfoDialog from './card-slider-item-info-dialog'\nimport LoginDialog from 'components/LoginComponent/LoginDialog'\nimport { useSnackbar } from 'notistack'\nimport RoomServiceIcon from '@material-ui/icons/RoomService'\nimport useWidth from '@webcms-ui/hooks/use-width'\nimport { useRouter } from 'next/router'\nimport ReviewDialog from \"../../../components/ReviewDialog\";\nimport {UseOrest} from \"@webcms/orest\";\nimport AlignToCenter from \"../../../components/AlignToCenter\";\nimport LoadingSpinner from \"../../../components/LoadingSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        fontSize: '1rem',\n    },\n    cardRoot: {\n      width: '100%',\n        marginBottom: 35\n    },\n    cardImage: {\n        [theme.breakpoints.down('md')]: {\n            width: '100%',\n        },\n        width: '40%',\n        float: 'left',\n        '& div:nth-child(1)': {\n            display: 'block!important'\n        }\n    },\n    cardTitle: {\n        color: '#484848',\n        fontSize: '1.2rem',\n    },\n    cardDesc: {\n        color: '#494949',\n        fontSize: '0.8rem',\n    },\n    cardContentWrap: {\n        width: '60%',\n        [theme.breakpoints.down('md')]: {\n            width: '100%',\n        },\n        float: 'left',\n    },\n    cardContent:{\n        height: 205,\n        [theme.breakpoints.down('md')]: {\n            height: 125,\n        },\n    },\n    deleteIcon: {\n        cursor: 'unset'\n    },\n    cardChip: {\n        [theme.breakpoints.down('xs')]: {\n            transform: 'scale(0.9)'\n        },\n    }\n}))\n\nconst geoFormat = (number) => {\n    const str = String(number)\n    const $1 = str.substr(0, 2)\n    const $2 = str.substr(2, str.length)\n    const res = `${$1}.${$2}`\n\n    return parseFloat(res)\n}\n\nconst CardSliderItem = (props) => {\n    const width = useWidth()\n    const { rootCls, openId, sliderData, type, state, loadPriority } = props\n    const [openDialog, setOpenDialog] = useState(false)\n    const [openReservation, setOpenReservation] = useState(false)\n    const [openMenu, setOpenMenu] = useState(false)\n    const [openInfoDialog, setOpenInfoDialog] = useState(false)\n    const [openRoomService, setOpenRoomService] = useState(false)\n    const [isOpenLoginDialog, setIsOpenLoginDialog] = useState(false)\n    const [openReviewDialog, setOpenReviewDialog] = useState(false)\n    const [reviewScore, setReviewScore] = useState(-1)\n    const [eventResNo, setEventResNo] = useState(-1)\n    const [isLoading, setIsLoading] = useState(false)\n\n    const router = useRouter()\n    const classes = useStyles()\n    const { t } = useTranslation()\n    const { enqueueSnackbar } = useSnackbar()\n    const { GENERAL_SETTINGS } = useContext(WebCmsGlobal)\n\n    const isLogin = !!useSelector((state) => state.orest.currentUser && state.orest.currentUser.auth)\n    const reservBase = state.clientReservation || false\n    const clientBase = useSelector((state) => state?.orest.state?.client || false)\n    const token = useSelector((state) => state?.orest?.currentUser?.auth?.access_token || false)\n    const hotelRefNo = useSelector((state) => state?.formReducer?.guest?.changeHotelRefno || state?.hotelinfo?.currentHotelRefNo || GENERAL_SETTINGS.HOTELREFNO)\n\n    useEffect(() => {\n        if (Number(openId) === sliderData.locid && !router.query.openMenu) {\n            handleOpenDialog()\n        } else if (Number(openId) === sliderData.locid && router.query.openMenu) {\n            handleOpenMenu()\n        }\n    }, [openId])\n\n    const handleOpenDialog = () => {\n        if(sliderData.locismulti){\n            router.push({\n                pathname: router.pathname,\n                query: {\n                    menu: 'info',\n                    catid: sliderData.locid,\n                    hotelrefno: sliderData.hotelrefno,\n                },\n            })\n        }else{\n            setOpenDialog(!openDialog)\n        }\n    }\n\n    const handleOpenRestaurant = () => {\n        if(!reservBase){\n            enqueueSnackbar(t('str_yourRoomReservationIsNotAvailable'), { variant: 'info' })\n            return false\n        }\n\n        if(sliderData?.hotelrefno !== reservBase.hotelrefno){\n            enqueueSnackbar(t('str_youCanOnlyBookARestaurantAtTheHotelYouAreStayingAt'), { variant: 'info' })\n            return false\n        }\n\n        if(sliderData?.loconlyih && reservBase?.status !== 'I'){\n            enqueueSnackbar(t('str_youMustBeInhouseTheHotelToBookARestaurant'), { variant: 'info' })\n            return false\n        }\n\n        setOpenReservation(!openReservation)\n    }\n\n    const handleOpenMenu = () => {\n        setOpenMenu(!openMenu)\n    }\n\n    const handleOpenInfo = () => {\n        setOpenInfoDialog(!openInfoDialog)\n    }\n\n    const handleRoomService = () =>{\n        if(reservBase.roomno){\n            setOpenRoomService(!openRoomService)\n            setOpenReservation(!openReservation)\n        }else{\n            enqueueSnackbar(t('str_yourRoomNumberIsNotAvailableARoomNumberIsRequiredToOrder'), { variant: 'info' })\n        }\n    }\n\n    const handleLocation = () => {\n        if (sliderData.loclat && sliderData.loclng) {\n            window.open(`https://www.google.com.tr/maps/@${geoFormat(sliderData.loclat)},${geoFormat(sliderData.loclng)},19z`)\n        } else {\n            enqueueSnackbar(t('str_notDefined'), { variant: 'info' })\n        }\n    }\n\n    const handleCheckIsLogin = () => {\n        enqueueSnackbar(t('str_youMustLoginFirst'), { variant: 'info' })\n        setIsOpenLoginDialog(true)\n    }\n\n    let cta = false\n    if (sliderData.cta) {\n        let link = getHyperlinkParser(sliderData.cta)\n        if (link) {\n            cta = {}\n            cta.href = link.href\n            cta.text = link.text\n        }\n    }\n\n    const isTelIconShow = (cta) => cta?.href && cta.href.startsWith(\"tel:\") || false\n\n    let isReservation = (eventloc) => {\n        if (eventloc.lochasres && eventloc.isorsactive || eventloc.isspares) {\n            return true\n        } else {\n            return false\n        }\n    }\n\n    isReservation = sliderData && isReservation(sliderData)\n    const showDateStr = Boolean(!(sliderData.startdate && sliderData.enddate) && (sliderData.startdate || sliderData.enddate))\n\n    const getDescription = (str, isLong = true) => {\n        let useLength = 95, useShort = 75\n        if(isLong){\n            useLength = 470\n            useShort = 470\n        }\n\n        if (str && str.length >= useLength) {\n            return str.substring(0, useShort) + ' ...'\n        }\n        return str\n    }\n\n    const checkCanReview = async (locId) => {\n        if(locId) {\n            setIsLoading(true)\n            const resInfo = await findRes(locId)\n            if(resInfo) {\n                const resNo = resInfo.reservno\n                const reviewInfo = await findReview(resNo)\n                if(!reviewInfo) {\n                    setEventResNo(resNo)\n                    setOpenReviewDialog(true)\n                } else {\n                    enqueueSnackbar(t('str_youAreAlreadyHaveAReview'), {variant: 'info'})\n                }\n\n            } else {\n                enqueueSnackbar(t('str_reservationNotFound'), {variant: 'warning'})\n            }\n        setIsLoading(false)\n        }\n\n    }\n\n    const findRes = async (locId) => {\n        return UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.RESEVENT + SLASH + OREST_ENDPOINT.VIEW + SLASH + OREST_ENDPOINT.LOCRES + SLASH + OREST_ENDPOINT.LIST,\n            token,\n            params: {\n                limit: 1,\n                sort: 'transdate-',\n                query: `clientid:${clientBase?.id},eventlocid:${locId}`,\n                hotelrefno: hotelRefNo\n            }\n        }).then((res) => {\n            if(res.status === 200) {\n                return res.data.count > 0 ? res.data.data[0] : null\n            } else {\n                return false\n            }\n        }).catch(() => {\n            return false\n        })\n    }\n\n    const findReview = async (resNo) => {\n        return UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: 'surevportrans/view/list',\n            token,\n            params: {\n                limit: 1,\n                query: `clientid:${clientBase?.id},reservno:${resNo}`,\n                hotelrefno: hotelRefNo\n            }\n        }).then((res) => {\n            if(res.status === 200) {\n                 return res.data.count > 0 ? res.data.data[0] : null\n            } else {\n                return false\n            }\n        }).catch(() => {\n            return false\n        })\n    }\n\n    return (\n        <React.Fragment>\n            <LoginDialog open={isOpenLoginDialog} onClose={(status) => setIsOpenLoginDialog(status)} locationName='guest' isLoginWrapper disableRegister/>\n            <Card className={type === 'infoOneGroup' ? classes.cardRoot : rootCls} variant=\"outlined\">\n                <CardImage\n                    className={type === 'infoOneGroup' ? classes.cardImage : undefined}\n                    loadPriority={loadPriority || \"false\"}\n                    src={sliderData.imageurl ? GENERAL_SETTINGS.STATIC_URL + sliderData.imageurl : '/imgs/not-found.png'}\n                    alt={t(sliderData?.localtitle?.removeHtmlTag())}\n                    layout=\"fill\"\n                    cursor=\"pointer\"\n                    onClick={() => handleOpenDialog()}\n                />\n                <div className={type === 'infoOneGroup' ? classes.cardContentWrap : undefined}>\n                    <CardContent className={type === 'infoOneGroup' ? classes.cardContent : undefined}>\n                        <Typography\n                            noWrap={true}\n                            className={type === 'infoOneGroup' ? classes.cardTitle : classes.title}\n                            variant={'button'}\n                            onClick={() => handleOpenDialog()}\n                            style={{ cursor: 'pointer' }}\n                            title={sliderData.localtitle && t(sliderData.localtitle).length >= 30 ? sliderData?.localtitle?.removeHtmlTag() : ''}\n                        >\n                            {t(sliderData?.localtitle?.removeHtmlTag())}\n                        </Typography>\n                        {type === 'infoOneGroup' && (\n                            <Typography className={classes.cardDesc} variant=\"caption\" display=\"block\" align=\"justify\" gutterBottom>\n                                {getDescription(t(sliderData?.localdesc?.removeHtmlTag()), (width !== 'xs'))}\n                            </Typography>\n                        )}\n                    </CardContent>\n                    {type === 'event' && (sliderData.startdate || sliderData.enddate) && (\n                        <CardActions disableSpacing style={{ paddingTop:0, paddingBottom: 0 }}>\n                            <Box style={{ margin: '0 0 0 auto' }} component=\"fieldset\" mb={3} borderColor=\"transparent\">\n                                {sliderData?.hasrecurr ? (\n                                    <Chip\n                                        className={classes.cardChip}\n                                        classes={{ deleteIcon: classes.deleteIcon }}\n                                        onDelete={()=> { return; }}\n                                        deleteIcon={\n                                            <Tooltip title={t('str_recurrence')} arrow>\n                                                <RepeatIcon/>\n                                            </Tooltip>\n                                        }\n                                        variant=\"outlined\"\n                                        icon={<TodayIcon/>}\n                                        label={`${(showDateStr && sliderData.startdate) && t('str_startDate') + ': ' || ''}${sliderData && sliderData.startdate && moment(sliderData.startdate, 'YYYY-MM-DD').format('DD MMMM') || ''} ${(sliderData && sliderData.startdate !== null && sliderData.enddate !== null) ? '/' : ''} ${(showDateStr && sliderData.enddate) && t('str_endDate') + ': ' || ''}${sliderData && sliderData.enddate && moment(sliderData.enddate, 'YYYY-MM-DD').format('DD MMMM') || ''}`}\n                                    />\n                                ): (\n                                    <Chip\n                                        className={classes.cardChip}\n                                        variant=\"outlined\"\n                                        icon={<TodayIcon/>}\n                                        label={`${(showDateStr && sliderData.startdate) && t('str_startDate') + ': ' || ''}${sliderData && sliderData.startdate && moment(sliderData.startdate, 'YYYY-MM-DD').format('DD MMMM') || ''} ${(sliderData && sliderData.startdate !== null && sliderData.enddate !== null) ? '/' : ''} ${(showDateStr && sliderData.enddate) && t('str_endDate') + ': ' || ''}${sliderData && sliderData.enddate && moment(sliderData.enddate, 'YYYY-MM-DD').format('DD MMMM') || ''}`}\n                                    />\n                                )}\n                            </Box>\n                        </CardActions>\n                    )}\n                    <CardActions disableSpacing style={{ minHeight: 64 }}>\n                        {(cta && cta.text && cta.href) ? (\n                            (isTelIconShow(cta)) ? (\n                                <Tooltip title={t(cta.text)}>\n                                    <IconButton onClick={() => cta.href.includes(window.location.host) ? window.location.href = cta.href : window.open(cta.href)}>\n                                        <PhoneIcon />\n                                    </IconButton>\n                                </Tooltip>\n                            ) : (\n                                <Tooltip title={t(cta.text)}>\n                                    <IconButton onClick={() => cta.href.includes(window.location.host) ? window.location.href = cta.href : window.open(cta.href)}>\n                                        <ArrowForwardIcon />\n                                    </IconButton>\n                                </Tooltip>\n                            )\n                        ) : null}\n                        {(isReservation) ? (\n                            <Tooltip title={t('str_reservation')}>\n                                <IconButton onClick={() => isLogin ? handleOpenRestaurant() : handleCheckIsLogin()}>\n                                    <EventAvailableIcon/>\n                                </IconButton>\n                            </Tooltip>\n                        ): null}\n                        {(sliderData && sliderData.locdepartid && sliderData.lochasmenu) && (\n                            <Tooltip title={t('str_menu')}>\n                                <IconButton onClick={() => handleOpenMenu()}>\n                                    {sliderData?.isspares ? <ListIcon /> : <RestaurantMenuIcon/>}\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {(sliderData && sliderData.loclat && sliderData.loclng) && (\n                            <Tooltip title={t('str_location')}>\n                                <IconButton onClick={() => handleLocation()}>\n                                    <LocationOnIcon/>\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {(sliderData.price > 0 && type === 'event') && (\n                            <Tooltip title={t(sliderData.priceinfo)} interactive>\n                                <Chip\n                                    className={classes.cardChip}\n                                    variant=\"outlined\"\n                                    avatar={<Avatar style={{ background: '#e6e6e6', color: '#3c3c3c', fontSize: 15 }}>{getSymbolFromCurrency(sliderData.currcode)}</Avatar>}\n                                    label={global.helper.formatPrice(sliderData.price)}\n                                />\n                            </Tooltip>\n                        )}\n                        {!sliderData.isspares && !sliderData.isbanquet && sliderData.lochasmenu && sliderData.locisposmain && (\n                            <Tooltip title={t('str_order')}>\n                                <IconButton onClick={() => isLogin ? handleRoomService() : handleCheckIsLogin()}>\n                                    <RoomServiceIcon/>\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {sliderData.hasdoc && (\n                            <Tooltip title={t('str_info')}>\n                                <IconButton onClick={() => handleOpenInfo()}>\n                                    <InfoOutlinedIcon/>\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {\n                            sliderData?.locshowrevscore && (\n                                <Box style={{ margin: '0 0 0 auto' }} component=\"fieldset\" mb={3} borderColor=\"transparent\">\n                                    {(type === 'info' || type === 'infoOneGroup') && (\n                                        <div style={{position: 'relative'}}>\n                                            {\n                                                isLoading && (\n                                                    <AlignToCenter>\n                                                        <LoadingSpinner size={24}/>\n                                                    </AlignToCenter>\n                                                )\n                                            }\n                                            <Rating\n                                                disabled={isLoading}\n                                                aria-label={sliderData.locid}\n                                                readOnly={!isLogin || !sliderData?.islocres}\n                                                className={classes.cardChip}\n                                                name={sliderData.locid.toString()}\n                                                value={Number(sliderData.locrate) || ZERO}\n                                                precision={0.5}\n                                                emptyIcon={<StarBorderIcon fontSize=\"inherit\"/>}\n                                                onChange={(e, newValue) => {\n                                                    setReviewScore(newValue)\n                                                    checkCanReview(sliderData?.locid)\n                                                }}\n                                            />\n                                        </div>\n\n                                    )}\n                                    {(type === 'event' && sliderData.starttime)&& (\n                                        <Chip\n                                            className={classes.cardChip}\n                                            variant=\"outlined\"\n                                            icon={<AccessTimeIcon/>}\n                                            label={stdTimeFormat(sliderData.starttime)}\n                                        />\n                                    )}\n                                </Box>\n                            )\n                        }\n                    </CardActions>\n                </div>\n            </Card>\n            {(openRoomService || openDialog || openReservation || openMenu) ? (\n                <CardSliderItemDialog\n                    open={openDialog}\n                    close={(e) => setOpenDialog(e)}\n                    type={type}\n                    dialogData={sliderData}\n                    isRoomService={openRoomService || false}\n                    isReservation={isReservation || false}\n                    openReservation={openReservation}\n                    closeReservation={() => setOpenReservation(false)}\n                    openMenu={openMenu}\n                    closeMenu={() => setOpenMenu(false)}\n                />\n\n            ): null}\n            {(sliderData.hasdoc && openInfoDialog) ? (\n                <CardSliderItemInfoDialog\n                    open={openInfoDialog}\n                    close={(e)=> setOpenInfoDialog(e)}\n                    dialogData={sliderData}\n                />\n            ): null}\n            <ReviewDialog\n                open={openReviewDialog}\n                onClose={() => setOpenReviewDialog(false)}\n                initialValue={reviewScore}\n                params={{\n                    clientid: clientBase?.id,\n                    hotelrefno: hotelRefNo,\n                    reservno: eventResNo\n                }}\n                handleAfterInsert={() => {\n                    setEventResNo(-1)\n                    setOpenReviewDialog(false)\n                    setReviewScore(-1)\n                }}\n            />\n        </React.Fragment>\n    )\n}\n\nCardSliderItem.propTypes = {\n    rootCls: PropTypes.string,\n    mediaCls: PropTypes.string,\n    openId: PropTypes.number,\n    sliderData: PropTypes.object,\n    type: PropTypes.string,\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.guest,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CardSliderItem)\n"]},"metadata":{},"sourceType":"module"}