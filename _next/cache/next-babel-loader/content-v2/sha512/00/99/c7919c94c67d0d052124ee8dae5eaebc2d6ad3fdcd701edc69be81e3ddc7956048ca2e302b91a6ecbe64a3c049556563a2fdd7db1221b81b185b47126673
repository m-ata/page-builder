{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/guest/account/Offers/Offers.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { connect, useSelector } from 'react-redux';\nimport { setToState, updateState } from 'state/actions';\nimport stylesTabPanel from '../style/TabPanel.style';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport LoadingSpinner from 'components/LoadingSpinner';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport OfferCard from './OfferCard';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport OfferCardDialog from './OfferCardDialog';\nimport ReceivableGiftCard from '../LoyaltyClub/ReceivableGiftCard';\nconst useStylesTabPanel = makeStyles(stylesTabPanel);\n\nconst Offers = props => {\n  const {\n    state,\n    setToState\n  } = props;\n  const {\n    0: sliderID,\n    1: setSliderID\n  } = useState(false);\n  const classesTabPanel = useStylesTabPanel();\n  const {\n    t\n  } = useTranslation();\n\n  const handleShowMore = () => {\n    setToState('guest', ['offers', 'limit'], state.offers.data.length);\n    setToState('guest', ['offers', 'isdone'], true);\n  };\n\n  const handleShowLess = () => {\n    setToState('guest', ['offers', 'limit'], 3);\n    setToState('guest', ['offers', 'isdone'], false);\n  };\n\n  if (state.offers.data === false || state.homeList.isLoading) {\n    return __jsx(Box, {\n      p: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, __jsx(LoadingSpinner, {\n      size: 40,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  if (state.offers.data === null) {\n    return __jsx(Box, {\n      p: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, __jsx(Typography, {\n      variant: \"h6\",\n      align: \"center\",\n      gutterBottom: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, t('str_noDataAvailable')));\n  }\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, __jsx(OfferCardDialog, {\n    sliderID: sliderID,\n    open: Boolean(sliderID),\n    onClose: () => setSliderID(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }), __jsx(Grid, {\n    container: true,\n    justify: 'center',\n    spacing: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, state.offers.data && state.offers.data.slice(0, state.offers.limit).map((offer, i) => {\n    return __jsx(OfferCard, {\n      key: i,\n      offer: offer,\n      onDetail: id => setSliderID(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    });\n  }), state.offers.data && state.offers.data.length > 0 && __jsx(Grid, {\n    item: true,\n    xs: 12,\n    className: classesTabPanel.gridItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    container: true,\n    direction: 'row',\n    justify: 'center',\n    alignItems: 'center',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, state.offers.isdone ? __jsx(Button, {\n    onClick: () => handleShowLess(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 37\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    className: classesTabPanel.showMoreText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 41\n    }\n  }, t('str_showLess')), __jsx(ExpandLess, {\n    className: classesTabPanel.showMoreIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 41\n    }\n  })) : __jsx(Button, {\n    onClick: () => handleShowMore(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 37\n    }\n  }, __jsx(Typography, {\n    variant: \"h5\",\n    className: classesTabPanel.showMoreText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 41\n    }\n  }, t('str_showMore')), __jsx(ExpandMore, {\n    className: classesTabPanel.showMoreIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 41\n    }\n  })))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.guest\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n  updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Offers);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/guest/account/Offers/Offers.js"],"names":["React","useContext","useEffect","useState","axios","connect","useSelector","setToState","updateState","stylesTabPanel","Typography","Grid","LoadingSpinner","Button","Box","ExpandMore","ExpandLess","OfferCard","makeStyles","useTranslation","OfferCardDialog","ReceivableGiftCard","useStylesTabPanel","Offers","props","state","sliderID","setSliderID","classesTabPanel","t","handleShowMore","offers","data","length","handleShowLess","homeList","isLoading","Boolean","slice","limit","map","offer","i","id","gridItem","isdone","showMoreText","showMoreIcon","mapStateToProps","formReducer","guest","mapDispatchToProps","dispatch","stateType","stateName","value"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { connect, useSelector } from 'react-redux'\nimport { setToState, updateState } from 'state/actions'\nimport stylesTabPanel from '../style/TabPanel.style'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport LoadingSpinner from 'components/LoadingSpinner'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport ExpandMore from '@material-ui/icons/ExpandMore'\nimport ExpandLess from '@material-ui/icons/ExpandLess'\nimport OfferCard from './OfferCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport OfferCardDialog from './OfferCardDialog'\nimport ReceivableGiftCard from '../LoyaltyClub/ReceivableGiftCard'\nconst useStylesTabPanel = makeStyles(stylesTabPanel)\n\nconst Offers = (props) => {\n    const { state, setToState } = props\n    const [sliderID, setSliderID] = useState(false)\n    const classesTabPanel = useStylesTabPanel()\n    const { t } = useTranslation()\n\n    const handleShowMore = () => {\n        setToState('guest', ['offers', 'limit'], state.offers.data.length)\n        setToState('guest', ['offers', 'isdone'], true)\n    }\n\n    const handleShowLess = () => {\n        setToState('guest', ['offers', 'limit'], 3)\n        setToState('guest', ['offers', 'isdone'], false)\n    }\n\n    if (state.offers.data === false || state.homeList.isLoading) {\n        return (\n            <Box p={4}>\n                <LoadingSpinner size={40}/>\n            </Box>\n        )\n    }\n\n    if (state.offers.data === null) {\n        return (\n            <Box p={4}>\n                <Typography variant='h6' align='center' gutterBottom>\n                    {t('str_noDataAvailable')}\n                </Typography>\n            </Box>\n        )\n    }\n\n\n    return (\n        <React.Fragment>\n            <OfferCardDialog sliderID={sliderID} open={Boolean(sliderID)} onClose={()=> setSliderID(false)} />\n            <Grid container justify={'center'} spacing={4}>\n                {state.offers.data && state.offers.data.slice(0, state.offers.limit).map((offer, i) => {\n                    return(\n                        <OfferCard key={i} offer={offer} onDetail={(id) => setSliderID(id)} />\n                    )\n                })}\n                {state.offers.data && state.offers.data.length > 0 && (\n                    <Grid item xs={12} className={classesTabPanel.gridItem}>\n                        <Grid container direction={'row'} justify={'center'} alignItems={'center'}>\n                            <Grid item>\n                                {state.offers.isdone ? (\n                                    <Button onClick={() => handleShowLess()}>\n                                        <Typography variant='h5' className={classesTabPanel.showMoreText}>\n                                            {t('str_showLess')}\n                                        </Typography>\n                                        <ExpandLess className={classesTabPanel.showMoreIcon} />\n                                    </Button>\n                                ) : (\n                                    <Button onClick={() => handleShowMore()}>\n                                        <Typography variant='h5' className={classesTabPanel.showMoreText}>\n                                            {t('str_showMore')}\n                                        </Typography>\n                                        <ExpandMore className={classesTabPanel.showMoreIcon} />\n                                    </Button>\n                                )}\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                )}\n            </Grid>\n        </React.Fragment>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.guest,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Offers)\n"]},"metadata":{},"sourceType":"module"}