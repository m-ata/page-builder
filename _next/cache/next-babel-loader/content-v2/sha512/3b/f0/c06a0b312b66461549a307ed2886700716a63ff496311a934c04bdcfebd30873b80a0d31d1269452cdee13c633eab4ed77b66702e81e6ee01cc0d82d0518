{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/redirects/index.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useRouter } from 'next/router';\nimport useTranslation from 'lib/translations/hooks/useTranslation';\nimport WebCmsGlobal from 'components/webcms-global';\nimport DataGrid, { SelectColumn, Row as GridRow } from 'react-data-grid';\nimport { ContextMenuTrigger } from 'react-contextmenu';\nimport { Grid, Button, Icon, Dialog, DialogActions, DialogContent, DialogTitle, Popover, Box, TextField, InputAdornment } from '@material-ui/core';\nimport PopupState, { bindTrigger, bindPopover } from 'material-ui-popup-state';\nimport { List, Insert, Patch } from '@webcms/orest';\nimport { OREST_ENDPOINT } from 'model/orest/constants';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSnackbar } from 'notistack';\n\nString.prototype.base64Decode = function () {\n  return this && JSON.parse(Buffer.from(this, 'base64').toString('utf-8')) || '';\n};\n\nString.prototype.base64Encode = function () {\n  return this && Buffer.from(this).toString('base64') || '';\n};\n\nconst RowRenderer = props => {\n  if (props.selectedCellProps) {\n    return __jsx(ContextMenuTrigger, {\n      id: \"grid-context-menu\",\n      collect: () => ({\n        row: props.row,\n        rowIdx: props.rowIdx,\n        selectedCellProps: props.selectedCellProps,\n        viewportColumns: props.viewportColumns\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, __jsx(GridRow, _extends({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    })));\n  } else {\n    return __jsx(GridRow, _extends({\n      onContextMenu: e => e.preventDefault()\n    }, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 16\n      }\n    }));\n  }\n};\n\nconst useStyles = makeStyles(theme => ({\n  deleteButton: {\n    background: '#ec1717',\n    color: '#ffffff',\n    \"&:hover\": {\n      background: '#a31111'\n    }\n  },\n  emptyMsgWrapper: {\n    alignItems: \"center\",\n    backgroundColor: \"transparent\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    height: \"calc(65vh)\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    width: \"100%\"\n  },\n  emptyMsg: {\n    textAlign: \"center\",\n    padding: \"10px\",\n    alignItems: \"center\",\n    borderRadius: \"50%\",\n    backgroundColor: \"#f1f3f4\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"320px\",\n    justifyContent: \"center\",\n    width: \"320px\",\n    margin: \"0 auto\"\n  },\n  emptyMsgTxt: {\n    fontSize: \".875rem\",\n    letterSpacing: \".25px\",\n    color: \"#5f6368\",\n    fontWeight: 500\n  },\n  emptyMsgIcon: {\n    color: 'rgb(154, 160, 166)',\n    display: 'block',\n    margin: '0 auto',\n    fontSize: '6em',\n    marginTop: -30,\n    marginBottom: 10\n  },\n  textFieldFormHelper: {\n    textAlign: 'end'\n  },\n  targetEditor: {\n    width: '100%'\n  }\n}));\n\nconst EmptyRowsRenderer = () => {\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation();\n  return __jsx(\"div\", {\n    className: classes.emptyMsgWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: classes.emptyMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    className: classes.emptyMsgIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"add\"), __jsx(\"span\", {\n    className: classes.emptyMsgTxt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, t('str_noRecordYouCanAddNewRecord'))));\n};\n\nconst LoadingRowsRenderer = () => {\n  const classes = useStyles();\n  const {\n    t\n  } = useTranslation();\n  return __jsx(\"div\", {\n    className: classes.emptyMsgWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: classes.emptyMsg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    className: classes.emptyMsgIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"add\"), __jsx(\"span\", {\n    className: classes.emptyMsgTxt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, t('str_pleaseWait'))));\n};\n\nconst RedirectsEditor = ({\n  open,\n  onClose\n}) => {\n  const classes = useStyles();\n  const {\n    GENERAL_SETTINGS\n  } = useContext(WebCmsGlobal);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const router = useRouter();\n  const {\n    t\n  } = useTranslation(); //Routers\n\n  const token = router.query.authToken;\n  const companyId = Number(GENERAL_SETTINGS === null || GENERAL_SETTINGS === void 0 ? void 0 : GENERAL_SETTINGS.HOTELREFNO);\n  const {\n    0: selectedRows,\n    1: setSelectedRows\n  } = useState(() => new Set());\n  const {\n    0: dataColums,\n    1: setDataColums\n  } = useState([SelectColumn, {\n    key: 'oldpath',\n    name: 'Old Path',\n    editable: true,\n    frozen: true\n  }, {\n    key: 'newpath',\n    name: 'New Path',\n    editable: true,\n    frozen: true\n  }]);\n  const {\n    0: dataRows,\n    1: setDataRows\n  } = useState([]);\n  const {\n    0: newOldPath,\n    1: setNewOldPath\n  } = useState('');\n  const {\n    0: oldPathHelperText,\n    1: setOldPathHelperText\n  } = useState('');\n  const {\n    0: newNewPath,\n    1: setNewNewPath\n  } = useState('');\n  const {\n    0: newPathHelperText,\n    1: setNewPathHelperText\n  } = useState('');\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: updateFileGid,\n    1: setUpdateFileGid\n  } = useState(false);\n  const webCmsPathRedirect = 'WEBCMS.PATH.REDIRECT';\n  const fileType = 'WEBCMS.SETT';\n  const contenType = '0000525';\n  useEffect(() => {\n    let active = true;\n\n    if (active && !isLoading) {\n      setIsLoading(true);\n      List({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.RAFILE,\n        token,\n        params: {\n          query: `code::${webCmsPathRedirect}`,\n          hotelrefno: companyId\n        }\n      }).then(rafileViewListResponse => {\n        if (active) {\n          if (rafileViewListResponse.data.success && rafileViewListResponse.data.count > 0) {\n            var _rafileViewListRespon, _rafileViewListRespon2, _rafileViewListRespon3, _rafileViewListRespon4, _rafileViewListRespon5;\n\n            setIsLoading(false);\n            setDataRows((rafileViewListResponse === null || rafileViewListResponse === void 0 ? void 0 : (_rafileViewListRespon = rafileViewListResponse.data) === null || _rafileViewListRespon === void 0 ? void 0 : (_rafileViewListRespon2 = _rafileViewListRespon.data[0]) === null || _rafileViewListRespon2 === void 0 ? void 0 : (_rafileViewListRespon3 = _rafileViewListRespon2.filedata) === null || _rafileViewListRespon3 === void 0 ? void 0 : _rafileViewListRespon3.base64Decode()) || false);\n            setUpdateFileGid((rafileViewListResponse === null || rafileViewListResponse === void 0 ? void 0 : (_rafileViewListRespon4 = rafileViewListResponse.data) === null || _rafileViewListRespon4 === void 0 ? void 0 : (_rafileViewListRespon5 = _rafileViewListRespon4.data[0]) === null || _rafileViewListRespon5 === void 0 ? void 0 : _rafileViewListRespon5.gid) || false);\n          } else {\n            setIsLoading(false);\n            setDataRows([]);\n          }\n        } else {\n          setIsLoading(false);\n          setDataRows([]);\n        }\n      }).catch(() => {\n        setIsLoading(false);\n        setDataRows([]);\n        enqueueSnackbar(t('str_unexpectedProblem'), {\n          variant: 'error'\n        });\n      });\n    }\n  }, []);\n\n  const handleSave = () => {\n    setIsLoading(true);\n    const useData = {\n      code: webCmsPathRedirect,\n      filedata: JSON.stringify(dataRows).base64Encode(),\n      filetype: fileType,\n      contentype: contenType,\n      hotelrefno: companyId\n    };\n\n    if (updateFileGid) {\n      Patch({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.RAFILE,\n        token,\n        gid: updateFileGid,\n        params: {\n          hotelrefno: companyId\n        },\n        data: useData\n      }).then(rafilePatchResponse => {\n        if (rafilePatchResponse.status === 200) {\n          var _rafilePatchResponse$, _rafilePatchResponse$2, _rafilePatchResponse$3, _rafilePatchResponse$4, _rafilePatchResponse$5;\n\n          setDataRows((rafilePatchResponse === null || rafilePatchResponse === void 0 ? void 0 : (_rafilePatchResponse$ = rafilePatchResponse.data) === null || _rafilePatchResponse$ === void 0 ? void 0 : (_rafilePatchResponse$2 = _rafilePatchResponse$.data) === null || _rafilePatchResponse$2 === void 0 ? void 0 : (_rafilePatchResponse$3 = _rafilePatchResponse$2.filedata) === null || _rafilePatchResponse$3 === void 0 ? void 0 : _rafilePatchResponse$3.base64Decode()) || false);\n          setUpdateFileGid((rafilePatchResponse === null || rafilePatchResponse === void 0 ? void 0 : (_rafilePatchResponse$4 = rafilePatchResponse.data) === null || _rafilePatchResponse$4 === void 0 ? void 0 : (_rafilePatchResponse$5 = _rafilePatchResponse$4.data) === null || _rafilePatchResponse$5 === void 0 ? void 0 : _rafilePatchResponse$5.gid) || false);\n          enqueueSnackbar(t('str_dataSaveSuccessMsg'), {\n            variant: 'success'\n          });\n          setIsLoading(false);\n        } else {\n          enqueueSnackbar(t('str_unexpectedProblem'), {\n            variant: 'error'\n          });\n          setIsLoading(false);\n        }\n      }).catch(() => {\n        enqueueSnackbar(t('str_unexpectedProblem'), {\n          variant: 'error'\n        });\n        setIsLoading(false);\n      });\n    } else {\n      Insert({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.RAFILE,\n        token,\n        params: {\n          hotelrefno: companyId\n        },\n        data: useData\n      }).then(rafileInsertResponse => {\n        if (rafileInsertResponse.status === 200) {\n          var _rafileInsertResponse, _rafileInsertResponse2, _rafileInsertResponse3, _rafileInsertResponse4, _rafileInsertResponse5;\n\n          setDataRows((rafileInsertResponse === null || rafileInsertResponse === void 0 ? void 0 : (_rafileInsertResponse = rafileInsertResponse.data) === null || _rafileInsertResponse === void 0 ? void 0 : (_rafileInsertResponse2 = _rafileInsertResponse.data) === null || _rafileInsertResponse2 === void 0 ? void 0 : (_rafileInsertResponse3 = _rafileInsertResponse2.filedata) === null || _rafileInsertResponse3 === void 0 ? void 0 : _rafileInsertResponse3.base64Decode()) || false);\n          setUpdateFileGid((rafileInsertResponse === null || rafileInsertResponse === void 0 ? void 0 : (_rafileInsertResponse4 = rafileInsertResponse.data) === null || _rafileInsertResponse4 === void 0 ? void 0 : (_rafileInsertResponse5 = _rafileInsertResponse4.data) === null || _rafileInsertResponse5 === void 0 ? void 0 : _rafileInsertResponse5.gid) || false);\n          enqueueSnackbar(t('str_dataSaveSuccessMsg'), {\n            variant: 'success'\n          });\n          setIsLoading(false);\n        } else {\n          enqueueSnackbar(t('str_unexpectedProblem'), {\n            variant: 'error'\n          });\n          setIsLoading(false);\n        }\n      }).catch(() => {\n        enqueueSnackbar(t('str_unexpectedProblem'), {\n          variant: 'error'\n        });\n        setIsLoading(false);\n      });\n    }\n  };\n\n  const handleDeleteSelectedItems = () => {\n    let newDataRows = [...dataRows];\n    selectedRows.forEach(function (key) {\n      const getIndex = newDataRows.findIndex(indexItem => String(indexItem.oldpath) === String(key));\n      selectedRows.delete(key);\n      newDataRows.splice(getIndex, 1);\n    });\n    setDataRows(newDataRows);\n  };\n\n  const slashPrefix = val => {\n    if (val) {\n      return '/' + val;\n    }\n\n    return val;\n  };\n\n  const handleAddNewRow = async () => {\n    let isError = false,\n        isOldPath = false;\n\n    if (newOldPath === \"\") {\n      isError = true;\n      setOldPathHelperText(t('str_requiredField'));\n    }\n\n    if (newNewPath === \"\") {\n      isError = true;\n      setNewPathHelperText(t('str_requiredField'));\n    }\n\n    if (newOldPath === newNewPath) {\n      isError = true;\n      setNewPathHelperText(t('str_theOldAndNewPathsCannotBeTheSame'));\n    }\n\n    Object.keys(dataRows).forEach(function (key) {\n      console.log(dataRows[key].oldpath, '/' + newOldPath, dataRows[key].oldpath === '/' + newOldPath);\n\n      if (dataRows[key].oldpath === slashPrefix(newOldPath)) {\n        isOldPath = true;\n        isError = true;\n        return;\n      }\n    });\n\n    if (isOldPath) {\n      setOldPathHelperText(t('str_thisPathAlreadyExists'));\n    }\n\n    if (!isError) {\n      setDataRows([...dataRows, {\n        oldpath: slashPrefix(newOldPath),\n        newpath: slashPrefix(newNewPath)\n      }]);\n      setNewOldPath(\"\");\n      setNewNewPath(\"\");\n    }\n  };\n\n  return __jsx(Dialog, {\n    fullWidth: true,\n    maxWidth: \"md\",\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }\n  }, __jsx(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }\n  }, t('str_pathRedirection')), __jsx(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 25\n    }\n  }, __jsx(Button, {\n    variant: \"contained\",\n    className: classes.deleteButton,\n    disabled: !(selectedRows.size > 0),\n    disableElevation: true,\n    onClick: () => handleDeleteSelectedItems(),\n    startIcon: __jsx(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 199\n      }\n    }, \"delete\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 29\n    }\n  }, t('str_deleteSelected', {\n    selected: selectedRows.size\n  }))), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 25\n    }\n  }, __jsx(PopupState, {\n    variant: \"popover\",\n    popupId: \"demo-popup-popover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 29\n    }\n  }, popupState => __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 37\n    }\n  }, __jsx(Button, _extends({\n    color: \"primary\",\n    disableElevation: true,\n    variant: \"outlined\",\n    startIcon: __jsx(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 112\n      }\n    }, \"add\")\n  }, bindTrigger(popupState), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 41\n    }\n  }), t('str_newRedirection')), __jsx(Popover, _extends({}, bindPopover(popupState), {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 41\n    }\n  }), __jsx(Box, {\n    p: 3,\n    style: {\n      maxWidth: 400\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 44\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 2,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 48\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 52\n    }\n  }, __jsx(TextField, {\n    required: true,\n    helperText: oldPathHelperText,\n    value: newOldPath,\n    onChange: e => {\n      setOldPathHelperText(\"\");\n      setNewOldPath(e.target.value);\n    },\n    size: \"small\",\n    fullWidth: true,\n    id: \"old-path\",\n    label: t('str_oldPath'),\n    variant: \"outlined\",\n    InputProps: {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 80\n        }\n      }, \"/\"),\n      autoComplete: 'off'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 56\n    }\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 52\n    }\n  }, __jsx(TextField, {\n    required: true,\n    helperText: newPathHelperText,\n    value: newNewPath,\n    onChange: e => {\n      setNewPathHelperText(\"\");\n      setNewNewPath(e.target.value);\n    },\n    size: \"small\",\n    fullWidth: true,\n    id: \"new-path\",\n    label: t('str_newPath'),\n    variant: \"outlined\",\n    InputProps: {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 80\n        }\n      }, \"/\"),\n      autoComplete: 'off'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 56\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 52\n    }\n  }, __jsx(Button, {\n    disabled: newOldPath === \"\" || newNewPath === \"\",\n    color: \"primary\",\n    disableElevation: true,\n    variant: \"outlined\",\n    startIcon: __jsx(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 179\n      }\n    }, \"add\"),\n    onClick: () => handleAddNewRow(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 56\n    }\n  }, t('str_add'))))))))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 25\n    }\n  }, __jsx(DataGrid, {\n    rowKey: \"oldpath\",\n    columns: dataColums,\n    rows: dataRows,\n    rowKeyGetter: row => row.oldpath || '',\n    onRowsChange: rows => setDataRows(rows),\n    selectedRows: selectedRows,\n    onSelectedRowsChange: setSelectedRows,\n    rowRenderer: RowRenderer,\n    emptyRowsRenderer: isLoading ? LoadingRowsRenderer : EmptyRowsRenderer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 29\n    }\n  })))), __jsx(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    variant: \"outlined\",\n    color: \"secondary\",\n    disableElevation: true,\n    onClick: () => onClose(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 21\n    }\n  }, t('str_close')), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    disableElevation: true,\n    onClick: () => handleSave(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 21\n    }\n  }, t('str_save'))));\n};\n\nexport default RedirectsEditor;","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/redirects/index.js"],"names":["React","useState","useEffect","useContext","useRouter","useTranslation","WebCmsGlobal","DataGrid","SelectColumn","Row","GridRow","ContextMenuTrigger","Grid","Button","Icon","Dialog","DialogActions","DialogContent","DialogTitle","Popover","Box","TextField","InputAdornment","PopupState","bindTrigger","bindPopover","List","Insert","Patch","OREST_ENDPOINT","makeStyles","useSnackbar","String","prototype","base64Decode","JSON","parse","Buffer","from","toString","base64Encode","RowRenderer","props","selectedCellProps","row","rowIdx","viewportColumns","e","preventDefault","useStyles","theme","deleteButton","background","color","emptyMsgWrapper","alignItems","backgroundColor","display","flexDirection","height","justifyContent","textAlign","width","emptyMsg","padding","borderRadius","margin","emptyMsgTxt","fontSize","letterSpacing","fontWeight","emptyMsgIcon","marginTop","marginBottom","textFieldFormHelper","targetEditor","EmptyRowsRenderer","classes","t","LoadingRowsRenderer","RedirectsEditor","open","onClose","GENERAL_SETTINGS","enqueueSnackbar","router","token","query","authToken","companyId","Number","HOTELREFNO","selectedRows","setSelectedRows","Set","dataColums","setDataColums","key","name","editable","frozen","dataRows","setDataRows","newOldPath","setNewOldPath","oldPathHelperText","setOldPathHelperText","newNewPath","setNewNewPath","newPathHelperText","setNewPathHelperText","isLoading","setIsLoading","updateFileGid","setUpdateFileGid","webCmsPathRedirect","fileType","contenType","active","apiUrl","OREST_URL","endpoint","RAFILE","params","hotelrefno","then","rafileViewListResponse","data","success","count","filedata","gid","catch","variant","handleSave","useData","code","stringify","filetype","contentype","rafilePatchResponse","status","rafileInsertResponse","handleDeleteSelectedItems","newDataRows","forEach","getIndex","findIndex","indexItem","oldpath","delete","splice","slashPrefix","val","handleAddNewRow","isError","isOldPath","Object","keys","console","log","newpath","size","selected","popupState","vertical","horizontal","maxWidth","target","value","startAdornment","autoComplete","rows"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport { useRouter } from 'next/router'\nimport useTranslation from 'lib/translations/hooks/useTranslation'\nimport WebCmsGlobal from 'components/webcms-global'\nimport DataGrid, { SelectColumn, Row as GridRow } from 'react-data-grid'\nimport { ContextMenuTrigger } from 'react-contextmenu'\nimport {\n    Grid,\n    Button,\n    Icon,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Popover,\n    Box,\n    TextField,\n    InputAdornment,\n} from '@material-ui/core'\nimport PopupState, { bindTrigger, bindPopover } from 'material-ui-popup-state'\nimport { List, Insert, Patch } from '@webcms/orest'\nimport { OREST_ENDPOINT } from 'model/orest/constants'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSnackbar } from 'notistack'\n\nString.prototype.base64Decode = function() {\n    return this && JSON.parse(Buffer.from(this, 'base64').toString('utf-8')) || ''\n}\n\nString.prototype.base64Encode = function() {\n    return this && Buffer.from(this).toString('base64') || ''\n}\n\nconst RowRenderer = (props) => {\n    if(props.selectedCellProps){\n        return (\n            <ContextMenuTrigger id=\"grid-context-menu\" collect={() => ({ row: props.row, rowIdx: props.rowIdx, selectedCellProps: props.selectedCellProps, viewportColumns: props.viewportColumns })}>\n                <GridRow {...props} />\n            </ContextMenuTrigger>\n        )\n    }else{\n        return <GridRow onContextMenu={e => e.preventDefault()} {...props}/>\n    }\n}\n\nconst useStyles = makeStyles((theme) => ({\n    deleteButton: {\n        background: '#ec1717',\n        color: '#ffffff',\n        \"&:hover\": {\n            background: '#a31111',\n        },\n    },\n    emptyMsgWrapper: {\n        alignItems: \"center\",\n        backgroundColor: \"transparent\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        height: \"calc(65vh)\",\n        justifyContent: \"center\",\n        textAlign: \"center\",\n        width: \"100%\"\n    },\n    emptyMsg: {\n        textAlign: \"center\",\n        padding: \"10px\",\n        alignItems: \"center\",\n        borderRadius: \"50%\",\n        backgroundColor: \"#f1f3f4\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"320px\",\n        justifyContent: \"center\",\n        width: \"320px\",\n        margin: \"0 auto\",\n    },\n    emptyMsgTxt: {\n        fontSize: \".875rem\",\n        letterSpacing: \".25px\",\n        color: \"#5f6368\",\n        fontWeight: 500\n    },\n    emptyMsgIcon: {\n        color: 'rgb(154, 160, 166)',\n        display: 'block',\n        margin: '0 auto',\n        fontSize: '6em',\n        marginTop: -30,\n        marginBottom: 10\n    },\n    textFieldFormHelper: {\n        textAlign: 'end'\n    },\n    targetEditor: {\n        width: '100%'\n    }\n}))\n\nconst EmptyRowsRenderer = () => {\n    const classes = useStyles()\n    const { t } = useTranslation()\n\n    return (\n        <div className={classes.emptyMsgWrapper}>\n            <div className={classes.emptyMsg}>\n                <Icon className={classes.emptyMsgIcon}>add</Icon>\n                <span className={classes.emptyMsgTxt}>\n                    {t('str_noRecordYouCanAddNewRecord')}\n                </span>\n            </div>\n        </div>\n    )\n}\n\nconst LoadingRowsRenderer = () => {\n    const classes = useStyles()\n    const { t } = useTranslation()\n\n    return (\n        <div className={classes.emptyMsgWrapper}>\n            <div className={classes.emptyMsg}>\n                <Icon className={classes.emptyMsgIcon}>add</Icon>\n                <span className={classes.emptyMsgTxt}>\n                    {t('str_pleaseWait')}\n                </span>\n            </div>\n        </div>\n    )\n}\n\nconst RedirectsEditor = ({ open, onClose }) => {\n    const classes = useStyles()\n    const { GENERAL_SETTINGS } = useContext(WebCmsGlobal)\n    const { enqueueSnackbar } = useSnackbar()\n    const router = useRouter()\n    const { t } = useTranslation()\n\n    //Routers\n    const token = router.query.authToken\n    const companyId = Number(GENERAL_SETTINGS?.HOTELREFNO)\n\n    const [selectedRows, setSelectedRows] = useState(() => new Set())\n    const [dataColums, setDataColums] = useState([\n        SelectColumn,\n        {\n            key: 'oldpath',\n            name: 'Old Path',\n            editable: true,\n            frozen: true\n        },\n        {\n            key: 'newpath',\n            name: 'New Path',\n            editable: true,\n            frozen: true\n        }\n    ])\n\n    const [dataRows, setDataRows] = useState([])\n\n    const [newOldPath, setNewOldPath] = useState('')\n    const [oldPathHelperText, setOldPathHelperText] = useState('')\n\n    const [newNewPath, setNewNewPath] = useState('')\n    const [newPathHelperText, setNewPathHelperText] = useState('')\n\n    const [isLoading, setIsLoading] = useState(false)\n    const [updateFileGid, setUpdateFileGid] = useState(false)\n\n    const webCmsPathRedirect = 'WEBCMS.PATH.REDIRECT'\n    const fileType = 'WEBCMS.SETT'\n    const contenType = '0000525'\n\n    useEffect(() => {\n        let active = true\n        if(active && !isLoading) {\n            setIsLoading(true)\n            List({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token,\n                params: {\n                    query: `code::${webCmsPathRedirect}`,\n                    hotelrefno: companyId,\n                },\n            }).then((rafileViewListResponse) => {\n                if (active) {\n                    if (rafileViewListResponse.data.success && rafileViewListResponse.data.count > 0) {\n                        setIsLoading(false)\n                        setDataRows(rafileViewListResponse?.data?.data[0]?.filedata?.base64Decode() || false)\n                        setUpdateFileGid(rafileViewListResponse?.data?.data[0]?.gid || false)\n                    } else {\n                        setIsLoading(false)\n                        setDataRows([])\n                    }\n                } else {\n                    setIsLoading(false)\n                    setDataRows([])\n                }\n            }).catch(() => {\n                setIsLoading(false)\n                setDataRows([])\n                enqueueSnackbar(t('str_unexpectedProblem'), { variant: 'error' })\n            })\n        }\n    }, [])\n\n    const handleSave = () => {\n        setIsLoading(true)\n\n        const useData = {\n            code: webCmsPathRedirect,\n            filedata: JSON.stringify(dataRows).base64Encode(),\n            filetype: fileType,\n            contentype: contenType,\n            hotelrefno: companyId,\n        }\n\n        if (updateFileGid) {\n            Patch({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token,\n                gid: updateFileGid,\n                params: {\n                    hotelrefno: companyId\n                },\n                data: useData,\n            }).then((rafilePatchResponse) => {\n                if (rafilePatchResponse.status === 200) {\n                    setDataRows(rafilePatchResponse?.data?.data?.filedata?.base64Decode() || false)\n                    setUpdateFileGid(rafilePatchResponse?.data?.data?.gid || false)\n                    enqueueSnackbar(t('str_dataSaveSuccessMsg'), { variant: 'success' })\n                    setIsLoading(false)\n                }else {\n                    enqueueSnackbar(t('str_unexpectedProblem'), { variant: 'error' })\n                    setIsLoading(false)\n                }\n            }).catch(()=> {\n                enqueueSnackbar(t('str_unexpectedProblem'), { variant: 'error' })\n                setIsLoading(false)\n            })\n        } else {\n            Insert({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token,\n                params: {\n                    hotelrefno: companyId\n                },\n                data: useData,\n            }).then((rafileInsertResponse) => {\n                if (rafileInsertResponse.status === 200) {\n                    setDataRows(rafileInsertResponse?.data?.data?.filedata?.base64Decode() || false)\n                    setUpdateFileGid(rafileInsertResponse?.data?.data?.gid || false)\n                    enqueueSnackbar(t('str_dataSaveSuccessMsg'), { variant: 'success' })\n                    setIsLoading(false)\n                }else {\n                    enqueueSnackbar(t('str_unexpectedProblem'), { variant: 'error' })\n                    setIsLoading(false)\n                }\n            }).catch(()=> {\n                enqueueSnackbar(t('str_unexpectedProblem'), { variant: 'error' })\n                setIsLoading(false)\n            })\n        }\n    }\n\n    const handleDeleteSelectedItems = () => {\n        let newDataRows = [...dataRows]\n        selectedRows.forEach(function (key) {\n            const getIndex = newDataRows.findIndex(indexItem => String(indexItem.oldpath) === String(key))\n            selectedRows.delete(key)\n            newDataRows.splice(getIndex, 1)\n        })\n        setDataRows(newDataRows)\n    }\n\n    const slashPrefix = (val) => {\n        if (val) {\n            return '/' + val\n        }\n        return val\n    }\n\n    const handleAddNewRow = async () =>{\n        let isError = false, isOldPath = false\n\n        if(newOldPath === \"\"){\n            isError = true\n            setOldPathHelperText(t('str_requiredField'))\n        }\n\n        if(newNewPath === \"\"){\n            isError = true\n            setNewPathHelperText(t('str_requiredField'))\n        }\n\n        if(newOldPath === newNewPath){\n            isError = true\n            setNewPathHelperText(t('str_theOldAndNewPathsCannotBeTheSame'))\n        }\n\n        Object.keys(dataRows).forEach(function(key) {console.log(dataRows[key].oldpath, ('/' + newOldPath), (dataRows[key].oldpath === ('/' + newOldPath)))\n            if(dataRows[key].oldpath === slashPrefix(newOldPath)) {\n                isOldPath = true\n                isError = true\n                return\n            }\n        })\n\n        if(isOldPath){\n            setOldPathHelperText(t('str_thisPathAlreadyExists'))\n        }\n\n        if(!isError){\n            setDataRows([...dataRows, { oldpath: slashPrefix(newOldPath), newpath: slashPrefix(newNewPath) }])\n            setNewOldPath(\"\")\n            setNewNewPath(\"\")\n        }\n    }\n\n    return (\n            <Dialog fullWidth maxWidth=\"md\" open={open}>\n                <DialogTitle>{t('str_pathRedirection')}</DialogTitle>\n                <DialogContent dividers>\n                    <Grid container spacing={2} justify='flex-end'>\n                        <Grid item>\n                            <Button variant=\"contained\" className={classes.deleteButton} disabled={!(selectedRows.size > 0)} disableElevation onClick={() => handleDeleteSelectedItems()}  startIcon={<Icon>delete</Icon>}>\n                                {t('str_deleteSelected', { selected: selectedRows.size })}\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <PopupState variant=\"popover\" popupId=\"demo-popup-popover\">\n                                {(popupState) => (\n                                    <div>\n                                        <Button color='primary' disableElevation variant='outlined' startIcon={<Icon>add</Icon>} {...bindTrigger(popupState)}>\n                                            {t('str_newRedirection')}\n                                        </Button>\n                                        <Popover\n                                            {...bindPopover(popupState)}\n                                            anchorOrigin={{\n                                                vertical: 'bottom',\n                                                horizontal: 'right',\n                                            }}\n                                            transformOrigin={{\n                                                vertical: 'top',\n                                                horizontal: 'right',\n                                            }}\n                                        >\n                                           <Box p={3} style={{maxWidth: 400}}>\n                                               <Grid container spacing={2} justify='flex-end'>\n                                                   <Grid item xs={12}>\n                                                       <TextField\n                                                           required={true}\n                                                           helperText={oldPathHelperText}\n                                                           value={newOldPath}\n                                                           onChange={(e) => {\n                                                               setOldPathHelperText(\"\")\n                                                               setNewOldPath(e.target.value)\n                                                           }}\n                                                           size=\"small\"\n                                                           fullWidth\n                                                           id=\"old-path\"\n                                                           label={t('str_oldPath')}\n                                                           variant=\"outlined\"\n                                                           InputProps={{\n                                                               startAdornment: <InputAdornment position=\"start\">/</InputAdornment>,\n                                                               autoComplete: 'off'\n                                                           }}\n                                                       />\n                                                   </Grid>\n                                                   <Grid item xs={12}>\n                                                       <TextField\n                                                           required={true}\n                                                           helperText={newPathHelperText}\n                                                           value={newNewPath}\n                                                           onChange={(e) => {\n                                                               setNewPathHelperText(\"\")\n                                                               setNewNewPath(e.target.value)\n                                                           }}\n                                                           size=\"small\"\n                                                           fullWidth\n                                                           id=\"new-path\"\n                                                           label={t('str_newPath')}\n                                                           variant=\"outlined\"\n                                                           InputProps={{\n                                                               startAdornment: <InputAdornment position=\"start\">/</InputAdornment>,\n                                                               autoComplete: 'off'\n                                                           }}\n                                                       />\n                                                   </Grid>\n                                                   <Grid item>\n                                                       <Button disabled={(newOldPath === \"\" || newNewPath === \"\")} color='primary' disableElevation variant='outlined' startIcon={<Icon>add</Icon>} onClick={() => handleAddNewRow()}>\n                                                           {t('str_add')}\n                                                       </Button>\n                                                   </Grid>\n                                               </Grid>\n                                           </Box>\n                                        </Popover>\n                                    </div>\n                                )}\n                            </PopupState>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <DataGrid\n                                rowKey='oldpath'\n                                columns={dataColums}\n                                rows={dataRows}\n                                rowKeyGetter={(row) => row.oldpath || ''}\n                                onRowsChange={(rows) => setDataRows(rows)}\n                                selectedRows={selectedRows}\n                                onSelectedRowsChange={setSelectedRows}\n                                rowRenderer={RowRenderer}\n                                emptyRowsRenderer={isLoading ? LoadingRowsRenderer : EmptyRowsRenderer}\n                            />\n                        </Grid>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button variant=\"outlined\" color=\"secondary\" disableElevation onClick={()=> onClose()}>{t('str_close')}</Button>\n                    <Button variant=\"contained\" color=\"primary\" disableElevation onClick={()=> handleSave()}>{t('str_save')}</Button>\n                </DialogActions>\n            </Dialog>\n    )\n}\n\nexport default RedirectsEditor"]},"metadata":{},"sourceType":"module"}