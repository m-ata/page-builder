{"ast":null,"code":"import _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/guest/account/GuestComments/GuestComments.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { ViewList, Insert, UseOrest, Patch } from '@webcms/orest';\nimport moment from 'moment';\nimport { Button, ClickAwayListener, Dialog, IconButton, InputAdornment, Grid, Menu, MenuItem, Typography, TextField } from '@material-ui/core';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { DatePicker, TimePicker, LocalizationProvider } from '@material-ui/pickers';\nimport MomentAdapter from '@date-io/moment';\nimport { useSnackbar } from 'notistack';\nimport PopupState, { bindTrigger, bindMenu } from 'material-ui-popup-state';\nimport WebCmsGlobal from \"../../../webcms-global\";\nimport { isErrorMsg, OREST_ENDPOINT } from \"../../../../model/orest/constants\";\nimport useTranslation from \"../../../../lib/translations/hooks/useTranslation\";\nimport MaterialTable, { MTableHeader } from 'material-table';\nimport { CustomToolTip } from \"../../../user-portal/components/CustomToolTip/CustomToolTip\";\nimport MaterialTableLocalization from \"../../../MaterialTableLocalization\";\nimport CustomAutoComplete from \"../../../CustomAutoComplete/CustomAutoComplete\";\nimport { SLASH } from \"../../../../model/globals\";\nimport TrackedChangesDialog from \"../../../TrackedChangesDialog\";\nimport LoadingSpinner from \"../../../LoadingSpinner\";\nimport CustomDatePicker from \"../../../CustomDatePicker/CustomDatePicker\";\nimport CustomTimePicker from \"../../../CustomTimePicker/CustomTimePicker\";\nimport { required } from \"../../../../state/utils/form\";\nimport renderFormElements, { ELEMENT_TYPES } from \"../../../render-form-elements\";\nimport { helper } from \"../../../../@webcms-globals\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    overflowTextStyle: {\n      fontSize: 'inherit',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    },\n    inputAdornmentStyle: {\n      position: \"absolute\",\n      right: \"2px\",\n      top: \"10px\",\n      \"&.MuiInputAdornment-positionStart\": {\n        marginRight: \"0\"\n      }\n    },\n    table: {\n      \"& tbody>.MuiTableRow-root:hover\": {\n        backgroundColor: \"rgb(163, 166, 180,0.1)\"\n      },\n      \"& tbody>.MuiTableRow-root:hover $ctxMenu\": {\n        visibility: 'visible'\n      },\n      \"& tbody>.MuiTableRow-root:hover $transDate\": {\n        visibility: 'hidden'\n      }\n    },\n    transDate: {\n      position: 'absolute',\n      visibility: 'visible'\n    },\n    ctxMenu: {\n      textAlign: 'right',\n      visibility: 'hidden'\n    }\n  };\n});\nvar VARIANT = 'outlined';\n\nfunction GuestComments() {\n  _s();\n\n  var _this = this,\n      _commentData$commenty,\n      _commentData$commenty2,\n      _commentData$commenty3,\n      _commentData$commenty4,\n      _commentData$commenty5,\n      _commentData$transdat,\n      _commentData$transdat2,\n      _commentData$transdat3,\n      _commentData$transtim,\n      _commentData$transtim2,\n      _commentData$transtim3,\n      _commentData$priority,\n      _commentData$priority2,\n      _commentData$priority3,\n      _commentData$priority4,\n      _commentData$priority5,\n      _commentData$note,\n      _commentData$note2,\n      _commentData$note3,\n      _commentData$refinfo,\n      _commentData$refinfo2,\n      _commentData$refinfo3,\n      _commentData$priority7,\n      _commentData$transdat5,\n      _commentData$transtim5,\n      _commentData$priority8,\n      _commentData$transdat6,\n      _commentData$transtim6;\n\n  var classes = useStyles();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar; //context\n\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t; //redux\n\n\n  var token = useSelector(function (state) {\n    var _state$orest, _state$orest$currentU;\n\n    return (state === null || state === void 0 ? void 0 : (_state$orest = state.orest) === null || _state$orest === void 0 ? void 0 : (_state$orest$currentU = _state$orest.currentUser) === null || _state$orest$currentU === void 0 ? void 0 : _state$orest$currentU.auth.access_token) || false;\n  });\n  var clientBase = useSelector(function (state) {\n    var _state$orest2, _state$orest2$state;\n\n    return (state === null || state === void 0 ? void 0 : (_state$orest2 = state.orest) === null || _state$orest2 === void 0 ? void 0 : (_state$orest2$state = _state$orest2.state) === null || _state$orest2$state === void 0 ? void 0 : _state$orest2$state.client) || false;\n  });\n  var hotelRefNo = useSelector(function (state) {\n    var _state$hotelinfo;\n\n    return (state === null || state === void 0 ? void 0 : (_state$hotelinfo = state.hotelinfo) === null || _state$hotelinfo === void 0 ? void 0 : _state$hotelinfo.currentHotelRefNo) || null;\n  });\n  var loginfo = useSelector(function (state) {\n    var _state$orest3, _state$orest3$current;\n\n    return (state === null || state === void 0 ? void 0 : (_state$orest3 = state.orest) === null || _state$orest3 === void 0 ? void 0 : (_state$orest3$current = _state$orest3.currentUser) === null || _state$orest3$current === void 0 ? void 0 : _state$orest3$current.loginfo) || false;\n  }); //state\n\n  var _useState = useState([]),\n      commentList = _useState[0],\n      setCommentList = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      isSaving = _useState3[0],\n      setIsSaving = _useState3[1];\n\n  var _useState4 = useState(false),\n      isLoadingCommentData = _useState4[0],\n      setIsLoadingCommentData = _useState4[1];\n\n  var _useState5 = useState(false),\n      openAddDialog = _useState5[0],\n      setOpenAddDialog = _useState5[1];\n\n  var _useState6 = useState(false),\n      openTrackedDialog = _useState6[0],\n      setOpenTrackedDialog = _useState6[1];\n\n  var _useState7 = useState({\n    commentype: {\n      value: '',\n      isError: false,\n      required: false\n    },\n    priorityid: {\n      value: '',\n      isError: false,\n      required: true\n    },\n    refinfo: {\n      value: '',\n      isError: false,\n      required: false\n    },\n    note: {\n      value: '',\n      isError: false,\n      required: false\n    },\n    transdate: {\n      value: moment(),\n      isError: false,\n      required: false\n    },\n    transtime: {\n      value: moment(),\n      isError: false,\n      required: false\n    }\n  }),\n      commentData = _useState7[0],\n      setCommentData = _useState7[1];\n\n  var _useState8 = useState(false),\n      isInitialStateLoad = _useState8[0],\n      setIsInitialStateLoad = _useState8[1];\n\n  var _useState9 = useState(null),\n      getData = _useState9[0],\n      setGetData = _useState9[1];\n\n  var _useState10 = useState(null),\n      reservInfo = _useState10[0],\n      setReservInfo = _useState10[1];\n\n  var _useState11 = useState(false),\n      isAdd = _useState11[0],\n      setIsAdd = _useState11[1];\n\n  var tableLocalization = MaterialTableLocalization();\n  var columns = [{\n    title: t('str_date'),\n    field: 'transdate',\n    render: function render(props) {\n      return __jsx(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: classes.transDate,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, __jsx(Typography, {\n        style: {\n          fontSize: 'inherit'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }\n      }, props.transdate && moment(props.transdate).format('L'))), __jsx(\"div\", {\n        className: classes.ctxMenu,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }, __jsx(PopupState, {\n        variant: \"popover\",\n        popupId: \"status-menu\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }, function (popupState) {\n        return __jsx(React.Fragment, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 33\n          }\n        }, __jsx(IconButton, _extends({\n          style: {\n            padding: '0'\n          }\n        }, bindTrigger(popupState), {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 37\n          }\n        }), __jsx(MoreVertIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 41\n          }\n        })), __jsx(Menu, _extends({\n          classes: {\n            paper: classes.popoverStyle,\n            list: classes.menuStyle\n          },\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"left\"\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"left\"\n          },\n          getContentAnchorEl: null\n        }, bindMenu(popupState), {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 37\n          }\n        }), __jsx(MenuItem, {\n          onClick: function onClick() {\n            handleGetComment(props.gid);\n            setOpenAddDialog(true);\n            setIsAdd(false);\n            popupState.close();\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 41\n          }\n        }, __jsx(EditIcon, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 45\n          }\n        }), t('str_edit'))));\n      })));\n    }\n  }, {\n    title: t('str_time'),\n    field: 'transtime',\n    render: function render(props) {\n      return __jsx(Typography, {\n        style: {\n          fontSize: 'inherit'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 32\n        }\n      }, props.transtime && moment(props.transtime, \"HH:mm:ss\").format(\"HH:mm\"));\n    }\n  }, {\n    title: t('str_guestNo'),\n    field: 'clientid',\n    headerStyle: {\n      textAlign: 'right'\n    },\n    render: function render(props) {\n      return __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          textAlign: 'right',\n          minWidth: '100px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 32\n        }\n      }, props.clientid);\n    }\n  }, {\n    title: t('str_guest'),\n    field: 'clientname',\n    headerStyle: {\n      minWidth: '160px'\n    },\n    cellStyle: {\n      minWidth: '160px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    }\n  }, {\n    title: t('str_roomNo'),\n    field: 'roomno',\n    render: function render(props) {\n      return __jsx(\"div\", {\n        style: {\n          textAlign: 'center',\n          backgroundColor: '#FF69B4',\n          borderRadius: '4px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }\n      }, __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          padding: '4px',\n          color: '#FFF'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }\n      }, props.roomno));\n    }\n  }, {\n    title: t('str_commentType'),\n    field: t('commentypelocal') || 'commentypedesc'\n  }, {\n    title: t('str_subject'),\n    field: 'typecodelist',\n    headerStyle: {\n      minWidth: '255px'\n    },\n    cellStyle: {\n      minWidth: '255px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    },\n    render: function render(props) {\n      var _props$typecatcodelis;\n\n      return ((_props$typecatcodelis = props.typecatcodelist) === null || _props$typecatcodelis === void 0 ? void 0 : _props$typecatcodelis.length) > 37 ? __jsx(CustomToolTip, {\n        title: props.typecatcodelist,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }\n      }, __jsx(Typography, {\n        className: classes.overflowTextStyle,\n        style: {\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 25\n        }\n      }, props.typecatcodelist)) : __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }\n      }, props.typecatcodelist);\n    }\n  }, {\n    title: t('str_category'),\n    field: 'catcodelist',\n    headerStyle: {\n      minWidth: '255px'\n    },\n    cellStyle: {\n      minWidth: '255px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    },\n    render: function render(props) {\n      var _props$typecatcodelis2;\n\n      return ((_props$typecatcodelis2 = props.typecatcodelist) === null || _props$typecatcodelis2 === void 0 ? void 0 : _props$typecatcodelis2.length) > 37 ? __jsx(CustomToolTip, {\n        title: props.typecatcodelist,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }\n      }, __jsx(Typography, {\n        className: classes.overflowTextStyle,\n        style: {\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 25\n        }\n      }, props.typecatcodelist)) : __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }\n      }, props.typecatcodelist);\n    }\n  }, {\n    title: t('str_group'),\n    field: 'grpcodelist',\n    headerStyle: {\n      minWidth: '255px'\n    },\n    cellStyle: {\n      minWidth: '255px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    },\n    render: function render(props) {\n      var _props$typegrpcodelis;\n\n      return ((_props$typegrpcodelis = props.typegrpcodelist) === null || _props$typegrpcodelis === void 0 ? void 0 : _props$typegrpcodelis.length) > 37 ? __jsx(CustomToolTip, {\n        title: props.typegrpcodelist,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 21\n        }\n      }, __jsx(Typography, {\n        className: classes.overflowTextStyle,\n        style: {\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      }, props.typegrpcodelist)) : __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          maxWidth: '150px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }\n      }, props.typegrpcodelist);\n    }\n  }, {\n    title: t('str_source'),\n    field: 'sourcecode',\n    headerStyle: {\n      minWidth: '100px'\n    },\n    cellStyle: {\n      minWidth: '100px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    }\n  }, {\n    title: t('str_priority'),\n    field: 'prioritycode'\n  }, {\n    title: t('str_surveyNo'),\n    field: 'surveyid',\n    render: function render(props) {\n      return __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          textAlign: 'right',\n          minWidth: '100px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 32\n        }\n      }, (props === null || props === void 0 ? void 0 : props.surveyid) || 0);\n    }\n  }, {\n    title: t('str_survey'),\n    field: 'surveydesc',\n    headerStyle: {\n      minWidth: '255px'\n    },\n    cellStyle: {\n      minWidth: '255px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    }\n  }, {\n    title: t('str_comment'),\n    field: 'notelist',\n    headerStyle: {\n      minWidth: '255px'\n    },\n    cellStyle: {\n      minWidth: '255px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    },\n    render: function render(props) {\n      var _props$note;\n\n      return ((_props$note = props.note) === null || _props$note === void 0 ? void 0 : _props$note.length) > 37 ? __jsx(CustomToolTip, {\n        title: props.note,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }\n      }, __jsx(Typography, {\n        className: classes.overflowTextStyle,\n        style: {\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 25\n        }\n      }, props.note)) : __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          maxWidth: '255px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 21\n        }\n      }, props.note);\n    }\n  }, {\n    title: t('str_hotelComment'),\n    field: 'refinfolist',\n    headerStyle: {\n      minWidth: '255px'\n    },\n    cellStyle: {\n      minWidth: '255px',\n      borderLeft: '1px solid rgba(224, 224, 224, 1)'\n    }\n  }, {\n    title: t('str_resHotelRefno'),\n    field: 'reshotelrefno',\n    headerStyle: {\n      textAlign: 'right'\n    },\n    render: function render(props) {\n      return __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          textAlign: 'right'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 32\n        }\n      }, props.reshotelrefno);\n    }\n  }, {\n    title: t('str_resHotelName'),\n    field: 'reshotelname'\n  }, {\n    title: \"\".concat(t('str_trans'), \"#\"),\n    field: 'transno',\n    headerStyle: {\n      textAlign: 'right'\n    },\n    render: function render(props) {\n      return __jsx(Typography, {\n        style: {\n          fontSize: 'inherit',\n          textAlign: 'right',\n          minWidth: '100px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 32\n        }\n      }, props.transno);\n    }\n  }];\n  var formElements = [{\n    type: ELEMENT_TYPES.textField,\n    id: 'roomno',\n    name: 'roomno',\n    value: (reservInfo === null || reservInfo === void 0 ? void 0 : reservInfo.roomno) || (clientBase === null || clientBase === void 0 ? void 0 : clientBase.resroomno),\n    disabled: true,\n    variant: VARIANT,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 6\n    }\n  }, {\n    type: ELEMENT_TYPES.textField,\n    id: 'clientid',\n    name: 'clientid',\n    value: clientBase === null || clientBase === void 0 ? void 0 : clientBase.fullname,\n    disabled: true,\n    label: t('str_roomNo'),\n    variant: VARIANT,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 6\n    }\n  }, {\n    type: ELEMENT_TYPES.autoComplete,\n    id: 'commentype',\n    name: 'commentype',\n    value: ((_commentData$commenty = commentData.commentype) === null || _commentData$commenty === void 0 ? void 0 : _commentData$commenty.value) || null,\n    error: (_commentData$commenty2 = commentData.commentype) === null || _commentData$commenty2 === void 0 ? void 0 : _commentData$commenty2.isError,\n    required: (_commentData$commenty3 = commentData.commentype) === null || _commentData$commenty3 === void 0 ? void 0 : _commentData$commenty3.required,\n    label: t('str_commentType'),\n    onChange: function onChange(newValue, name) {\n      return handleTextFieldChange(newValue, name);\n    },\n    onLoad: function onLoad(initialValue) {\n      var data = _objectSpread({}, commentData);\n\n      data.commentype.value = initialValue;\n      setCommentData(data);\n    },\n    endpoint: 'transtype/view/commentlinetype',\n    params: {\n      code: '',\n      text: ''\n    },\n    initialId: isInitialStateLoad && typeof ((_commentData$commenty4 = commentData.commentype) === null || _commentData$commenty4 === void 0 ? void 0 : _commentData$commenty4.value) !== 'object' ? (_commentData$commenty5 = commentData.commentype) === null || _commentData$commenty5 === void 0 ? void 0 : _commentData$commenty5.value : false,\n    searchInitialParam: 'code',\n    showOptionLabel: 'description',\n    showOption: 'description',\n    useDefaultFilter: true,\n    variant: VARIANT,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 6\n    }\n  }, {\n    type: ELEMENT_TYPES.datePicker,\n    id: 'transdate',\n    name: 'transdate',\n    value: (_commentData$transdat = commentData.transdate) === null || _commentData$transdat === void 0 ? void 0 : _commentData$transdat.value,\n    error: (_commentData$transdat2 = commentData.transdate) === null || _commentData$transdat2 === void 0 ? void 0 : _commentData$transdat2.isError,\n    required: (_commentData$transdat3 = commentData.transdate) === null || _commentData$transdat3 === void 0 ? void 0 : _commentData$transdat3.required,\n    label: t('str_date'),\n    onChange: function onChange(newValue, name) {\n      return handleTextFieldChange(newValue, name);\n    },\n    variant: VARIANT,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 3\n    }\n  }, {\n    type: ELEMENT_TYPES.timePicker,\n    id: 'transtime',\n    name: 'transtime',\n    value: (_commentData$transtim = commentData.transtime) === null || _commentData$transtim === void 0 ? void 0 : _commentData$transtim.value,\n    error: (_commentData$transtim2 = commentData.transtime) === null || _commentData$transtim2 === void 0 ? void 0 : _commentData$transtim2.isError,\n    required: (_commentData$transtim3 = commentData.transtime) === null || _commentData$transtim3 === void 0 ? void 0 : _commentData$transtim3.required,\n    label: t('str_time'),\n    onChange: function onChange(newValue, name) {\n      return handleTextFieldChange(newValue, name);\n    },\n    variant: VARIANT,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 3\n    }\n  }, {\n    type: ELEMENT_TYPES.textField,\n    id: 'insuserid',\n    name: 'insuserid',\n    value: loginfo === null || loginfo === void 0 ? void 0 : loginfo.fullname,\n    disabled: true,\n    label: t('str_employee'),\n    variant: VARIANT,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 6\n    }\n  }, {\n    type: ELEMENT_TYPES.autoComplete,\n    id: 'priorityid',\n    name: 'priorityid',\n    value: ((_commentData$priority = commentData.priorityid) === null || _commentData$priority === void 0 ? void 0 : _commentData$priority.value) || null,\n    error: (_commentData$priority2 = commentData.priorityid) === null || _commentData$priority2 === void 0 ? void 0 : _commentData$priority2.isError,\n    required: (_commentData$priority3 = commentData.priorityid) === null || _commentData$priority3 === void 0 ? void 0 : _commentData$priority3.required,\n    label: t('str_priority'),\n    onChange: function onChange(newValue, name) {\n      return handleTextFieldChange(newValue, name);\n    },\n    onLoad: function onLoad(initialValue) {\n      var data = _objectSpread({}, commentData);\n\n      data.priorityid.value = initialValue;\n      setCommentData(data);\n    },\n    endpoint: 'tspriority/list',\n    params: {\n      query: 'isactive:true',\n      code: '',\n      text: ''\n    },\n    initialId: isInitialStateLoad && typeof ((_commentData$priority4 = commentData.priorityid) === null || _commentData$priority4 === void 0 ? void 0 : _commentData$priority4.value) !== 'object' ? (_commentData$priority5 = commentData.priorityid) === null || _commentData$priority5 === void 0 ? void 0 : _commentData$priority5.value : false,\n    showOptionLabel: 'description',\n    showOption: 'description',\n    variant: VARIANT,\n    useDefaultFilter: true,\n    fullWidth: true,\n    gridProps: {\n      xs: 12,\n      sm: 6\n    }\n  }, {\n    type: ELEMENT_TYPES.textField,\n    id: 'note',\n    name: 'note',\n    value: (_commentData$note = commentData.note) === null || _commentData$note === void 0 ? void 0 : _commentData$note.value,\n    error: (_commentData$note2 = commentData.note) === null || _commentData$note2 === void 0 ? void 0 : _commentData$note2.isError,\n    required: (_commentData$note3 = commentData.note) === null || _commentData$note3 === void 0 ? void 0 : _commentData$note3.required,\n    label: t('str_note'),\n    onChange: function onChange(e) {\n      return handleTextFieldChange(e);\n    },\n    variant: VARIANT,\n    fullWidth: true,\n    multiLine: true,\n    rows: 4,\n    rowsMax: 4,\n    gridProps: {\n      xs: 12\n    }\n  }, {\n    type: ELEMENT_TYPES.textField,\n    id: 'refinfo',\n    name: 'refinfo',\n    value: (_commentData$refinfo = commentData.refinfo) === null || _commentData$refinfo === void 0 ? void 0 : _commentData$refinfo.value,\n    error: (_commentData$refinfo2 = commentData.refinfo) === null || _commentData$refinfo2 === void 0 ? void 0 : _commentData$refinfo2.isError,\n    required: (_commentData$refinfo3 = commentData.refinfo) === null || _commentData$refinfo3 === void 0 ? void 0 : _commentData$refinfo3.required,\n    label: t('str_refInfo'),\n    onChange: function onChange(e) {\n      return handleTextFieldChange(e);\n    },\n    variant: VARIANT,\n    fullWidth: true,\n    multiLine: true,\n    rows: 4,\n    rowsMax: 4,\n    gridProps: {\n      xs: 12\n    }\n  }];\n  useEffect(function () {\n    getCommentLineList();\n    UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.CLIENT + SLASH + OREST_ENDPOINT.RESERVNO,\n      token: token,\n      params: {\n        clientid: clientBase === null || clientBase === void 0 ? void 0 : clientBase.id\n      }\n    }).then(function (res) {\n      if (res.status === 200) {\n        setReservInfo(res.data.data);\n      }\n    });\n  }, []);\n  useEffect(function () {\n    var isEffect = true;\n\n    if (isEffect && commentData && getData) {\n      getData.transtime = moment(getData.transtime, 'HH:mm:ss').toDate();\n      var newInitialState = helper.objectMapper(commentData, getData, ['priorityid']);\n      setCommentData(newInitialState);\n      setIsInitialStateLoad(true);\n    }\n\n    return function () {\n      isEffect = false;\n    };\n  }, [getData]);\n\n  var handleTextFieldChange = function handleTextFieldChange(event, key) {\n    var _commentData$name, _commentData$name2;\n\n    var name = key ? key : event.target.name;\n    var value = event !== null && event !== void 0 && event.target ? event.target.value : event;\n    setCommentData(_objectSpread(_objectSpread({}, commentData), {}, _defineProperty({}, name, _objectSpread(_objectSpread({}, commentData[name]), {}, {\n      value: value,\n      isError: ((_commentData$name = commentData[name]) === null || _commentData$name === void 0 ? void 0 : _commentData$name.isRequired) && !!required(value),\n      errorText: ((_commentData$name2 = commentData[name]) === null || _commentData$name2 === void 0 ? void 0 : _commentData$name2.isRequired) && !!required(value)\n    }))));\n  };\n\n  var getCommentLineList = function getCommentLineList() {\n    setIsLoading(true);\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.CLNTCOMM,\n      token: token,\n      params: {\n        query: \"clientid:\".concat(clientBase === null || clientBase === void 0 ? void 0 : clientBase.id),\n        hotelrefno: hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n      }\n    }).then(function (res) {\n      if (res.status === 200) {\n        setCommentList(res.data.data);\n      } else if (res.status === 401) {\n        enqueueSnackbar('401 Unauthorized', {\n          variant: 'error'\n        });\n      } else if (res.status === 403) {\n        enqueueSnackbar('403 Forbidden', {\n          variant: 'error'\n        });\n      } else {\n        var retErr = isErrorMsg(res);\n        enqueueSnackbar(t(retErr.errorMsg), {\n          variant: 'error'\n        });\n      }\n\n      setIsLoading(false);\n    });\n  };\n\n  var handleCommentDef = function handleCommentDef() {\n    UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.CLNTCOMM + SLASH + OREST_ENDPOINT.DEF,\n      token: token,\n      params: {\n        hotelrefno: hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n      }\n    }).then(function (res) {\n      if (res.status === 200) {//setGetData(res.data.data)\n      }\n    });\n  };\n\n  var handleSave = function handleSave() {\n    var _commentData$commenty6, _commentData$priority6, _commentData$transdat4, _commentData$transtim4;\n\n    var data = commentData;\n    data.clientid = clientBase === null || clientBase === void 0 ? void 0 : clientBase.id;\n    data.commentype = typeof commentData.commentype.value === 'object' ? (_commentData$commenty6 = commentData.commentype.value) === null || _commentData$commenty6 === void 0 ? void 0 : _commentData$commenty6.code : commentData.commentype.value;\n    data.priorityid = typeof commentData.priorityid.value === 'object' ? commentData.priorityid.value.id : (_commentData$priority6 = commentData.priorityid) === null || _commentData$priority6 === void 0 ? void 0 : _commentData$priority6.value;\n    data.refinfo = commentData.refinfo.value;\n    data.note = commentData.note.value;\n    data.transdate = (_commentData$transdat4 = commentData.transdate) !== null && _commentData$transdat4 !== void 0 && _commentData$transdat4.value ? moment(commentData.transdate.value).format(OREST_ENDPOINT.DATEFORMAT) : null;\n    data.transtime = (_commentData$transtim4 = commentData.transtime) !== null && _commentData$transtim4 !== void 0 && _commentData$transtim4.value ? moment(commentData.transtime.value).format('HH:mm') : null;\n    data.hotelrefno = hotelRefNo || GENERAL_SETTINGS.HOTELREFNO;\n\n    if (reservInfo.res) {\n      data.reservno = reservInfo.res;\n    }\n\n    setIsSaving(true);\n\n    if (isAdd) {\n      Insert({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.CLNTCOMM,\n        token: token,\n        data: data\n      }).then(function (res) {\n        setIsSaving(false);\n\n        if (res.status === 200) {\n          getCommentLineList();\n          setTimeout(function () {\n            handleReset();\n          }, 200);\n          enqueueSnackbar(t('str_processCompletedSuccessfully'), {\n            variant: 'success'\n          });\n          setOpenAddDialog(false);\n        } else {\n          var retErr = isErrorMsg(res);\n          enqueueSnackbar(t(retErr.errorMsg), {\n            variant: 'error'\n          });\n        }\n      });\n    } else {\n      Patch({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.CLNTCOMM,\n        token: token,\n        gid: commentData.gid,\n        params: {\n          hotelrefno: hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n        },\n        data: data\n      }).then(function (res) {\n        setIsSaving(false);\n\n        if (res.status === 200) {\n          getCommentLineList();\n          setTimeout(function () {\n            handleReset();\n          }, 50);\n          setOpenAddDialog(false);\n          enqueueSnackbar(t('str_updateIsSuccessfullyDone'), {\n            variant: 'success'\n          });\n        } else {\n          var retErr = isErrorMsg(res);\n          enqueueSnackbar(t(retErr.errorMsg), {\n            variant: 'error'\n          });\n        }\n      });\n    }\n  };\n\n  var handleGetComment = function handleGetComment(gid) {\n    setIsLoadingCommentData(true);\n    UseOrest({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.CLNTCOMM + SLASH + 'get' + SLASH + gid,\n      token: token,\n      params: {\n        allhotels: true\n      }\n    }).then(function (res) {\n      if (res.status === 200) {\n        var data = res.data.data;\n        setGetData(data);\n      }\n    }).then(function () {\n      setIsLoadingCommentData(false);\n    });\n  };\n\n  var handleReset = function handleReset() {\n    setCommentData({\n      commentype: {\n        value: '',\n        isError: false,\n        required: false\n      },\n      priorityid: {\n        value: '',\n        isError: false,\n        required: true\n      },\n      refinfo: {\n        value: '',\n        isError: false,\n        required: false\n      },\n      note: {\n        value: '',\n        isError: false,\n        required: false\n      },\n      transdate: {\n        value: moment(),\n        isError: false,\n        required: false\n      },\n      transtime: {\n        value: moment(),\n        isError: false,\n        required: false\n      }\n    });\n    setGetData(null);\n    setIsAdd(false);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 15\n    }\n  }, __jsx(CustomToolTip, {\n    title: t('str_refresh'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 19\n    }\n  }, __jsx(IconButton, {\n    onClick: getCommentLineList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 23\n    }\n  }, __jsx(CachedIcon, {\n    style: {\n      color: \"#F16A4B\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 27\n    }\n  }))), __jsx(CustomToolTip, {\n    title: t('str_add'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 19\n    }\n  }, __jsx(IconButton, {\n    onClick: function onClick() {\n      setOpenAddDialog(true);\n      setIsAdd(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 23\n    }\n  }, __jsx(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 27\n    }\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: classes.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 19\n    }\n  }, __jsx(MaterialTable, {\n    columns: columns,\n    data: commentList,\n    isLoading: isLoading,\n    options: {\n      headerStyle: {\n        cursor: 'default',\n        fontWeight: \"bold\",\n        fontSize: \"12px\",\n        color: \"#A3A6B4\",\n        textTransform: \"uppercase\",\n        backgroundColor: \"#F5F6FA\",\n        whiteSpace: 'nowrap',\n        borderLeft: '1px solid #FFF'\n      },\n      cellStyle: {\n        whiteSpace: 'nowrap',\n        borderLeft: '1px solid rgba(224, 224, 224, 1)',\n        minWidth: '100px'\n      },\n      toolbar: false,\n      selection: false,\n      sorting: false\n    },\n    localization: tableLocalization,\n    components: {\n      Header: function Header(props) {\n        var overrideProps = _objectSpread({}, props);\n\n        overrideProps.draggable = false;\n        return __jsx(MTableHeader, _extends({}, overrideProps, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 39\n          }\n        }));\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 23\n    }\n  })))), __jsx(Dialog, {\n    open: openAddDialog,\n    fullWidth: true,\n    maxWidth: 'md',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    style: {\n      padding: '24px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 15\n    }\n  }, isLoadingCommentData ? __jsx(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 772,\n      columnNumber: 27\n    }\n  }) : __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 774,\n      columnNumber: 27\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 31\n    }\n  }, __jsx(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 776,\n      columnNumber: 35\n    }\n  }, t('str_addGuestComments'))), formElements.map(function (item, index) {\n    return __jsx(Grid, _extends({\n      item: true\n    }, item === null || item === void 0 ? void 0 : item.gridProps, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 39\n      }\n    }), renderFormElements(item));\n  }), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 785,\n      columnNumber: 31\n    }\n  }, __jsx(\"div\", {\n    style: {\n      textAlign: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 786,\n      columnNumber: 35\n    }\n  }, __jsx(Button, {\n    disabled: isSaving,\n    variant: 'outlined',\n    color: 'primary',\n    startIcon: __jsx(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 54\n      }\n    }),\n    onClick: function onClick() {\n      if (commentData) {\n        setOpenTrackedDialog(true);\n      } else {\n        setOpenAddDialog(false);\n        setTimeout(function () {\n          handleReset();\n        }, 100);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 39\n    }\n  }, t('str_cancel')), !((_commentData$priority7 = commentData.priorityid) !== null && _commentData$priority7 !== void 0 && _commentData$priority7.value) || (_commentData$transdat5 = commentData.transdate) !== null && _commentData$transdat5 !== void 0 && _commentData$transdat5.isError || (_commentData$transtim5 = commentData.transtime) !== null && _commentData$transtim5 !== void 0 && _commentData$transtim5.isError ? __jsx(CustomToolTip, {\n    title: __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 810,\n        columnNumber: 55\n      }\n    }, __jsx(Typography, {\n      style: {\n        fontWeight: '600',\n        fontSize: 'inherit'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 811,\n        columnNumber: 59\n      }\n    }, t('str_invalidFields')), !((_commentData$priority8 = commentData.priorityid) !== null && _commentData$priority8 !== void 0 && _commentData$priority8.value) && __jsx(Typography, {\n      style: {\n        fontSize: 'inherit'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 67\n      }\n    }, t('str_priority')), ((_commentData$transdat6 = commentData.transdate) === null || _commentData$transdat6 === void 0 ? void 0 : _commentData$transdat6.isError) && __jsx(Typography, {\n      style: {\n        fontSize: 'inherit'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 67\n      }\n    }, t('str_date')), ((_commentData$transtim6 = commentData.transtime) === null || _commentData$transtim6 === void 0 ? void 0 : _commentData$transtim6.isError) && __jsx(Typography, {\n      style: {\n        fontSize: 'inherit'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 826,\n        columnNumber: 67\n      }\n    }, t('str_time'))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 47\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 46\n    }\n  }, __jsx(Button, {\n    disabled: true,\n    style: {\n      marginLeft: '8px'\n    },\n    color: 'primary',\n    variant: 'contained',\n    startIcon: __jsx(CheckIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 66\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 833,\n      columnNumber: 51\n    }\n  }, t('str_save')))) : __jsx(Button, {\n    disabled: isSaving,\n    style: {\n      marginLeft: '8px'\n    },\n    color: 'primary',\n    variant: 'contained',\n    startIcon: isSaving ? __jsx(LoadingSpinner, {\n      size: 18,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 73\n      }\n    }) : __jsx(CheckIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 103\n      }\n    }),\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 47\n    }\n  }, t('str_save'))))))), __jsx(TrackedChangesDialog, {\n    open: openTrackedDialog,\n    onPressNo: function onPressNo(e) {\n      return setOpenTrackedDialog(e);\n    },\n    onPressYes: function onPressYes(e) {\n      setOpenTrackedDialog(e);\n      setOpenAddDialog(false);\n      setTimeout(function () {\n        handleReset();\n      }, 100);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 11\n    }\n  }));\n}\n\n_s(GuestComments, \"7GjIaHrRK7QrbSp98gwZxsYd+h4=\", false, function () {\n  return [useStyles, useSnackbar, useTranslation, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = GuestComments;\nexport default GuestComments;\n\nvar _c;\n\n$RefreshReg$(_c, \"GuestComments\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/guest/account/GuestComments/GuestComments.js"],"names":["React","useEffect","useState","useContext","makeStyles","useSelector","ViewList","Insert","UseOrest","Patch","moment","Button","ClickAwayListener","Dialog","IconButton","InputAdornment","Grid","Menu","MenuItem","Typography","TextField","CachedIcon","AddIcon","CloseIcon","CheckIcon","MoreVertIcon","EditIcon","DatePicker","TimePicker","LocalizationProvider","MomentAdapter","useSnackbar","PopupState","bindTrigger","bindMenu","WebCmsGlobal","isErrorMsg","OREST_ENDPOINT","useTranslation","MaterialTable","MTableHeader","CustomToolTip","MaterialTableLocalization","CustomAutoComplete","SLASH","TrackedChangesDialog","LoadingSpinner","CustomDatePicker","CustomTimePicker","required","renderFormElements","ELEMENT_TYPES","helper","useStyles","theme","overflowTextStyle","fontSize","whiteSpace","overflow","textOverflow","inputAdornmentStyle","position","right","top","marginRight","table","backgroundColor","visibility","transDate","ctxMenu","textAlign","VARIANT","GuestComments","classes","enqueueSnackbar","GENERAL_SETTINGS","t","token","state","orest","currentUser","auth","access_token","clientBase","client","hotelRefNo","hotelinfo","currentHotelRefNo","loginfo","commentList","setCommentList","isLoading","setIsLoading","isSaving","setIsSaving","isLoadingCommentData","setIsLoadingCommentData","openAddDialog","setOpenAddDialog","openTrackedDialog","setOpenTrackedDialog","commentype","value","isError","priorityid","refinfo","note","transdate","transtime","commentData","setCommentData","isInitialStateLoad","setIsInitialStateLoad","getData","setGetData","reservInfo","setReservInfo","isAdd","setIsAdd","tableLocalization","columns","title","field","render","props","format","popupState","padding","paper","popoverStyle","list","menuStyle","vertical","horizontal","handleGetComment","gid","close","headerStyle","minWidth","clientid","cellStyle","borderLeft","borderRadius","color","roomno","typecatcodelist","length","maxWidth","typegrpcodelist","surveyid","reshotelrefno","transno","formElements","type","textField","id","name","resroomno","disabled","variant","fullWidth","gridProps","xs","sm","fullname","label","autoComplete","error","onChange","newValue","handleTextFieldChange","onLoad","initialValue","data","endpoint","params","code","text","initialId","searchInitialParam","showOptionLabel","showOption","useDefaultFilter","datePicker","timePicker","query","e","multiLine","rows","rowsMax","getCommentLineList","apiUrl","OREST_URL","CLIENT","RESERVNO","then","res","status","isEffect","toDate","newInitialState","objectMapper","event","key","target","isRequired","errorText","CLNTCOMM","hotelrefno","HOTELREFNO","retErr","errorMsg","handleCommentDef","DEF","handleSave","DATEFORMAT","reservno","setTimeout","handleReset","allhotels","cursor","fontWeight","textTransform","toolbar","selection","sorting","Header","overrideProps","draggable","map","item","index","marginLeft"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useContext} from \"react\";\nimport {makeStyles} from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { ViewList, Insert, UseOrest, Patch } from '@webcms/orest'\nimport moment from 'moment'\nimport {\n    Button,\n    ClickAwayListener,\n    Dialog,\n    IconButton,\n    InputAdornment,\n    Grid,\n    Menu,\n    MenuItem,\n    Typography,\n    TextField,\n} from '@material-ui/core'\nimport CachedIcon from '@material-ui/icons/Cached';\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {\n    DatePicker,\n    TimePicker,\n    LocalizationProvider,\n} from '@material-ui/pickers'\nimport MomentAdapter from '@date-io/moment'\nimport {useSnackbar} from 'notistack'\nimport PopupState, { bindTrigger, bindMenu } from 'material-ui-popup-state';\nimport WebCmsGlobal from \"../../../webcms-global\";\nimport {isErrorMsg, OREST_ENDPOINT} from \"../../../../model/orest/constants\";\nimport useTranslation from \"../../../../lib/translations/hooks/useTranslation\";\nimport MaterialTable, { MTableHeader } from 'material-table'\nimport {CustomToolTip} from \"../../../user-portal/components/CustomToolTip/CustomToolTip\";\nimport MaterialTableLocalization from \"../../../MaterialTableLocalization\";\nimport CustomAutoComplete from \"../../../CustomAutoComplete/CustomAutoComplete\";\nimport {SLASH} from \"../../../../model/globals\";\nimport TrackedChangesDialog from \"../../../TrackedChangesDialog\";\nimport LoadingSpinner from \"../../../LoadingSpinner\";\nimport CustomDatePicker from \"../../../CustomDatePicker/CustomDatePicker\";\nimport CustomTimePicker from \"../../../CustomTimePicker/CustomTimePicker\";\nimport {required} from \"../../../../state/utils/form\";\nimport renderFormElements, {ELEMENT_TYPES} from \"../../../render-form-elements\";\nimport {helper} from \"../../../../@webcms-globals\";\n\nconst useStyles = makeStyles(theme => ({\n    overflowTextStyle: {\n        fontSize: 'inherit',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow:'ellipsis'\n    },\n    inputAdornmentStyle: {\n        position:\"absolute\",\n        right:\"2px\",\n        top:\"10px\",\n        \"&.MuiInputAdornment-positionStart\": {\n            marginRight:\"0\"\n        }\n    },\n    table: {\n        \"& tbody>.MuiTableRow-root:hover\": {\n            backgroundColor: \"rgb(163, 166, 180,0.1)\"\n        },\n        \"& tbody>.MuiTableRow-root:hover $ctxMenu\": {\n            visibility: 'visible'\n        },\n        \"& tbody>.MuiTableRow-root:hover $transDate\": {\n            visibility: 'hidden'\n        },\n    },\n    transDate: {\n        position: 'absolute',\n        visibility: 'visible'\n    },\n    ctxMenu: {\n        textAlign: 'right',\n        visibility: 'hidden'\n    },\n}))\n\nconst VARIANT = 'outlined'\n\nfunction GuestComments() {\n    const classes = useStyles();\n\n    const { enqueueSnackbar } = useSnackbar()\n\n    //context\n    const { GENERAL_SETTINGS } = useContext(WebCmsGlobal);\n    const { t } = useTranslation();\n\n    //redux\n    const token = useSelector((state) => state?.orest?.currentUser?.auth.access_token || false);\n    const clientBase = useSelector((state) => state?.orest?.state?.client || false)\n    const hotelRefNo = useSelector(state => state?.hotelinfo?.currentHotelRefNo || null);\n    const loginfo = useSelector((state) => state?.orest?.currentUser?.loginfo || false)\n\n\n    //state\n    const [commentList, setCommentList] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isSaving, setIsSaving] = useState(false);\n    const [isLoadingCommentData, setIsLoadingCommentData] = useState(false);\n    const [openAddDialog, setOpenAddDialog] = useState(false);\n    const [openTrackedDialog, setOpenTrackedDialog] = useState(false);\n    const [commentData, setCommentData] = useState({\n        commentype: {value: '', isError: false, required: false},\n        priorityid: {value: '', isError: false, required: true},\n        refinfo: {value: '', isError: false, required: false},\n        note: {value: '', isError: false, required: false},\n        transdate: {value: moment(), isError: false, required: false},\n        transtime: {value: moment(), isError: false, required: false},\n    });\n    const [isInitialStateLoad, setIsInitialStateLoad] = useState(false)\n    const [getData, setGetData] = useState(null)\n    const [reservInfo, setReservInfo] = useState(null);\n    const [isAdd, setIsAdd] = useState(false);\n\n\n    const tableLocalization = MaterialTableLocalization();\n\n    const columns = [\n        {\n            title: t('str_date'),\n            field: 'transdate',\n            render: (props) => (\n                <div style={{position: 'relative'}}>\n                    <div className={classes.transDate}>\n                        <Typography style={{fontSize: 'inherit'}}>\n                            {props.transdate && moment(props.transdate).format('L')}\n                        </Typography>\n                    </div>\n                    <div className={classes.ctxMenu}>\n                        <PopupState variant=\"popover\" popupId=\"status-menu\">\n                            {(popupState) => (\n                                <React.Fragment>\n                                    <IconButton\n                                        style={{padding: '0'}}\n                                        {...bindTrigger(popupState)}\n                                    >\n                                        <MoreVertIcon />\n                                    </IconButton>\n                                    <Menu\n                                        classes={{\n                                            paper: classes.popoverStyle,\n                                            list: classes.menuStyle\n                                        }}\n                                        anchorOrigin={{\n                                            vertical: \"bottom\",\n                                            horizontal: \"left\"\n                                        }}\n                                        transformOrigin={{\n                                            vertical: \"top\",\n                                            horizontal: \"left\"\n                                        }}\n                                        getContentAnchorEl={null}\n                                        {...bindMenu(popupState)}\n                                    >\n                                        <MenuItem onClick={() => {\n                                            handleGetComment(props.gid);\n                                            setOpenAddDialog(true);\n                                            setIsAdd(false);\n                                            popupState.close();\n                                        }}\n                                        >\n                                            <EditIcon/>\n                                            {t('str_edit')}\n                                        </MenuItem>\n                                    </Menu>\n                                </React.Fragment>\n                            )}\n                        </PopupState>\n                    </div>\n                </div>\n            )\n        },\n        {\n            title: t('str_time'),\n            field: 'transtime',\n            render: (props) => <Typography style={{fontSize: 'inherit'}}>{props.transtime && moment(props.transtime, \"HH:mm:ss\").format(\"HH:mm\")}</Typography>\n        },\n        {\n            title: t('str_guestNo'),\n            field: 'clientid',\n            headerStyle: {\n                textAlign: 'right'\n            },\n            render: (props) => <Typography style={{fontSize: 'inherit', textAlign: 'right', minWidth: '100px'}}>{props.clientid}</Typography>\n        },\n        {\n            title: t('str_guest'),\n            field: 'clientname',\n            headerStyle: {\n                minWidth: '160px'\n            },\n            cellStyle: {\n                minWidth: '160px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            },\n        },\n        {\n            title: t('str_roomNo'),\n            field: 'roomno',\n            render: (props) => (\n                <div style={{textAlign: 'center', backgroundColor: '#FF69B4', borderRadius: '4px'}}>\n                    <Typography style={{fontSize: 'inherit', padding: '4px', color: '#FFF'}}>{props.roomno}</Typography>\n                </div>\n            )\n        },\n        {\n            title: t('str_commentType'),\n            field: t('commentypelocal') || 'commentypedesc'\n        },\n        {\n            title: t('str_subject'),\n            field: 'typecodelist',\n            headerStyle: {\n                minWidth: '255px'\n            },\n            cellStyle: {\n                minWidth: '255px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            },\n            render: (props) => (\n                props.typecatcodelist?.length > 37 ? (\n                    <CustomToolTip title={props.typecatcodelist}>\n                        <Typography className={classes.overflowTextStyle} style={{maxWidth: '255px'}}>\n                            {props.typecatcodelist}\n                        </Typography>\n                    </CustomToolTip>\n                ) : (\n                    <Typography style={{fontSize: 'inherit', maxWidth: '255px'}}>\n                        {props.typecatcodelist}\n                    </Typography>\n                )\n            )\n        },\n        {\n            title: t('str_category'),\n            field: 'catcodelist',\n            headerStyle: {\n                minWidth: '255px'\n            },\n            cellStyle: {\n                minWidth: '255px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            },\n            render: (props) => (\n                props.typecatcodelist?.length > 37 ? (\n                    <CustomToolTip title={props.typecatcodelist}>\n                        <Typography className={classes.overflowTextStyle} style={{maxWidth: '255px'}}>\n                            {props.typecatcodelist}\n                        </Typography>\n                    </CustomToolTip>\n                ) : (\n                    <Typography style={{fontSize: 'inherit', maxWidth: '255px'}}>\n                        {props.typecatcodelist}\n                    </Typography>\n                )\n            )\n        },\n        {\n            title: t('str_group'),\n            field: 'grpcodelist',\n            headerStyle: {\n                minWidth: '255px'\n            },\n            cellStyle: {\n                minWidth: '255px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            },\n            render: (props) => (\n                props.typegrpcodelist?.length > 37 ? (\n                    <CustomToolTip title={props.typegrpcodelist}>\n                        <Typography className={classes.overflowTextStyle} style={{maxWidth: '255px'}}>\n                            {props.typegrpcodelist}\n                        </Typography>\n                    </CustomToolTip>\n                ) : (\n                    <Typography style={{fontSize: 'inherit', maxWidth: '150px'}}>\n                        {props.typegrpcodelist}\n                    </Typography>\n                )\n            )\n        },\n        {\n            title: t('str_source'),\n            field: 'sourcecode',\n            headerStyle: {\n                minWidth: '100px'\n            },\n            cellStyle: {\n                minWidth: '100px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            }\n        },\n        {\n            title: t('str_priority'),\n            field: 'prioritycode'\n        },\n        {\n            title: t('str_surveyNo'),\n            field: 'surveyid',\n            render: (props) => <Typography style={{fontSize: 'inherit', textAlign: 'right', minWidth: '100px'}}>{props?.surveyid || 0 }</Typography>\n        },\n        {\n            title: t('str_survey'),\n            field: 'surveydesc',\n            headerStyle: {\n                minWidth: '255px'\n            },\n            cellStyle: {\n                minWidth: '255px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            }\n        },\n        {\n            title: t('str_comment'),\n            field: 'notelist',\n            headerStyle: {\n                minWidth: '255px'\n            },\n            cellStyle: {\n                minWidth: '255px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            },\n            render: (props) => (\n                props.note?.length > 37 ? (\n                    <CustomToolTip title={props.note}>\n                        <Typography className={classes.overflowTextStyle} style={{maxWidth: '255px'}}>\n                            {props.note}\n                        </Typography>\n                    </CustomToolTip>\n                ) : (\n                    <Typography style={{fontSize: 'inherit', maxWidth: '255px'}}>\n                        {props.note}\n                    </Typography>\n                )\n            )\n        },\n        {\n            title: t('str_hotelComment'),\n            field: 'refinfolist',\n            headerStyle: {\n                minWidth: '255px'\n            },\n            cellStyle: {\n                minWidth: '255px',\n                borderLeft: '1px solid rgba(224, 224, 224, 1)',\n            }\n        },\n        {\n            title: t('str_resHotelRefno'),\n            field: 'reshotelrefno',\n            headerStyle: {\n                textAlign: 'right'\n            },\n            render: (props) => <Typography style={{fontSize: 'inherit', textAlign: 'right'}}>{props.reshotelrefno}</Typography>\n        },\n        {\n            title: t('str_resHotelName'),\n            field: 'reshotelname'\n        },\n        {\n            title: `${t('str_trans')}#`,\n            field: 'transno',\n            headerStyle: {\n              textAlign: 'right'\n            },\n            render: (props) => <Typography style={{fontSize: 'inherit', textAlign: 'right', minWidth: '100px'}}>{props.transno}</Typography>\n        }\n\n\n    ]\n\n    const formElements = [\n        {\n            type: ELEMENT_TYPES.textField,\n            id: 'roomno',\n            name: 'roomno',\n            value: reservInfo?.roomno || clientBase?.resroomno,\n            disabled: true,\n            variant: VARIANT,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 6}\n        },\n        {\n            type: ELEMENT_TYPES.textField,\n            id: 'clientid',\n            name: 'clientid',\n            value: clientBase?.fullname,\n            disabled: true,\n            label: t('str_roomNo'),\n            variant: VARIANT,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 6}\n        },\n        {\n            type: ELEMENT_TYPES.autoComplete,\n            id: 'commentype',\n            name: 'commentype',\n            value: commentData.commentype?.value || null,\n            error: commentData.commentype?.isError,\n            required: commentData.commentype?.required,\n            label: t('str_commentType'),\n            onChange: (newValue, name) => handleTextFieldChange(newValue, name),\n            onLoad: (initialValue) => {\n                const data = {...commentData}\n                data.commentype.value = initialValue\n                setCommentData(data)\n            },\n            endpoint: 'transtype/view/commentlinetype',\n            params: {code: '', text: ''},\n            initialId: isInitialStateLoad && typeof commentData.commentype?.value !== 'object' ? commentData.commentype?.value : false,\n            searchInitialParam: 'code',\n            showOptionLabel: 'description',\n            showOption: 'description',\n            useDefaultFilter: true,\n            variant: VARIANT,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 6}\n        },\n        {\n            type: ELEMENT_TYPES.datePicker,\n            id: 'transdate',\n            name: 'transdate',\n            value: commentData.transdate?.value,\n            error: commentData.transdate?.isError,\n            required: commentData.transdate?.required,\n            label: t('str_date'),\n            onChange: (newValue, name) => handleTextFieldChange(newValue, name),\n            variant: VARIANT,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 3}\n        },\n        {\n            type: ELEMENT_TYPES.timePicker,\n            id: 'transtime',\n            name: 'transtime',\n            value: commentData.transtime?.value,\n            error: commentData.transtime?.isError,\n            required: commentData.transtime?.required,\n            label: t('str_time'),\n            onChange: (newValue, name) => handleTextFieldChange(newValue, name),\n            variant: VARIANT,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 3}\n        },\n        {\n            type: ELEMENT_TYPES.textField,\n            id: 'insuserid',\n            name: 'insuserid',\n            value: loginfo?.fullname,\n            disabled: true,\n            label: t('str_employee'),\n            variant: VARIANT,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 6}\n        },\n        {\n            type: ELEMENT_TYPES.autoComplete,\n            id: 'priorityid',\n            name: 'priorityid',\n            value: commentData.priorityid?.value || null,\n            error: commentData.priorityid?.isError,\n            required: commentData.priorityid?.required,\n            label: t('str_priority'),\n            onChange: (newValue, name) => handleTextFieldChange(newValue, name),\n            onLoad: (initialValue) => {\n                const data = {...commentData}\n                data.priorityid.value = initialValue\n                setCommentData(data)\n            },\n            endpoint: 'tspriority/list',\n            params: {query: 'isactive:true', code: '', text: ''},\n            initialId: isInitialStateLoad && typeof commentData.priorityid?.value !== 'object' ? commentData.priorityid?.value : false,\n            showOptionLabel: 'description',\n            showOption: 'description',\n            variant: VARIANT,\n            useDefaultFilter: true,\n            fullWidth: true,\n            gridProps: {xs: 12, sm: 6}\n        },\n        {\n            type: ELEMENT_TYPES.textField,\n            id: 'note',\n            name: 'note',\n            value: commentData.note?.value,\n            error: commentData.note?.isError,\n            required: commentData.note?.required,\n            label: t('str_note'),\n            onChange: (e) => handleTextFieldChange(e),\n            variant: VARIANT,\n            fullWidth: true,\n            multiLine: true,\n            rows: 4,\n            rowsMax: 4,\n            gridProps: {xs: 12}\n        },\n        {\n            type: ELEMENT_TYPES.textField,\n            id: 'refinfo',\n            name: 'refinfo',\n            value: commentData.refinfo?.value,\n            error: commentData.refinfo?.isError,\n            required: commentData.refinfo?.required,\n            label: t('str_refInfo'),\n            onChange: (e) => handleTextFieldChange(e),\n            variant: VARIANT,\n            fullWidth: true,\n            multiLine: true,\n            rows: 4,\n            rowsMax: 4,\n            gridProps: {xs: 12}\n        },\n    ]\n\n    useEffect(() => {\n       getCommentLineList();\n        UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.CLIENT + SLASH + OREST_ENDPOINT.RESERVNO,\n            token,\n            params: {\n                clientid: clientBase?.id\n            }\n        }).then(res => {\n            if(res.status === 200) {\n                setReservInfo(res.data.data)\n            }\n        })\n    }, [])\n\n    useEffect(() => {\n        let isEffect = true\n        if (isEffect && commentData && getData) {\n            getData.transtime = moment(getData.transtime, 'HH:mm:ss').toDate()\n            const newInitialState = helper.objectMapper(commentData, getData, ['priorityid'])\n            setCommentData(newInitialState)\n            setIsInitialStateLoad(true)\n        }\n\n\n        return () => {\n            isEffect = false\n        }\n\n    }, [getData])\n\n\n    const handleTextFieldChange = (event, key) => {\n        const  name = key ? key : event.target.name\n        const value = event?.target ? event.target.value : event\n        setCommentData({\n            ...commentData,\n            [name]: {\n                ...commentData[name],\n                value: value,\n                isError: commentData[name]?.isRequired && !!required(value),\n                errorText: commentData[name]?.isRequired && !!required(value),\n            }\n        })\n    }\n\n\n    const getCommentLineList = () => {\n        setIsLoading(true);\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.CLNTCOMM,\n            token,\n            params: {\n                query: `clientid:${clientBase?.id}`,\n                hotelrefno: hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n\n            }\n        }).then(res => {\n            if (res.status === 200) {\n                setCommentList(res.data.data)\n            } else if(res.status === 401){\n                enqueueSnackbar('401 Unauthorized', { variant: 'error' })\n            } else if(res.status === 403) {\n                enqueueSnackbar('403 Forbidden', { variant: 'error' })\n            } else {\n                const retErr = isErrorMsg(res)\n                enqueueSnackbar(t(retErr.errorMsg), {variant: 'error'})\n            }\n            setIsLoading(false);\n        })\n    }\n\n    const handleCommentDef = () => {\n        UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.CLNTCOMM + SLASH +  OREST_ENDPOINT.DEF,\n            token,\n            params: {\n                hotelrefno: hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n            }\n        }).then(res => {\n            if(res.status === 200) {\n                //setGetData(res.data.data)\n            }\n        })\n    }\n\n    const handleSave = () => {\n        const data = commentData;\n        data.clientid = clientBase?.id\n        data.commentype = typeof commentData.commentype.value === 'object' ? commentData.commentype.value?.code : commentData.commentype.value;\n        data.priorityid = typeof commentData.priorityid.value === 'object' ? commentData.priorityid.value.id : commentData.priorityid?.value;\n        data.refinfo = commentData.refinfo.value;\n        data.note = commentData.note.value;\n        data.transdate = commentData.transdate?.value ? moment(commentData.transdate.value).format(OREST_ENDPOINT.DATEFORMAT) : null;\n        data.transtime = commentData.transtime?.value ? moment(commentData.transtime.value).format('HH:mm') : null;\n        data.hotelrefno = hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n        if(reservInfo.res) {\n            data.reservno = reservInfo.res;\n        }\n        setIsSaving(true);\n        if(isAdd) {\n            Insert({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.CLNTCOMM,\n                token,\n                data: data\n            }).then(res => {\n                setIsSaving(false);\n                if(res.status === 200) {\n                    getCommentLineList();\n                    setTimeout(() => {\n                        handleReset();\n                    }, 200)\n                    enqueueSnackbar(t('str_processCompletedSuccessfully'), {variant: 'success'});\n                    setOpenAddDialog(false);\n                } else {\n                    const retErr = isErrorMsg(res)\n                    enqueueSnackbar(t(retErr.errorMsg), {variant: 'error'});\n                }\n            })\n        } else {\n            Patch({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.CLNTCOMM,\n                token,\n                gid: commentData.gid,\n                params: {\n                    hotelrefno: hotelRefNo || GENERAL_SETTINGS.HOTELREFNO\n                },\n                data: data\n            }).then(res => {\n                setIsSaving(false);\n                if(res.status === 200) {\n                    getCommentLineList();\n                    setTimeout(() => {\n                        handleReset();\n                    }, 50)\n                    setOpenAddDialog(false);\n                    enqueueSnackbar(t('str_updateIsSuccessfullyDone'), {variant: 'success'});\n                } else {\n                    const retErr = isErrorMsg(res)\n                    enqueueSnackbar(t(retErr.errorMsg), {variant: 'error'});\n                }\n            })\n        }\n\n    }\n\n    const handleGetComment = (gid) => {\n        setIsLoadingCommentData(true);\n        UseOrest({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.CLNTCOMM + SLASH + 'get' + SLASH + gid,\n            token,\n            params: {\n                allhotels: true\n            }\n        }).then(res => {\n            if(res.status === 200) {\n                const data = res.data.data;\n                setGetData(data)\n            }\n        }).then(() => {\n            setIsLoadingCommentData(false)\n        })\n    }\n\n    const handleReset = () => {\n        setCommentData({\n            commentype: {value: '', isError: false, required: false},\n            priorityid: {value: '', isError: false, required: true},\n            refinfo: {value: '', isError: false, required: false},\n            note: {value: '', isError: false, required: false},\n            transdate: {value: moment(), isError: false, required: false},\n            transtime: {value: moment(), isError: false, required: false},\n        });\n        setGetData(null)\n        setIsAdd(false);\n    }\n\n\n    return(\n      <div>\n          <Grid container spacing={1}>\n              <Grid item xs={12}>\n                  <CustomToolTip title={t('str_refresh')}>\n                      <IconButton onClick={getCommentLineList}>\n                          <CachedIcon style={{color:\"#F16A4B\"}}/>\n                      </IconButton>\n                  </CustomToolTip>\n                  <CustomToolTip title={t('str_add')}>\n                      <IconButton onClick={() => {\n                          setOpenAddDialog(true)\n                          setIsAdd(true)\n                      }}\n                      >\n                          <AddIcon />\n                      </IconButton>\n                  </CustomToolTip>\n              </Grid>\n              <Grid item xs={12}>\n                  <div className={classes.table}>\n                      <MaterialTable\n                          columns={columns}\n                          data={commentList}\n                          isLoading={isLoading}\n                          options={{\n                              headerStyle:{\n                                  cursor: 'default',\n                                  fontWeight:\"bold\",\n                                  fontSize:\"12px\",\n                                  color:\"#A3A6B4\",\n                                  textTransform:\"uppercase\",\n                                  backgroundColor:\"#F5F6FA\",\n                                  whiteSpace: 'nowrap',\n                                  borderLeft: '1px solid #FFF',\n                              },\n                              cellStyle: {\n                                  whiteSpace: 'nowrap',\n                                  borderLeft: '1px solid rgba(224, 224, 224, 1)',\n                                  minWidth: '100px'\n                              },\n                              toolbar: false,\n                              selection: false,\n                              sorting: false\n                          }}\n                          localization={tableLocalization}\n                          components={{\n                              Header: (props) => {\n                                  const overrideProps = {...props}\n                                  overrideProps.draggable = false\n                                  return(\n                                      <MTableHeader  {...overrideProps}/>\n                                  )\n                              },\n                          }}\n                      />\n                  </div>\n              </Grid>\n          </Grid>\n          <Dialog\n              open={openAddDialog}\n              fullWidth\n              maxWidth={'md'}\n          >\n              <div style={{padding: '24px'}}>\n                  {\n                      isLoadingCommentData ? (\n                          <LoadingSpinner />\n                      ) : (\n                          <Grid container spacing={3}>\n                              <Grid item xs={12}>\n                                  <Typography>{t('str_addGuestComments')}</Typography>\n                              </Grid>\n                              {\n                                  formElements.map((item, index) => (\n                                      <Grid item {...item?.gridProps} key={index}>\n                                          {renderFormElements(item)}\n                                      </Grid>\n                                  ))\n                              }\n                              <Grid item xs={12}>\n                                  <div style={{textAlign: 'right'}}>\n                                      <Button\n                                          disabled={isSaving}\n                                          variant={'outlined'}\n                                          color={'primary'}\n                                          startIcon={<CloseIcon />}\n                                          onClick={() => {\n                                              if(commentData) {\n                                                  setOpenTrackedDialog(true);\n                                              } else {\n                                                  setOpenAddDialog(false)\n                                                  setTimeout(() => {\n                                                      handleReset();\n                                                  }, 100)\n\n                                              }\n                                          }}\n                                      >\n                                          {t('str_cancel')}\n                                      </Button>\n                                      {\n                                          !commentData.priorityid?.value || commentData.transdate?.isError || commentData.transtime?.isError ? (\n                                              <CustomToolTip\n                                                  title={\n                                                      <div>\n                                                          <Typography style={{fontWeight: '600', fontSize: 'inherit'}}>\n                                                              {t('str_invalidFields')}\n                                                          </Typography>\n                                                          {\n                                                              !commentData.priorityid?.value && (\n                                                                  <Typography style={{fontSize: 'inherit'}}>{t('str_priority')}</Typography>\n                                                              )\n                                                          }\n                                                          {\n                                                              commentData.transdate?.isError && (\n                                                                  <Typography style={{fontSize: 'inherit'}}>{t('str_date')}</Typography>\n                                                              )\n                                                          }\n                                                          {\n                                                              commentData.transtime?.isError && (\n                                                                  <Typography style={{fontSize: 'inherit'}}>{t('str_time')}</Typography>\n                                                              )\n                                                          }\n                                                      </div>\n                                                  }\n                                              >\n                                             <span>\n                                                  <Button\n                                                      disabled\n                                                      style={{marginLeft: '8px'}}\n                                                      color={'primary'}\n                                                      variant={'contained'}\n                                                      startIcon={<CheckIcon />}\n                                                  >\n                                                  {t('str_save')}\n                                              </Button>\n                                             </span>\n                                              </CustomToolTip>\n                                          ) : (\n                                              <Button\n                                                  disabled={isSaving}\n                                                  style={{marginLeft: '8px'}}\n                                                  color={'primary'}\n                                                  variant={'contained'}\n                                                  startIcon={isSaving ? <LoadingSpinner size={18}/> : <CheckIcon />}\n                                                  onClick={handleSave}\n                                              >\n                                                  {t('str_save')}\n                                              </Button>\n                                          )\n                                      }\n                                  </div>\n                              </Grid>\n                          </Grid>\n                      )\n                  }\n\n              </div>\n          </Dialog>\n          <TrackedChangesDialog\n              open={openTrackedDialog}\n              onPressNo={(e) => setOpenTrackedDialog(e)}\n              onPressYes={(e) => {\n                  setOpenTrackedDialog(e);\n                  setOpenAddDialog(false);\n                  setTimeout(() => {\n                      handleReset()\n                  }, 100)\n              }}\n          />\n      </div>\n    );\n}\n\nexport default GuestComments;"]},"metadata":{},"sourceType":"module"}