{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/pages/_app.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n//react\nimport React, { useEffect, useState } from 'react'; //next\n\nimport Head from 'next/head';\nimport Router, { useRouter } from 'next/router';\nimport getConfig from 'next/config';\nconst {\n  publicRuntimeConfig\n} = getConfig(); //redux\n\nimport withRedux from 'next-redux-wrapper';\nimport { Provider } from 'react-redux';\nimport store from 'state/store'; //material-ui\n\nimport rtl from 'jss-rtl';\nimport { create } from 'jss';\nimport { createMuiTheme, MuiThemeProvider, makeStyles, StylesProvider, jssPreset } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport WebCmsGlobal from 'components/webcms-global'; //webcms\n\nimport axios from 'axios';\nimport { LOCAL_STORAGE_OREST_TOKEN_TEXT } from 'model/orest/constants';\nimport { SnackbarProvider } from 'notistack';\nimport CookiePolicy from 'components/common/cookie-policy';\nimport { LocaleProvider } from 'lib/translations/context/LocaleContext';\nimport { pathRedirection } from 'lib/helpers/usePathRedirection';\nimport { getDeviceType, getBrowser } from 'lib/helpers/useFunction';\nimport WebCmsProgress from 'nprogress';\nWebCmsProgress.configure({\n  showSpinner: publicRuntimeConfig.NProgressShowSpinner\n});\nimport TagManager from '@webcms-globals/tag-manager'; //import all css\n\nimport 'slick-carousel/slick/slick.css';\nimport 'assets/css/slick-theme.css';\nimport '@webcms-ui/core/phone-input/styles.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'froala-editor/css/froala_style.min.css';\nimport 'froala-editor/css/froala_editor.pkgd.min.css';\nimport 'froala-editor/css/plugins/char_counter.min.css';\nimport 'components/payment/credit-card/card.css';\nimport 'public/static/styles/panel/style.css';\nimport 'public/static/css/bootstrap.min.css';\nimport 'assets/css/myRequest.css';\nimport 'assets/css/TrainingRequest.css';\nimport 'assets/css/dashboardCarousel.css';\nimport 'assets/css/portalHomeSlider.css';\nimport 'public/static/styles/overwrite.css';\nimport 'nprogress/nprogress.css';\nimport { isLocale } from 'lib/translations/types';\nimport { defaultLocale } from 'lib/translations/config'; //import moment\n\nimport moment from 'moment';\nimport 'moment/locale/de';\nimport 'moment/locale/tr';\nimport 'moment/locale/ru';\nimport 'moment/locale/es';\nimport 'moment/locale/mk';\nimport 'moment/locale/sq';\n\nconst getHotelAppLang = require('@api/core/get-hotel-app-lang');\n\nconst noCookieAndChatPaths = ['/editor', '/embed', '/page-builder', '/guest', '/emp', '/survey', '/epay'];\n\nfunction hasPath(paths, path) {\n  return paths.find(pathItem => path.includes(pathItem)) || false;\n} //progress bar for router\n\n\nRouter.onRouteChangeStart = () => {\n  WebCmsProgress.start();\n};\n\nRouter.onRouteChangeComplete = () => {\n  WebCmsProgress.done();\n};\n\nRouter.onRouteChangeError = () => {\n  WebCmsProgress.done();\n};\n\nconst appStyles = makeStyles(theme => ({\n  snackbarContainerRoot: {\n    [theme.breakpoints.down('sm')]: {\n      bottom: 125\n    }\n  }\n}));\nconst directions = {\n  ltr: create({\n    plugins: [...jssPreset().plugins]\n  }),\n  rtl: create({\n    plugins: [...jssPreset().plugins, rtl()]\n  })\n};\n\nconst _App = ({\n  Component,\n  pageProps,\n  store,\n  DB_GENERAL_SETTINGS,\n  DB_REDIS_WEBCMS_DATA,\n  QUERY_LOCALE,\n  DEFAULT_LOCALE,\n  __NEXT_DATA__,\n  DEFAULT_LANGUAGE_FILE,\n  DEFAULT_HTL_LANGUAGE_FILE,\n  host\n}) => {\n  var _WEBCMS_DATA, _WEBCMS_DATA$assets, _WEBCMS_DATA$assets$f, _WEBCMS_DATA2, _WEBCMS_DATA2$assets, _WEBCMS_DATA2$assets$, _WEBCMS_DATA3, _WEBCMS_DATA3$assets, _WEBCMS_DATA4, _WEBCMS_DATA4$assets, _WEBCMS_DATA4$assets$, _GENERAL_SETTINGS, _WEBCMS_DATA5, _WEBCMS_DATA5$assets, _WEBCMS_DATA5$assets$, _WEBCMS_DATA6, _WEBCMS_DATA6$assets, _WEBCMS_DATA6$assets$;\n\n  let GENERAL_SETTINGS,\n      WEBCMS_DATA,\n      locale,\n      {\n    0: GENERAL_SETTINGS_CACHE,\n    1: setGENERAL_SETTINGS_CACHE\n  } = useState(null),\n      {\n    0: WEBCMS_DATA_CACHE,\n    1: setWEBCMS_DATA_CACHE\n  } = useState(null),\n      {\n    0: LOCALE_CACHE,\n    1: setLOCALE_CACHE\n  } = useState(''),\n      {\n    0: COOKIE_ENABLED,\n    1: setCOOKIE_ENABLED\n  } = useState(false),\n      {\n    0: VERNO,\n    1: setVERNO\n  } = useState(''),\n      router = useRouter(),\n      iframe = router.query.iframe === 'true',\n      isOnlyBasics = router.query.isOnlyBasics === '1',\n      classes = appStyles(),\n      {\n    0: token,\n    1: setToken\n  } = useState(router.query.authToken);\n  useEffect(() => {\n    var _DB_REDIS_WEBCMS_DATA, _DB_REDIS_WEBCMS_DATA2;\n\n    setGENERAL_SETTINGS_CACHE(DB_GENERAL_SETTINGS);\n    setWEBCMS_DATA_CACHE(DB_REDIS_WEBCMS_DATA);\n    setVERNO(window.__NEXT_DATA__.buildId || '');\n\n    if (!QUERY_LOCALE) {\n      setLOCALE_CACHE(QUERY_LOCALE);\n    }\n\n    if (DB_REDIS_WEBCMS_DATA !== null && DB_REDIS_WEBCMS_DATA !== void 0 && (_DB_REDIS_WEBCMS_DATA = DB_REDIS_WEBCMS_DATA.assets) !== null && _DB_REDIS_WEBCMS_DATA !== void 0 && (_DB_REDIS_WEBCMS_DATA2 = _DB_REDIS_WEBCMS_DATA.meta) !== null && _DB_REDIS_WEBCMS_DATA2 !== void 0 && _DB_REDIS_WEBCMS_DATA2.googleTag) {\n      TagManager.initialize({\n        gtmId: DB_REDIS_WEBCMS_DATA.assets.meta.googleTag\n      });\n    }\n\n    let cookieEnabled = localStorage.getItem(\"is-cookie\");\n\n    if (!cookieEnabled) {\n      setCOOKIE_ENABLED(true);\n    }\n\n    const jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n\n    window.addEventListener('message', function (event) {\n      var _event$data;\n\n      if ((event === null || event === void 0 ? void 0 : (_event$data = event.data) === null || _event$data === void 0 ? void 0 : _event$data.tokenUpdate) !== token) {\n        setToken(event.data.tokenUpdate);\n      }\n    });\n    useLogger();\n    Router.events.on('routeChangeComplete', () => useLogger());\n  }, []);\n\n  const useLogger = () => {\n    let getData = {\n      url: `${location.protocol}//${location.host}${Router.router.asPath}`,\n      pagelang: locale,\n      pagesize: `${window.outerWidth}x${window.outerHeight}`,\n      brdesc: getBrowser().name,\n      brver: getBrowser().version,\n      brlang: navigator.language || navigator.userLanguage || 'non',\n      devicetype: getDeviceType(),\n      ckenabled: navigator.cookieEnabled || false\n    };\n    let getAuth = localStorage.getItem(LOCAL_STORAGE_OREST_TOKEN_TEXT) || false;\n\n    if (getAuth) {\n      var _getAuth, _getAuth$loginfo, _getAuth2, _getAuth2$loginfo;\n\n      getAuth = JSON.parse(getAuth);\n      getData.islogin = getAuth ? 'true' : 'false';\n      getData.loginrefid = ((_getAuth = getAuth) === null || _getAuth === void 0 ? void 0 : (_getAuth$loginfo = _getAuth.loginfo) === null || _getAuth$loginfo === void 0 ? void 0 : _getAuth$loginfo.refid) || '0';\n      getData.loginrefcode = ((_getAuth2 = getAuth) === null || _getAuth2 === void 0 ? void 0 : (_getAuth2$loginfo = _getAuth2.loginfo) === null || _getAuth2$loginfo === void 0 ? void 0 : _getAuth2$loginfo.refcode) || '';\n    }\n\n    return axios({\n      url: 'api/browser/info',\n      method: 'post',\n      params: {\n        ver: window.__NEXT_DATA__.buildId || '0'\n      },\n      data: {\n        value: Buffer.from(JSON.stringify(getData)).toString('base64')\n      }\n    }).then(() => {\n      return true;\n    }).catch(() => {\n      return false;\n    });\n  };\n\n  if (DB_GENERAL_SETTINGS) {\n    GENERAL_SETTINGS = DB_GENERAL_SETTINGS;\n  } else {\n    GENERAL_SETTINGS = GENERAL_SETTINGS_CACHE;\n  }\n\n  if (DB_REDIS_WEBCMS_DATA) {\n    WEBCMS_DATA = DB_REDIS_WEBCMS_DATA;\n  } else {\n    WEBCMS_DATA = WEBCMS_DATA_CACHE;\n  }\n\n  if (QUERY_LOCALE) {\n    locale = QUERY_LOCALE;\n  } else if (LOCALE_CACHE) {\n    locale = LOCALE_CACHE;\n  } else {\n    locale = DEFAULT_LOCALE;\n  }\n\n  if (locale) {\n    moment.locale(locale);\n  }\n\n  const handleCookie = () => {\n    localStorage.setItem(\"is-cookie\", \"active\");\n    setCOOKIE_ENABLED(false);\n  };\n\n  let fontName = (_WEBCMS_DATA = WEBCMS_DATA) === null || _WEBCMS_DATA === void 0 ? void 0 : (_WEBCMS_DATA$assets = _WEBCMS_DATA.assets) === null || _WEBCMS_DATA$assets === void 0 ? void 0 : (_WEBCMS_DATA$assets$f = _WEBCMS_DATA$assets.font) === null || _WEBCMS_DATA$assets$f === void 0 ? void 0 : _WEBCMS_DATA$assets$f.name;\n  fontName = fontName !== 'default' ? fontName : 'Roboto';\n\n  if ((_WEBCMS_DATA2 = WEBCMS_DATA) !== null && _WEBCMS_DATA2 !== void 0 && (_WEBCMS_DATA2$assets = _WEBCMS_DATA2.assets) !== null && _WEBCMS_DATA2$assets !== void 0 && (_WEBCMS_DATA2$assets$ = _WEBCMS_DATA2$assets.colors) !== null && _WEBCMS_DATA2$assets$ !== void 0 && _WEBCMS_DATA2$assets$.primary && host !== null && host !== void 0 && host.includes('cloud') || host !== null && host !== void 0 && host.includes('portal')) {\n    WEBCMS_DATA.assets.colors.primary.main = router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#4666B0';\n    WEBCMS_DATA.assets.colors.primary.dark = router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425C';\n    WEBCMS_DATA.assets.colors.primary.light = router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425C';\n    WEBCMS_DATA.assets.colors.primary.ultraDark = router.pathname.indexOf('emp') !== -1 ? '#0E2326' : '#3C3B53';\n    WEBCMS_DATA.assets.colors.text = {\n      main: router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#43425D',\n      light: router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425D',\n      ultraDark: router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425D'\n    };\n  }\n\n  const theme = createMuiTheme({\n    typography: {\n      fontFamily: ['\\'' + fontName + '\\'', 'sans-serif'].join(',')\n    },\n    palette: (_WEBCMS_DATA3 = WEBCMS_DATA) === null || _WEBCMS_DATA3 === void 0 ? void 0 : (_WEBCMS_DATA3$assets = _WEBCMS_DATA3.assets) === null || _WEBCMS_DATA3$assets === void 0 ? void 0 : _WEBCMS_DATA3$assets.colors,\n    direction: locale === 'ar' ? 'rtl' : 'ltr'\n  });\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }, __jsx(\"meta\", {\n    charSet: \"utf-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#ffffff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"webcms-ver\",\n    content: VERNO,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }), ((_WEBCMS_DATA4 = WEBCMS_DATA) === null || _WEBCMS_DATA4 === void 0 ? void 0 : (_WEBCMS_DATA4$assets = _WEBCMS_DATA4.assets) === null || _WEBCMS_DATA4$assets === void 0 ? void 0 : (_WEBCMS_DATA4$assets$ = _WEBCMS_DATA4$assets.meta) === null || _WEBCMS_DATA4$assets$ === void 0 ? void 0 : _WEBCMS_DATA4$assets$.fbVerificationCode) && __jsx(\"meta\", {\n    name: \"facebook-domain-verification\",\n    content: WEBCMS_DATA.assets.meta.fbVerificationCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 67\n    }\n  }), host && host === \"docs.hotech.systems\" ? __jsx(\"meta\", {\n    name: \"google-signin-client_id\",\n    content: \"161176593651-khs1j4eatnfian8ll774gq7c1v2f2ffc.apps.googleusercontent.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 59\n    }\n  }) : null, __jsx(\"base\", {\n    href: ((_GENERAL_SETTINGS = GENERAL_SETTINGS) === null || _GENERAL_SETTINGS === void 0 ? void 0 : _GENERAL_SETTINGS.BASE_URL) || '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }), __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, ((_WEBCMS_DATA5 = WEBCMS_DATA) === null || _WEBCMS_DATA5 === void 0 ? void 0 : (_WEBCMS_DATA5$assets = _WEBCMS_DATA5.assets) === null || _WEBCMS_DATA5$assets === void 0 ? void 0 : (_WEBCMS_DATA5$assets$ = _WEBCMS_DATA5$assets.meta) === null || _WEBCMS_DATA5$assets$ === void 0 ? void 0 : _WEBCMS_DATA5$assets$.title) || ''), (_WEBCMS_DATA6 = WEBCMS_DATA) !== null && _WEBCMS_DATA6 !== void 0 && (_WEBCMS_DATA6$assets = _WEBCMS_DATA6.assets) !== null && _WEBCMS_DATA6$assets !== void 0 && (_WEBCMS_DATA6$assets$ = _WEBCMS_DATA6$assets.meta) !== null && _WEBCMS_DATA6$assets$ !== void 0 && _WEBCMS_DATA6$assets$.chatBox && !hasPath(noCookieAndChatPaths, router.pathname) ? __jsx(\"script\", {\n    dangerouslySetInnerHTML: {\n      __html: `${WEBCMS_DATA.assets.meta.chatBox}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 108\n    }\n  }) : null), __jsx(StylesProvider, {\n    jss: locale === 'ar' ? directions.rtl : directions.ltr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, __jsx(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, __jsx(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 21\n    }\n  }), __jsx(Provider, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 21\n    }\n  }, __jsx(WebCmsGlobal.Provider, {\n    value: {\n      GENERAL_SETTINGS,\n      WEBCMS_DATA,\n      token,\n      locale\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 25\n    }\n  }, __jsx(LocaleProvider, {\n    lang: locale,\n    defaultHotelLanguageFile: DEFAULT_HTL_LANGUAGE_FILE,\n    defaultLanguageFile: DEFAULT_LANGUAGE_FILE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 29\n    }\n  }, __jsx(SnackbarProvider, {\n    maxSnack: 3,\n    classes: {\n      containerRoot: classes.snackbarContainerRoot\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 33\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 37\n    }\n  })), !isOnlyBasics && !hasPath(noCookieAndChatPaths, router.pathname) ? __jsx(CookiePolicy, {\n    isActive: !iframe && COOKIE_ENABLED,\n    onClose: () => handleCookie(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 107\n    }\n  }) : null)))))));\n};\n\n_App.getInitialProps = async ({\n  Component,\n  ctx\n}) => {\n  var _DB_REDIS_WEBCMS_DATA3, _DB_REDIS_WEBCMS_DATA4, _DB_REDIS_WEBCMS_DATA5;\n\n  await pathRedirection(ctx);\n  const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {};\n  let DB_GENERAL_SETTINGS,\n      DB_REDIS_WEBCMS_DATA,\n      QUERY_LOCALE,\n      DEFAULT_LOCALE,\n      DEFAULT_LANGUAGE_FILE = false,\n      DEFAULT_HTL_LANGUAGE_FILE = false,\n      host;\n\n  if (ctx.req) {\n    host = ctx.req.headers.host;\n  }\n\n  if (ctx.res) {\n    // server side\n    DB_GENERAL_SETTINGS = ctx.res.GENERAL_SETTINGS;\n    DB_REDIS_WEBCMS_DATA = ctx.res.REDIS_WEBCMS_DATA;\n  }\n\n  const currentLanguage = ctx.req && ctx.req.currentLanguage && ctx.req.currentLanguage || false;\n\n  if (ctx.req && currentLanguage && isLocale(currentLanguage)) {\n    DEFAULT_LOCALE = currentLanguage;\n  } else {\n    if (ctx.res) {\n      DEFAULT_LOCALE = DB_GENERAL_SETTINGS.hotelLocalLangGCode;\n    } else {\n      DEFAULT_LOCALE = defaultLocale;\n    }\n  }\n\n  if (DB_REDIS_WEBCMS_DATA && (_DB_REDIS_WEBCMS_DATA3 = DB_REDIS_WEBCMS_DATA) !== null && _DB_REDIS_WEBCMS_DATA3 !== void 0 && (_DB_REDIS_WEBCMS_DATA4 = _DB_REDIS_WEBCMS_DATA3.default) !== null && _DB_REDIS_WEBCMS_DATA4 !== void 0 && _DB_REDIS_WEBCMS_DATA4.pages && Object.keys(DB_REDIS_WEBCMS_DATA.default.pages).length && (_DB_REDIS_WEBCMS_DATA5 = DB_REDIS_WEBCMS_DATA) !== null && _DB_REDIS_WEBCMS_DATA5 !== void 0 && _DB_REDIS_WEBCMS_DATA5.defaultLanguage) {\n    var _DB_REDIS_WEBCMS_DATA6, _DB_REDIS_WEBCMS_DATA7;\n\n    DEFAULT_LOCALE = ((_DB_REDIS_WEBCMS_DATA6 = DB_REDIS_WEBCMS_DATA) === null || _DB_REDIS_WEBCMS_DATA6 === void 0 ? void 0 : (_DB_REDIS_WEBCMS_DATA7 = _DB_REDIS_WEBCMS_DATA6.defaultLanguage) === null || _DB_REDIS_WEBCMS_DATA7 === void 0 ? void 0 : _DB_REDIS_WEBCMS_DATA7.gcode) || DEFAULT_LOCALE;\n  }\n\n  if (ctx.query.lang) {\n    QUERY_LOCALE = ctx.query.lang;\n\n    if (Array.isArray(QUERY_LOCALE)) {\n      QUERY_LOCALE = QUERY_LOCALE[0];\n    }\n  }\n\n  if (pageProps && Object.keys(pageProps).length > 0) {\n    return {\n      pageProps,\n      DB_GENERAL_SETTINGS,\n      DB_REDIS_WEBCMS_DATA,\n      QUERY_LOCALE,\n      DEFAULT_LOCALE,\n      DEFAULT_LANGUAGE_FILE,\n      DEFAULT_HTL_LANGUAGE_FILE,\n      host\n    };\n  } else {\n    if (DB_GENERAL_SETTINGS) {\n      DEFAULT_LANGUAGE_FILE = await getHotelAppLang(ctx.req, ctx.res, QUERY_LOCALE || DEFAULT_LOCALE);\n      DEFAULT_HTL_LANGUAGE_FILE = await getHotelAppLang(ctx.req, ctx.res, DB_GENERAL_SETTINGS.hotelLocalLangGCode);\n    }\n\n    return {\n      DB_GENERAL_SETTINGS,\n      DB_REDIS_WEBCMS_DATA,\n      QUERY_LOCALE,\n      DEFAULT_LOCALE,\n      DEFAULT_LANGUAGE_FILE,\n      DEFAULT_HTL_LANGUAGE_FILE,\n      host\n    };\n  }\n};\n\nexport default withRedux(store)(_App);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/pages/_app.js"],"names":["React","useEffect","useState","Head","Router","useRouter","getConfig","publicRuntimeConfig","withRedux","Provider","store","rtl","create","createMuiTheme","MuiThemeProvider","makeStyles","StylesProvider","jssPreset","CssBaseline","WebCmsGlobal","axios","LOCAL_STORAGE_OREST_TOKEN_TEXT","SnackbarProvider","CookiePolicy","LocaleProvider","pathRedirection","getDeviceType","getBrowser","WebCmsProgress","configure","showSpinner","NProgressShowSpinner","TagManager","isLocale","defaultLocale","moment","getHotelAppLang","require","noCookieAndChatPaths","hasPath","paths","path","find","pathItem","includes","onRouteChangeStart","start","onRouteChangeComplete","done","onRouteChangeError","appStyles","theme","snackbarContainerRoot","breakpoints","down","bottom","directions","ltr","plugins","_App","Component","pageProps","DB_GENERAL_SETTINGS","DB_REDIS_WEBCMS_DATA","QUERY_LOCALE","DEFAULT_LOCALE","__NEXT_DATA__","DEFAULT_LANGUAGE_FILE","DEFAULT_HTL_LANGUAGE_FILE","host","GENERAL_SETTINGS","WEBCMS_DATA","locale","GENERAL_SETTINGS_CACHE","setGENERAL_SETTINGS_CACHE","WEBCMS_DATA_CACHE","setWEBCMS_DATA_CACHE","LOCALE_CACHE","setLOCALE_CACHE","COOKIE_ENABLED","setCOOKIE_ENABLED","VERNO","setVERNO","router","iframe","query","isOnlyBasics","classes","token","setToken","authToken","window","buildId","assets","meta","googleTag","initialize","gtmId","cookieEnabled","localStorage","getItem","jssStyles","document","querySelector","parentElement","removeChild","addEventListener","event","data","tokenUpdate","useLogger","events","on","getData","url","location","protocol","asPath","pagelang","pagesize","outerWidth","outerHeight","brdesc","name","brver","version","brlang","navigator","language","userLanguage","devicetype","ckenabled","getAuth","JSON","parse","islogin","loginrefid","loginfo","refid","loginrefcode","refcode","method","params","ver","value","Buffer","from","stringify","toString","then","catch","handleCookie","setItem","fontName","font","colors","primary","main","pathname","indexOf","dark","light","ultraDark","text","typography","fontFamily","join","palette","direction","fbVerificationCode","BASE_URL","title","chatBox","__html","containerRoot","getInitialProps","ctx","req","headers","res","REDIS_WEBCMS_DATA","currentLanguage","hotelLocalLangGCode","default","pages","Object","keys","length","defaultLanguage","gcode","lang","Array","isArray"],"mappings":"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","sourcesContent":["//react\nimport React, { useEffect, useState } from 'react'\n//next\nimport Head from 'next/head'\nimport Router, { useRouter } from 'next/router'\nimport getConfig from 'next/config'\nconst { publicRuntimeConfig } = getConfig()\n//redux\nimport withRedux from 'next-redux-wrapper'\nimport { Provider } from 'react-redux'\nimport store from 'state/store'\n//material-ui\nimport rtl from 'jss-rtl'\nimport { create } from 'jss'\nimport { createMuiTheme, MuiThemeProvider, makeStyles, StylesProvider, jssPreset } from '@material-ui/core/styles'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport WebCmsGlobal from 'components/webcms-global'\n//webcms\nimport axios from 'axios'\nimport { LOCAL_STORAGE_OREST_TOKEN_TEXT } from 'model/orest/constants'\nimport { SnackbarProvider } from 'notistack'\nimport CookiePolicy from 'components/common/cookie-policy'\nimport { LocaleProvider } from 'lib/translations/context/LocaleContext'\nimport { pathRedirection } from 'lib/helpers/usePathRedirection'\nimport { getDeviceType, getBrowser } from  'lib/helpers/useFunction'\nimport WebCmsProgress from 'nprogress'\nWebCmsProgress.configure({ showSpinner: publicRuntimeConfig.NProgressShowSpinner })\nimport TagManager from '@webcms-globals/tag-manager'\n//import all css\nimport 'slick-carousel/slick/slick.css'\nimport 'assets/css/slick-theme.css'\nimport '@webcms-ui/core/phone-input/styles.css'\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport 'froala-editor/css/froala_style.min.css'\nimport 'froala-editor/css/froala_editor.pkgd.min.css'\nimport 'froala-editor/css/plugins/char_counter.min.css'\nimport 'components/payment/credit-card/card.css'\nimport 'public/static/styles/panel/style.css'\nimport 'public/static/css/bootstrap.min.css'\nimport 'assets/css/myRequest.css'\nimport 'assets/css/TrainingRequest.css'\nimport 'assets/css/dashboardCarousel.css'\nimport 'assets/css/portalHomeSlider.css'\nimport 'public/static/styles/overwrite.css'\nimport 'nprogress/nprogress.css'\nimport { isLocale } from 'lib/translations/types'\nimport { defaultLocale } from 'lib/translations/config'\n//import moment\nimport moment from 'moment'\nimport 'moment/locale/de'\nimport 'moment/locale/tr'\nimport 'moment/locale/ru'\nimport 'moment/locale/es'\nimport 'moment/locale/mk'\nimport 'moment/locale/sq'\n\nconst getHotelAppLang = require('@api/core/get-hotel-app-lang')\n\nconst noCookieAndChatPaths = ['/editor', '/embed', '/page-builder', '/guest', '/emp', '/survey', '/epay']\n\nfunction hasPath(paths, path) {\n    return paths.find(pathItem => path.includes(pathItem)) || false\n}\n\n//progress bar for router\nRouter.onRouteChangeStart = () => {\n    WebCmsProgress.start()\n}\n\nRouter.onRouteChangeComplete = () => {\n    WebCmsProgress.done()\n}\n\nRouter.onRouteChangeError = () => {\n    WebCmsProgress.done()\n}\n\nconst appStyles = makeStyles((theme) => ({\n    snackbarContainerRoot: {\n        [theme.breakpoints.down('sm')]: {\n            bottom: 125,\n        },\n    }\n}))\n\nconst directions = {\n    ltr: create({ plugins: [...jssPreset().plugins] }),\n    rtl: create({ plugins: [...jssPreset().plugins, rtl()] }),\n}\n\nconst _App = ({ Component, pageProps, store, DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, __NEXT_DATA__, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host}) => {\n    let GENERAL_SETTINGS, WEBCMS_DATA, locale\n        , [GENERAL_SETTINGS_CACHE, setGENERAL_SETTINGS_CACHE] = useState(null)\n        , [WEBCMS_DATA_CACHE, setWEBCMS_DATA_CACHE] = useState(null)\n        , [LOCALE_CACHE, setLOCALE_CACHE] = useState('')\n        , [COOKIE_ENABLED, setCOOKIE_ENABLED] = useState(false)\n        , [VERNO, setVERNO] = useState('')\n        , router = useRouter()\n        , iframe = router.query.iframe === 'true'\n        , isOnlyBasics = router.query.isOnlyBasics === '1'\n        , classes = appStyles()\n        , [token, setToken] = useState(router.query.authToken)\n\n    useEffect(() => {\n        setGENERAL_SETTINGS_CACHE(DB_GENERAL_SETTINGS)\n        setWEBCMS_DATA_CACHE(DB_REDIS_WEBCMS_DATA)\n        setVERNO(window.__NEXT_DATA__.buildId || '')\n\n        if (!QUERY_LOCALE) {\n            setLOCALE_CACHE(QUERY_LOCALE)\n        }\n\n        if(DB_REDIS_WEBCMS_DATA?.assets?.meta?.googleTag){\n            TagManager.initialize({ gtmId: DB_REDIS_WEBCMS_DATA.assets.meta.googleTag })\n        }\n\n        let cookieEnabled = localStorage.getItem(\"is-cookie\")\n        if(!cookieEnabled) {\n            setCOOKIE_ENABLED(true)\n        }\n\n        const jssStyles = document.querySelector('#jss-server-side')\n        if (jssStyles) {\n            jssStyles.parentElement.removeChild(jssStyles)\n        }\n\n        window.addEventListener('message', function(event) {\n            if (event?.data?.tokenUpdate !== token) {\n                setToken(event.data.tokenUpdate)\n            }\n        })\n\n        useLogger()\n        Router.events.on('routeChangeComplete', () => useLogger())\n\n    }, [])\n\n    const useLogger = () => {\n        let getData = {\n            url: `${location.protocol}//${location.host}${Router.router.asPath}`,\n            pagelang: locale,\n            pagesize: `${window.outerWidth}x${window.outerHeight}`,\n            brdesc: getBrowser().name,\n            brver: getBrowser().version,\n            brlang: navigator.language || navigator.userLanguage || 'non',\n            devicetype: getDeviceType(),\n            ckenabled: navigator.cookieEnabled || false,\n        }\n\n        let getAuth = localStorage.getItem(LOCAL_STORAGE_OREST_TOKEN_TEXT) || false\n        if(getAuth){\n            getAuth = JSON.parse(getAuth)\n            getData.islogin = getAuth ? 'true' : 'false'\n            getData.loginrefid = getAuth?.loginfo?.refid || '0'\n            getData.loginrefcode = getAuth?.loginfo?.refcode || ''\n        }\n\n        return axios({\n            url: 'api/browser/info',\n            method: 'post',\n            params: {\n                ver: window.__NEXT_DATA__.buildId || '0'\n            },\n            data: {\n                value: Buffer.from(JSON.stringify(getData)).toString('base64'),\n            },\n        }).then(() => {\n            return true\n        }).catch(() => {\n            return false\n        })\n    }\n\n    if (DB_GENERAL_SETTINGS) {\n        GENERAL_SETTINGS = DB_GENERAL_SETTINGS\n    } else {\n        GENERAL_SETTINGS = GENERAL_SETTINGS_CACHE\n    }\n\n    if (DB_REDIS_WEBCMS_DATA) {\n        WEBCMS_DATA = DB_REDIS_WEBCMS_DATA\n    } else {\n        WEBCMS_DATA = WEBCMS_DATA_CACHE\n    }\n\n    if (QUERY_LOCALE) {\n        locale = QUERY_LOCALE\n    } else if (LOCALE_CACHE) {\n        locale = LOCALE_CACHE\n    } else {\n        locale = DEFAULT_LOCALE\n    }\n\n    if(locale){\n        moment.locale(locale)\n    }\n\n    const handleCookie = () => {\n        localStorage.setItem(\"is-cookie\", \"active\")\n        setCOOKIE_ENABLED(false)\n    }\n\n    let fontName = WEBCMS_DATA?.assets?.font?.name\n    fontName = fontName !== 'default' ? fontName : 'Roboto'\n\n    if(WEBCMS_DATA?.assets?.colors?.primary && host?.includes('cloud') || host?.includes('portal')) {\n        WEBCMS_DATA.assets.colors.primary.main = router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#4666B0'\n        WEBCMS_DATA.assets.colors.primary.dark = router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425C'\n        WEBCMS_DATA.assets.colors.primary.light = router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425C'\n        WEBCMS_DATA.assets.colors.primary.ultraDark = router.pathname.indexOf('emp') !== -1 ? '#0E2326' : '#3C3B53'\n        WEBCMS_DATA.assets.colors.text = {\n            main: router.pathname.indexOf('emp') !== -1 ? '#064E42' : '#43425D',\n            light: router.pathname.indexOf('emp') !== -1 ? '#4E8179' : '#43425D',\n            ultraDark: router.pathname.indexOf('emp') !== -1 ? '#122D31' : '#43425D'\n        }\n    }\n\n    const theme = createMuiTheme({\n        typography: {\n            fontFamily: ['\\'' + fontName + '\\'', 'sans-serif'].join(','),\n        },\n        palette: WEBCMS_DATA?.assets?.colors,\n        direction: locale === 'ar' ? 'rtl' : 'ltr',\n    })\n\n    return (\n        <React.Fragment>\n            <Head>\n                <meta charSet=\"utf-8\" />\n                <meta name=\"theme-color\" content=\"#ffffff\" />\n                <meta name=\"webcms-ver\" content={VERNO}/>\n                <meta name=\"viewport\" content=\"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\"/>\n                {WEBCMS_DATA?.assets?.meta?.fbVerificationCode && <meta name=\"facebook-domain-verification\" content={WEBCMS_DATA.assets.meta.fbVerificationCode} />}\n                {host && host === \"docs.hotech.systems\" ? <meta name=\"google-signin-client_id\" content=\"161176593651-khs1j4eatnfian8ll774gq7c1v2f2ffc.apps.googleusercontent.com\"/> : null}\n                <base href={GENERAL_SETTINGS?.BASE_URL || ''}/>\n                <title>{WEBCMS_DATA?.assets?.meta?.title || ''}</title>\n                {(WEBCMS_DATA?.assets?.meta?.chatBox && !hasPath(noCookieAndChatPaths, router.pathname)) ? <script dangerouslySetInnerHTML={{ __html: `${WEBCMS_DATA.assets.meta.chatBox}`, }} />: null}\n            </Head>\n            <StylesProvider jss={locale === 'ar' ? directions.rtl : directions.ltr}>\n                <MuiThemeProvider theme={theme}>\n                    <CssBaseline/>\n                    <Provider store={store}>\n                        <WebCmsGlobal.Provider value={{ GENERAL_SETTINGS, WEBCMS_DATA, token, locale }}>\n                            <LocaleProvider lang={locale} defaultHotelLanguageFile={DEFAULT_HTL_LANGUAGE_FILE} defaultLanguageFile={DEFAULT_LANGUAGE_FILE}>\n                                <SnackbarProvider maxSnack={3} classes={{ containerRoot: classes.snackbarContainerRoot, }}>\n                                    <Component {...pageProps} />\n                                    {(!isOnlyBasics && !hasPath(noCookieAndChatPaths, router.pathname)) ? <CookiePolicy isActive={!iframe && COOKIE_ENABLED} onClose={()=> handleCookie()} />: null}\n                                </SnackbarProvider>\n                            </LocaleProvider>\n                        </WebCmsGlobal.Provider>\n                    </Provider>\n                </MuiThemeProvider>\n            </StylesProvider>\n         </React.Fragment>\n    )\n}\n\n_App.getInitialProps = async ({ Component, ctx }) => {\n    await pathRedirection(ctx)\n\n    const pageProps = Component.getInitialProps ? await Component.getInitialProps(ctx) : {}\n    let DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE = false, DEFAULT_HTL_LANGUAGE_FILE = false, host\n\n    if (ctx.req) {\n        host = ctx.req.headers.host\n    }\n\n    if (ctx.res) {\n        // server side\n        DB_GENERAL_SETTINGS = ctx.res.GENERAL_SETTINGS\n        DB_REDIS_WEBCMS_DATA = ctx.res.REDIS_WEBCMS_DATA\n    }\n\n    const currentLanguage = ctx.req && ctx.req.currentLanguage && ctx.req.currentLanguage || false\n    if (ctx.req && currentLanguage && isLocale(currentLanguage)) {\n        DEFAULT_LOCALE = currentLanguage\n    } else {\n        if (ctx.res) {\n            DEFAULT_LOCALE = DB_GENERAL_SETTINGS.hotelLocalLangGCode\n        } else {\n            DEFAULT_LOCALE = defaultLocale\n        }\n    }\n\n    if (DB_REDIS_WEBCMS_DATA && DB_REDIS_WEBCMS_DATA?.default?.pages && Object.keys(DB_REDIS_WEBCMS_DATA.default.pages).length && DB_REDIS_WEBCMS_DATA?.defaultLanguage){\n        DEFAULT_LOCALE = DB_REDIS_WEBCMS_DATA?.defaultLanguage?.gcode || DEFAULT_LOCALE\n    }\n\n    if (ctx.query.lang) {\n        QUERY_LOCALE = ctx.query.lang\n        if(Array.isArray(QUERY_LOCALE)){\n            QUERY_LOCALE = QUERY_LOCALE[0]\n        }\n    }\n\n    if (pageProps && Object.keys(pageProps).length > 0) {\n        return {\n            pageProps,\n            DB_GENERAL_SETTINGS,\n            DB_REDIS_WEBCMS_DATA,\n            QUERY_LOCALE,\n            DEFAULT_LOCALE,\n            DEFAULT_LANGUAGE_FILE,\n            DEFAULT_HTL_LANGUAGE_FILE,\n            host,\n        }\n    } else {\n        if (DB_GENERAL_SETTINGS) {\n            DEFAULT_LANGUAGE_FILE = await getHotelAppLang(ctx.req, ctx.res,QUERY_LOCALE || DEFAULT_LOCALE)\n            DEFAULT_HTL_LANGUAGE_FILE = await getHotelAppLang(ctx.req, ctx.res, DB_GENERAL_SETTINGS.hotelLocalLangGCode)\n        }\n\n        return { DB_GENERAL_SETTINGS, DB_REDIS_WEBCMS_DATA, QUERY_LOCALE, DEFAULT_LOCALE, DEFAULT_LANGUAGE_FILE, DEFAULT_HTL_LANGUAGE_FILE, host }\n    }\n}\n\nexport default withRedux(store)(_App)\n"]},"metadata":{},"sourceType":"module"}