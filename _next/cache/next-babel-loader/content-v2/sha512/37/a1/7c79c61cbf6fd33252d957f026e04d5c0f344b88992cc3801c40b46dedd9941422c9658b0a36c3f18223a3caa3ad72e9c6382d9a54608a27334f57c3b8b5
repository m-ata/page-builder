{"ast":null,"code":"import _extends from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mata/app-cloudweb/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/website/Page.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//react imports\nimport React, { useState, useEffect, useContext } from 'react'; //material imports\n\nimport { Checkbox, Container, FormControlLabel, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport BorderColorSharpIcon from '@material-ui/icons/BorderColorSharp';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from '@material-ui/core/IconButton'; //redux imports\n\nimport { connect } from 'react-redux';\nimport { setToState as _setToState, updateState as _updateState, pushToState as _pushToState, deleteFromState as _deleteFromState } from \"../../../../../state/actions\";\nimport axios from \"axios\"; //custom  components imports\n\nimport Header from \"../../components/website/header/Header\";\nimport Footer from \"../../components/website/footer/Footer\";\nimport WebsiteGenericDialog from \"../../components/website/generic/GenericDialog\";\nimport EditPage from \"../../components/website/pages/EditPage\";\nimport Page from \"../../components/website/pages/Page\";\nimport { AlertDialog } from \"../../components/alert\";\nimport { toast } from \"react-toastify\";\nimport { COLORS, DELETE_SUCCESS } from \"../../constants\";\nimport { ViewList, UseOrest, Insert } from \"@webcms/orest\";\nimport { isErrorMsg, OREST_ENDPOINT, REQUEST_METHOD_CONST } from \"../../../../../model/orest/constants\";\nimport { useRouter } from \"next/router\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport WebCmsGlobal from \"../../../../webcms-global\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    centreContent: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    cursorPointer: {\n      cursor: 'pointer',\n      color: 'silver'\n    },\n    langFormControl: {\n      minWidth: 250,\n      marginRight: theme.spacing(1),\n      marginTop: theme.spacing(2),\n      \"float\": \"right\"\n    },\n    titleButton: {\n      marginLeft: theme.spacing(2),\n      marginTop: theme.spacing(3),\n      borderRadius: 20\n    },\n    disabledEvent: {\n      pointerEvents: 'none',\n      opacity: 0.5\n    }\n  };\n});\nvar defaultProps = {\n  bgcolor: 'background.paper',\n  border: 1,\n  borderColor: 'silver'\n};\n\nvar WebsitePage = function WebsitePage(props) {\n  _s();\n\n  var _state$langsFile, _state$langsFile$head, _state$langsFile$head2, _state$langsFile2, _state$langsFile2$pag, _state$website2, _state$website2$foote, _state$langsFile3, _state$langsFile3$foo, _state$langsFile3$foo2;\n\n  var state = props.state,\n      setToState = props.setToState,\n      updateState = props.updateState;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      renderDialog = _React$useState2[0],\n      setRenderDialog = _React$useState2[1];\n\n  var _React$useState3 = React.useState(state.website.footer),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      footer = _React$useState4[0],\n      setFooter = _React$useState4[1];\n\n  var _React$useState5 = React.useState(state.website.header),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      header = _React$useState6[0],\n      setHeader = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      isAlert = _React$useState8[0],\n      setAlert = _React$useState8[1];\n\n  var _useState = useState(''),\n      alertDialogType = _useState[0],\n      setAlertDialogType = _useState[1];\n\n  var _useState2 = useState([]),\n      languages = _useState2[0],\n      setLanguages = _useState2[1];\n\n  var _useState3 = useState(''),\n      selectedLanguage = _useState3[0],\n      setSelectedLanguage = _useState3[1];\n\n  var _useState4 = useState([]),\n      pageLangFile = _useState4[0],\n      setPageLangFile = _useState4[1];\n\n  var _useState5 = useState(null),\n      hcmItemId = _useState5[0],\n      setHcmItemId = _useState5[1];\n\n  var _useState6 = useState(false),\n      isRequestSend = _useState6[0],\n      setRequestSend = _useState6[1];\n\n  var _useState7 = useState(true),\n      isLoaded = _useState7[0],\n      setIsLoaded = _useState7[1];\n\n  var classes = useStyles();\n  var router = useRouter();\n  var companyId = router.query.companyID;\n\n  var _useContext = useContext(WebCmsGlobal),\n      GENERAL_SETTINGS = _useContext.GENERAL_SETTINGS,\n      token = _useContext.token;\n\n  var authToken = token || router.query.authToken;\n  useEffect(function () {\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.HCMITEM,\n      token: authToken,\n      params: {\n        hotelrefno: Number(companyId),\n        query: \"code::WEBSITE-BUILDER-ITEM\"\n      }\n    }).then(function (res) {\n      if (res.status === 200) {\n        var _res$data, _res$data$data;\n\n        if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.length) === 0) {\n          Insert({\n            // insert hcmitemtxt for website builder\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEM,\n            token: authToken,\n            data: {\n              code: 'WEBSITE-BUILDER-ITEM',\n              hotelrefno: Number(companyId)\n            }\n          }).then(function (res1) {\n            if (res1.status === 200) {\n              var _res1$data, _res1$data$data;\n\n              setHcmItemId(res1 === null || res1 === void 0 ? void 0 : (_res1$data = res1.data) === null || _res1$data === void 0 ? void 0 : (_res1$data$data = _res1$data.data) === null || _res1$data$data === void 0 ? void 0 : _res1$data$data.id);\n            } else {\n              var retErr = isErrorMsg(res1);\n              toast.error(retErr.errorMsg, {\n                position: toast.POSITION.TOP_RIGHT\n              });\n            }\n          });\n        } else {\n          var _res$data2, _res$data2$data$;\n\n          setHcmItemId(res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$data$ = _res$data2.data[0]) === null || _res$data2$data$ === void 0 ? void 0 : _res$data2$data$.id);\n        }\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n\n    if (state !== null && state !== void 0 && state.isTemplate) {// handleGenerateTemplate();\n    }\n  }, []);\n  useEffect(function () {\n    if (hcmItemId) {\n      setRequestSend(true);\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMLANG,\n        token: authToken,\n        params: {\n          hotelrefno: Number(companyId),\n          query: \"langid::\".concat(state === null || state === void 0 ? void 0 : state.langId, \",itemid::\").concat(hcmItemId)\n        }\n      }).then(function (res) {\n        if (res.status === 200) {\n          var _res$data3, _res$data3$data;\n\n          if ((res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$data = _res$data3.data) === null || _res$data3$data === void 0 ? void 0 : _res$data3$data.length) === 0) {\n            // insert hcmitemlang for default language\n            Insert({\n              apiUrl: GENERAL_SETTINGS.OREST_URL,\n              endpoint: OREST_ENDPOINT.HCMITEMLANG,\n              token: authToken,\n              data: {\n                itemid: hcmItemId,\n                hotelrefno: Number(companyId),\n                langid: state === null || state === void 0 ? void 0 : state.langId\n              }\n            }).then(function (res1) {\n              if (res1.status === 200) {\n                var _res$data4, _res$data5;\n\n                if (res !== null && res !== void 0 && (_res$data4 = res.data) !== null && _res$data4 !== void 0 && _res$data4.success && res !== null && res !== void 0 && (_res$data5 = res.data) !== null && _res$data5 !== void 0 && _res$data5.data) {\n                  setRequestSend(false);\n                }\n              } else {\n                var retErr = isErrorMsg(res1);\n                toast.error(retErr.errorMsg, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              }\n            });\n          } else {\n            setRequestSend(false);\n          }\n        } else {\n          var retErr = isErrorMsg(res);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      }); //Querying hcmitemlang to populate languages for website\n\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.HCMITEMLANG,\n        token: authToken,\n        params: {\n          hotelrefno: Number(companyId),\n          query: \"itemid::\".concat(hcmItemId)\n        }\n      }).then(function (res) {\n        if (res.status === 200) {\n          var _res$data6, _res$data6$data;\n\n          var websiteLanguages = [];\n\n          if ((res === null || res === void 0 ? void 0 : (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : (_res$data6$data = _res$data6.data) === null || _res$data6$data === void 0 ? void 0 : _res$data6$data.length) > 0) {\n            var _state$languages2;\n\n            res.data.data.map(function (itemLang) {\n              var _state$languages;\n\n              var lang = state === null || state === void 0 ? void 0 : (_state$languages = state.languages) === null || _state$languages === void 0 ? void 0 : _state$languages.find(function (lang) {\n                return (lang === null || lang === void 0 ? void 0 : lang.id) === (itemLang === null || itemLang === void 0 ? void 0 : itemLang.langid);\n              });\n              lang && websiteLanguages.indexOf(lang) === -1 && websiteLanguages.push(lang);\n              setLanguages(websiteLanguages);\n            });\n            var selectedLang = state === null || state === void 0 ? void 0 : (_state$languages2 = state.languages) === null || _state$languages2 === void 0 ? void 0 : _state$languages2.find(function (lang) {\n              var _lang$code;\n\n              return (lang === null || lang === void 0 ? void 0 : (_lang$code = lang.code) === null || _lang$code === void 0 ? void 0 : _lang$code.toLowerCase()) === (state === null || state === void 0 ? void 0 : state.langCode);\n            });\n            selectedLang && setSelectedLanguage(selectedLang);\n          }\n        } else {\n          var retErr = isErrorMsg(res);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    }\n  }, [hcmItemId]);\n  useEffect(function () {\n    var gids = [];\n\n    if (state.website.pages.length > 0) {\n      Promise.all(state.website.pages.map(function (page) {\n        gids.push(page.gid);\n      }));\n      UseOrest({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: 'rafile/list/get/gid',\n        token: authToken,\n        method: REQUEST_METHOD_CONST.POST,\n        data: JSON.stringify(gids),\n        params: {\n          hotelrefno: Number(companyId)\n        }\n      }).then(function (res) {\n        if (res.status === 200 && res.data && res.data.data.length > 0) {\n          var _res$data7, _res$data7$data;\n\n          if (res !== null && res !== void 0 && (_res$data7 = res.data) !== null && _res$data7 !== void 0 && (_res$data7$data = _res$data7.data) !== null && _res$data7$data !== void 0 && _res$data7$data.length) {\n            var mids = [];\n            Promise.all(res.data.data.map(function (data) {\n              mids.push(data.mid);\n            }));\n            UseOrest({\n              apiUrl: GENERAL_SETTINGS.OREST_URL,\n              endpoint: OREST_ENDPOINT.RAFILE + '/' + OREST_ENDPOINT.LIST + '/get/masterid',\n              token: authToken,\n              method: REQUEST_METHOD_CONST.POST,\n              data: mids,\n              params: {\n                hotelrefno: Number(companyId)\n              }\n            }).then(function (res1) {\n              if (res1.status === 200) {\n                var _res1$data2, _res1$data2$data;\n\n                if (res1 !== null && res1 !== void 0 && (_res1$data2 = res1.data) !== null && _res1$data2 !== void 0 && (_res1$data2$data = _res1$data2.data) !== null && _res1$data2$data !== void 0 && _res1$data2$data.length) {\n                  var otherLangsGids = [];\n                  Promise.all(res1.data.data.map(function (data) {\n                    otherLangsGids.push({\n                      gid: data.gid\n                    });\n                  }));\n                  setPageLangFile(otherLangsGids);\n                } else {\n                  toast.warn('Page language data is not available as per selected language', {\n                    position: toast.POSITION.TOP_RIGHT\n                  });\n                }\n              } else {\n                var retErr = isErrorMsg(res1);\n                toast.error(retErr.errorMsg, {\n                  position: toast.POSITION.TOP_RIGHT\n                });\n              }\n            });\n          } else {\n            toast.warn('Page language data is not available as per selected language', {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        } else {\n          var retErr = isErrorMsg(res);\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    }\n  }, [state.website.pages, state.langCode]);\n\n  var handleGenerateTemplate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _state$website;\n\n      var updatedPages, _iterator, _step, page, index, RAFILE_GET, rafile, _rafile$, _rafile$2, _rafile$3, RAFILE_INS, rafileIns;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoaded(false);\n              updatedPages = _toConsumableArray(state === null || state === void 0 ? void 0 : (_state$website = state.website) === null || _state$website === void 0 ? void 0 : _state$website.pages);\n              _iterator = _createForOfIteratorHelper(updatedPages);\n              _context.prev = 3;\n\n              _iterator.s();\n\n            case 5:\n              if ((_step = _iterator.n()).done) {\n                _context.next = 20;\n                break;\n              }\n\n              page = _step.value;\n              index = updatedPages.indexOf(page);\n              RAFILE_GET = {\n                url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.RAFILE + OREST_ENDPOINT.SLASH + 'view/list',\n                method: REQUEST_METHOD_CONST.GET,\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                params: {\n                  hotelrefno: Number(companyId),\n                  query: \"gid::\".concat(page === null || page === void 0 ? void 0 : page.gid)\n                }\n              };\n              _context.next = 11;\n              return getData(RAFILE_GET);\n\n            case 11:\n              rafile = _context.sent;\n\n              if (!((rafile === null || rafile === void 0 ? void 0 : rafile.length) > 0)) {\n                _context.next = 18;\n                break;\n              }\n\n              RAFILE_INS = {\n                url: GENERAL_SETTINGS.OREST_URL + OREST_ENDPOINT.SLASH + OREST_ENDPOINT.RAFILE + OREST_ENDPOINT.SLASH + 'ins',\n                method: REQUEST_METHOD_CONST.POST,\n                headers: {\n                  Authorization: \"Bearer \".concat(authToken),\n                  'Content-Type': 'application/json'\n                },\n                data: {\n                  code: (_rafile$ = rafile[0]) === null || _rafile$ === void 0 ? void 0 : _rafile$.code,\n                  description: (_rafile$2 = rafile[0]) === null || _rafile$2 === void 0 ? void 0 : _rafile$2.description,\n                  filetype: 'WEBPAGE',\n                  filedata: (_rafile$3 = rafile[0]) === null || _rafile$3 === void 0 ? void 0 : _rafile$3.filedata,\n                  langid: state.langId,\n                  hotelrefno: Number(companyId)\n                }\n              };\n              _context.next = 16;\n              return handleInsertData(RAFILE_INS);\n\n            case 16:\n              rafileIns = _context.sent;\n              updatedPages[index] = {\n                gid: rafileIns === null || rafileIns === void 0 ? void 0 : rafileIns.gid\n              };\n\n            case 18:\n              _context.next = 5;\n              break;\n\n            case 20:\n              _context.next = 25;\n              break;\n\n            case 22:\n              _context.prev = 22;\n              _context.t0 = _context[\"catch\"](3);\n\n              _iterator.e(_context.t0);\n\n            case 25:\n              _context.prev = 25;\n\n              _iterator.f();\n\n              return _context.finish(25);\n\n            case 28:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 22, 25, 28]]);\n    }));\n\n    return function handleGenerateTemplate() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getData = function getData(option) {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resv) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios(option).then( /*#__PURE__*/function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(response) {\n                    var _response$data, _response$data$data, retErr;\n\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (response.status === 200) {\n                              if ((response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.length) > 0) resv(response.data.data);\n                            } else {\n                              retErr = isErrorMsg(response);\n                              toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                              });\n                            }\n\n                          case 1:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }())[\"catch\"](function (error) {\n                  resv(error.response || {\n                    status: 0\n                  });\n                });\n\n              case 2:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n\n  var handleInsertData = function handleInsertData(option) {\n    return new Promise( /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(resv) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios(option).then( /*#__PURE__*/function () {\n                  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(response) {\n                    var _response$data2, retErr;\n\n                    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            if (response.status === 200) {\n                              if (response !== null && response !== void 0 && (_response$data2 = response.data) !== null && _response$data2 !== void 0 && _response$data2.data) resv(response.data.data);\n                            } else {\n                              retErr = isErrorMsg(response);\n                              toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                              });\n                            }\n\n                          case 1:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4);\n                  }));\n\n                  return function (_x4) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }())[\"catch\"](function (error) {\n                  resv(error.response || {\n                    status: 0\n                  });\n                });\n\n              case 2:\n                return _context5.abrupt(\"return\", _context5.sent);\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  var selectedFooter = function selectedFooter(footer) {\n    setToState('pageBuilder', ['website', 'footer'], footer);\n  };\n\n  var onSelectHeader = function onSelectHeader(header) {\n    setToState('pageBuilder', ['website', 'header'], header);\n  };\n\n  var onAddPage = function onAddPage(pages) {\n    setToState('pageBuilder', ['website', 'pages'], pages);\n  };\n\n  var resetRender = function resetRender() {\n    setRenderDialog('');\n  };\n\n  var onEditFooter = function onEditFooter(footer) {\n    if (state.langCode === state.defaultLang) {\n      setToState('pageBuilder', ['website', 'footer'], footer);\n    } else {\n      var updatedlangsFile = _objectSpread({}, state.langsFile);\n\n      if (updatedlangsFile.footer[state.langCode]) {\n        setToState('pageBuilder', ['langsFile', 'footer', state.langCode], footer);\n      }\n    }\n  };\n\n  var onEditHeader = function onEditHeader(header) {\n    if (state.langCode === state.defaultLang) {\n      setToState('pageBuilder', ['website', 'header'], header);\n    } else {\n      var updatedlangsFile = _objectSpread({}, state.langsFile);\n\n      if (updatedlangsFile.header[state.langCode]) {\n        setToState('pageBuilder', ['langsFile', 'header', state.langCode], header);\n      }\n    }\n  };\n\n  var renderGenericDialog = function renderGenericDialog(type) {\n    switch (type) {\n      case 'header':\n        setRenderDialog(__jsx(WebsiteGenericDialog, {\n          dialogTitle: \"Select Header\",\n          type: \"header\",\n          isDialogOpen: true,\n          selectedHeader: onSelectHeader,\n          resetRender: resetRender,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 33\n          }\n        }));\n        break;\n\n      case 'footer':\n        setRenderDialog(__jsx(WebsiteGenericDialog, {\n          dialogTitle: \"Select Footer\",\n          type: \"footer\",\n          onSelectFooter: selectedFooter,\n          isDialogOpen: true,\n          resetRender: resetRender,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 33\n          }\n        }));\n        break;\n\n      case 'page':\n        setRenderDialog(__jsx(WebsiteGenericDialog, {\n          dialogTitle: \"Add Page\",\n          type: \"page\",\n          onAddPage: onAddPage,\n          isDialogOpen: true,\n          resetRender: resetRender,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 33\n          }\n        }));\n        break;\n\n      case 'edit-header':\n        setRenderDialog(__jsx(WebsiteGenericDialog, {\n          dialogTitle: \"Edit Header\",\n          type: \"edit-header\",\n          headerType: header,\n          onEditHeader: onEditHeader,\n          isDialogOpen: true,\n          resetRender: resetRender,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 33\n          }\n        }));\n        break;\n\n      case 'edit-footer':\n        setRenderDialog(__jsx(WebsiteGenericDialog, {\n          dialogTitle: \"Edit Footer\",\n          type: \"edit-footer\",\n          footerType: footer,\n          onEditFooter: onEditFooter,\n          isDialogOpen: true,\n          resetRender: resetRender,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 33\n          }\n        }));\n        break;\n\n      default:\n        setRenderDialog('');\n    }\n  };\n\n  var onEditPage = function onEditPage(pages) {\n    setToState('pageBuilder', ['website', 'pages'], pages);\n  };\n\n  var editSectionDialog = function editSectionDialog(webPages) {\n    setRenderDialog(__jsx(EditPage, {\n      webPages: webPages,\n      onEditPage: onEditPage,\n      dialogTitle: \"Edit Page\",\n      isDialogOpen: true,\n      resetRender: resetRender,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 25\n      }\n    }));\n  };\n\n  var deleteHeader = function deleteHeader() {\n    setToState('pageBuilder', ['website', 'header'], {});\n    setToState('pageBuilder', ['langsFile', 'header'], {});\n    toast.success(DELETE_SUCCESS, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  };\n\n  var deleteFooter = function deleteFooter() {\n    setToState('pageBuilder', ['website', 'footer'], {});\n    setToState('pageBuilder', ['langsFile', 'footer'], {});\n    toast.success(DELETE_SUCCESS, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n  };\n\n  var handleDelete = function handleDelete(type, isDelete) {\n    if (isDelete) {\n      switch (type) {\n        case 'header':\n          deleteHeader();\n          break;\n\n        case 'footer':\n          deleteFooter();\n          break;\n\n        case 'footerOnly':\n          handleDeleterFooterOnly();\n          break;\n      }\n    }\n\n    setAlert(false);\n  };\n\n  var handleFooterOnly = function handleFooterOnly() {\n    if (Object.keys(state.website.header).length > 0 || state.website.length > 0) {\n      setAlert(true);\n      setAlertDialogType('footerOnly');\n    } else {\n      updateState('pageBuilder', 'footerOnly', !state.footerOnly);\n    }\n  };\n\n  var handleDeleterFooterOnly = function handleDeleterFooterOnly() {\n    updateState('pageBuilder', 'footerOnly', !state.footerOnly);\n    setToState('pageBuilder', ['website', 'header'], {});\n    setToState('pageBuilder', ['website', 'pages'], []);\n  };\n\n  var handleLanguageChange = function handleLanguageChange(e) {\n    var lang = e.target.value;\n    setRequestSend(true);\n    ViewList({\n      apiUrl: GENERAL_SETTINGS.OREST_URL,\n      endpoint: OREST_ENDPOINT.HCMITEMLANG,\n      token: authToken,\n      params: {\n        hotelrefno: Number(companyId),\n        query: \"langid::\".concat(lang === null || lang === void 0 ? void 0 : lang.id, \",itemid::\").concat(hcmItemId)\n      }\n    }).then(function (res) {\n      if (res.status === 200) {\n        var _res$data8, _res$data8$data;\n\n        if ((res === null || res === void 0 ? void 0 : (_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : (_res$data8$data = _res$data8.data) === null || _res$data8$data === void 0 ? void 0 : _res$data8$data.length) === 0) {\n          // inser language into hcmitemlang\n          Insert({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMLANG,\n            token: authToken,\n            data: {\n              itemid: hcmItemId,\n              hotelrefno: Number(companyId),\n              langid: lang === null || lang === void 0 ? void 0 : lang.id\n            }\n          }).then(function (res1) {\n            if (res1.status === 200) {\n              var _res$data9, _res$data10;\n\n              if (res !== null && res !== void 0 && (_res$data9 = res.data) !== null && _res$data9 !== void 0 && _res$data9.success && res !== null && res !== void 0 && (_res$data10 = res.data) !== null && _res$data10 !== void 0 && _res$data10.data) {\n                setRequestSend(false);\n                handleSetLangContent(lang);\n              }\n            } else {\n              var retErr = isErrorMsg(res1);\n              toast.error(retErr.errorMsg, {\n                position: toast.POSITION.TOP_RIGHT\n              });\n            }\n          });\n        } else {\n          setRequestSend(false);\n          handleSetLangContent(lang);\n        }\n      } else {\n        var retErr = isErrorMsg(res);\n        toast.error(retErr.errorMsg, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }\n    });\n  };\n\n  var handleSetLangContent = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(lang) {\n      var code, updatedlangsFile, _updatedlangsFile$foo, _loop, i, _loop4, _i4;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              code = lang === null || lang === void 0 ? void 0 : lang.code;\n              setSelectedLanguage(lang);\n              updateState('pageBuilder', 'langCode', code);\n              updateState('pageBuilder', 'langId', lang === null || lang === void 0 ? void 0 : lang.id);\n              updatedlangsFile = _objectSpread({}, state.langsFile);\n\n              if (code !== state.defaultLang) {\n                if (Object.keys(state.langsFile).length === 0) {\n                  updatedlangsFile['header'] = {};\n                  updatedlangsFile['footer'] = {};\n                  updatedlangsFile['pages'] = [];\n                } else {\n                  if (!state.langsFile.header) {\n                    updatedlangsFile['header'] = {};\n                  }\n\n                  if (!state.langsFile.footer) {\n                    updatedlangsFile['footer'] = {};\n                  }\n\n                  if (!state.langsFile.pages) {\n                    updatedlangsFile['pages'] = [];\n                  }\n                }\n\n                if (!updatedlangsFile.header[code]) {\n                  updatedlangsFile.header[code] = {\n                    items: []\n                  };\n                  handleSetDefaultHeader(updatedlangsFile, code);\n                } else {\n                  if (updatedlangsFile.header[code].items.length < state.website.header.items.length) {\n                    _loop = function _loop(i) {\n                      updatedlangsFile.header[code].items.push({\n                        items: []\n                      });\n\n                      var _iterator2 = _createForOfIteratorHelper(state.website.header.items[i].items),\n                          _step2;\n\n                      try {\n                        var _loop2 = function _loop2() {\n                          var item = _step2.value;\n                          var itemIndex = state.website.header.items[i].items.indexOf(item);\n                          updatedlangsFile.header[code].items[i].items.push({\n                            value: []\n                          });\n                          item.value.map(function (val, index) {\n                            if (val.type === 'social-link' || val.type === 'internal-link' || val.type === 'external-link' || val.type === 'address' || val.type === 'button') {\n                              updatedlangsFile.header[code].items[i].items[itemIndex].value[index] = {\n                                value: val.value.title\n                              };\n                            }\n\n                            if (val.type === 'phone' || val.type === 'email' || val.type === 'logo') {\n                              updatedlangsFile.header[code].items[i].items[itemIndex].value[index] = {\n                                value: val.value\n                              };\n                            }\n                          });\n                        };\n\n                        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                          _loop2();\n                        }\n                      } catch (err) {\n                        _iterator2.e(err);\n                      } finally {\n                        _iterator2.f();\n                      }\n                    };\n\n                    for (i = updatedlangsFile.header[code].items.length; i < state.website.header.items.length; i++) {\n                      _loop(i);\n                    }\n\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                  }\n\n                  if (updatedlangsFile.header[code].items.length > state.website.header.items.length) {\n                    handleSetDefaultHeader(updatedlangsFile, code);\n                  }\n\n                  if (updatedlangsFile.header[code].items.length === state.website.header.items.length) {\n                    Promise.all(state.website.header.items.map(function (item, index) {\n                      if (item.items.length > updatedlangsFile.header[code].items[index].items.length) {\n                        var _loop3 = function _loop3(_i) {\n                          updatedlangsFile.header[code].items[index].items.push({\n                            value: []\n                          });\n\n                          item.items[_i].value.map(function (val, itemIndex) {\n                            if (val.type === 'social-link' || val.type === 'internal-link' || val.type === 'external-link' || val.type === 'address' || val.type === 'button') {\n                              updatedlangsFile.header[code].items[index].items[_i].value[itemIndex] = {\n                                value: val.value.title\n                              };\n                            }\n\n                            if (val.type === 'phone' || val.type === 'email' || val.type === 'logo') {\n                              updatedlangsFile.header[code].items[index].items[_i].value[itemIndex] = {\n                                value: val.value\n                              };\n                            }\n                          });\n                        };\n\n                        for (var _i = updatedlangsFile.header[code].items[index].items.length; _i < state.website.header.items[index].items.length; _i++) {\n                          _loop3(_i);\n                        }\n                      }\n\n                      if (item.items.length < updatedlangsFile.header[code].items[index].items.length) {\n                        for (var _i2 = item.items.length; _i2 < updatedlangsFile.header[code].items[index].items.length; _i2++) {\n                          updatedlangsFile.header[code].items[index].items.length = item.items.length;\n                        }\n                      }\n                    }));\n                  }\n\n                  Promise.all(state.website.header.items.map(function (item, index) {\n                    for (var _i3 = 0; _i3 < item.items.length; _i3++) {\n                      if (item.items[_i3].value.length > updatedlangsFile.header[code].items[index].items[_i3].value.length) {\n                        for (var j = updatedlangsFile.header[code].items[index].items[_i3].value.length; j < item.items[_i3].value.length; j++) {\n                          if (item.items[_i3].value[j].type === 'social-link' || item.items[_i3].value[j].type === 'internal-link' || item.items[_i3].value[j].type === 'external-link' || item.items[_i3].value[j].type === 'address' || item.items[_i3].value[j].type === 'button') {\n                            updatedlangsFile.header[code].items[index].items[_i3].value[j] = {\n                              value: item.items[_i3].value[j].value.title\n                            };\n                          }\n\n                          if (item.items[_i3].value[j].type === 'phone' || item.items[_i3].value[j].type === 'email' || item.items[_i3].value[j].type === 'logo') {\n                            updatedlangsFile.header[code].items[index].items[_i3].value[j] = {\n                              value: item.items[_i3].value[j].value\n                            };\n                          }\n                        }\n                      }\n\n                      if (item.items[_i3].value.length < updatedlangsFile.header[code].items[index].items[_i3].value.length) {\n                        updatedlangsFile.header[code].items[index].items[_i3].value.length = item.items[_i3].value.length;\n                      }\n                    }\n                  }));\n                  updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n\n                if (!(updatedlangsFile !== null && updatedlangsFile !== void 0 && (_updatedlangsFile$foo = updatedlangsFile.footer) !== null && _updatedlangsFile$foo !== void 0 && _updatedlangsFile$foo[code])) {\n                  updatedlangsFile.footer[code] = {\n                    items: []\n                  };\n                  handleSetDefaultFooter(updatedlangsFile, code);\n                } else {\n                  if (updatedlangsFile.footer[code].items.length < state.website.footer.items.length) {\n                    _loop4 = function _loop4(_i4) {\n                      updatedlangsFile.footer[code].items.push({\n                        items: []\n                      });\n\n                      var _iterator3 = _createForOfIteratorHelper(state.website.footer.items[_i4].items),\n                          _step3;\n\n                      try {\n                        var _loop5 = function _loop5() {\n                          var item = _step3.value;\n\n                          var itemIndex = state.website.footer.items[_i4].items.indexOf(item);\n\n                          updatedlangsFile.footer[code].items[_i4].items.push({\n                            value: []\n                          });\n\n                          item.value.map(function (val, index) {\n                            if (val.type === 'social-link' || val.type === 'link' || val.type === 'button' || val.type === 'address' || val.type === 'internal-link') {\n                              updatedlangsFile.footer[code].items[_i4].items[itemIndex].value[index] = {\n                                value: val.value.title\n                              };\n                            }\n\n                            if (val.type === 'phone' || val.type === 'email' || val.type === 'logo' || val.type === 'paragraph' || val.type === 'heading' || val.type === 'image') {\n                              updatedlangsFile.footer[code].items[_i4].items[itemIndex].value[index] = {\n                                value: val.value\n                              };\n                            }\n                          });\n                        };\n\n                        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                          _loop5();\n                        }\n                      } catch (err) {\n                        _iterator3.e(err);\n                      } finally {\n                        _iterator3.f();\n                      }\n                    };\n\n                    for (_i4 = updatedlangsFile.footer[code].items.length; _i4 < state.website.footer.items.length; _i4++) {\n                      _loop4(_i4);\n                    }\n                  }\n\n                  if (updatedlangsFile.footer[code].items.length > state.website.footer.items.length) {\n                    updatedlangsFile.footer[code].items.length = state.website.footer.items.length;\n                  }\n\n                  if (updatedlangsFile.footer[code].items.length === state.website.footer.items.length) {\n                    Promise.all(state.website.footer.items.map(function (item, index) {\n                      if (item.items.length > updatedlangsFile.footer[code].items[index].items.length) {\n                        var _loop6 = function _loop6(_i5) {\n                          updatedlangsFile.footer[code].items[index].items.push({\n                            value: []\n                          });\n\n                          item.items[_i5].value.map(function (val, itemIndex) {\n                            if (val.type === 'social-link' || val.type === 'link' || val.type === 'button' || val.type === 'address' || val.type === 'internal-link') {\n                              updatedlangsFile.footer[code].items[index].items[_i5].value[itemIndex] = {\n                                value: val.value.title\n                              };\n                            }\n\n                            if (val.type === 'phone' || val.type === 'email' || val.type === 'logo' || val.type === 'paragraph' || val.type === 'heading' || val.type === 'image') {\n                              updatedlangsFile.footer[code].items[index].items[_i5].value[itemIndex] = {\n                                value: val.value\n                              };\n                            }\n                          });\n                        };\n\n                        for (var _i5 = updatedlangsFile.footer[code].items[index].items.length; _i5 < state.website.footer.items[index].items.length; _i5++) {\n                          _loop6(_i5);\n                        }\n                      }\n\n                      if (item.items.length < updatedlangsFile.footer[code].items[index].items.length) {\n                        updatedlangsFile.footer[code].items[index].items.length = item.items.length;\n                      }\n                    }));\n                  }\n\n                  Promise.all(state.website.footer.items.map(function (item, index) {\n                    for (var _i6 = 0; _i6 < item.items.length; _i6++) {\n                      if (item.items[_i6].value.length > updatedlangsFile.footer[code].items[index].items[_i6].value.length) {\n                        for (var j = updatedlangsFile.footer[code].items[index].items[_i6].value.length; j < item.items[_i6].value.length; j++) {\n                          if (item.items[_i6].value[j].type === 'social-link' || item.items[_i6].value[j].type === 'link' || item.items[_i6].value[j].type === 'button' || item.items[_i6].value[j].type === 'address' || item.items[_i6].value[j].type === 'internal-link') {\n                            updatedlangsFile.footer[code].items[index].items[_i6].value[j] = {\n                              value: item.items[_i6].value[j].value.title\n                            };\n                          }\n\n                          if (item.items[_i6].value[j].type === 'phone' || item.items[_i6].value[j].type === 'email' || item.items[_i6].value[j].type === 'logo' || item.items[_i6].value[j].type === 'paragraph' || item.items[_i6].value[j].type === 'heading' || item.items[_i6].value[j].type === 'image') {\n                            updatedlangsFile.footer[code].items[index].items[_i6].value[j] = {\n                              value: item.items[_i6].value[j].value\n                            };\n                          }\n                        }\n                      }\n                    }\n                  }));\n                }\n\n                setToState('pageBuilder', ['langsFile', 'pages'], pageLangFile);\n              }\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleSetLangContent(_x5) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var handleSetDefaultHeader = function handleSetDefaultHeader(updatedlangsFile, code) {\n    Promise.all(state.website.header.items.map(function (rowItem, rowIndex) {\n      updatedlangsFile.header[code].items[rowIndex] = {\n        items: []\n      };\n      rowItem.items.map(function (colItem, colIndex) {\n        updatedlangsFile.header[code].items[rowIndex].items[colIndex] = {\n          value: []\n        };\n        colItem.value.map(function (val, i) {\n          if (val.type === 'social-link' || val.type === 'internal-link' || val.type === 'external-link' || val.type === 'address' || val.type === 'button') {\n            updatedlangsFile.header[code].items[rowIndex].items[colIndex].value[i] = {\n              value: val.value.title\n            };\n          }\n\n          if (val.type === 'phone' || val.type === 'email' || val.type === 'logo') {\n            updatedlangsFile.header[code].items[rowIndex].items[colIndex].value[i] = {\n              value: val.value\n            };\n          }\n        });\n      });\n    }));\n    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n  };\n\n  var handleSetDefaultFooter = function handleSetDefaultFooter(updatedlangsFile, code) {\n    Promise.all(state.website.footer.items.map(function (rowItem, rowIndex) {\n      updatedlangsFile.footer[code].items[rowIndex] = {\n        items: []\n      };\n      rowItem.items.map(function (colItem, colIndex) {\n        updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n          value: []\n        };\n        colItem.value.map(function (val, i) {\n          if (val.type === 'social-link' || val.type === 'link' || val.type === 'button' || val.type === 'address' || val.type === 'internal-link') {\n            updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n              value: val.value.title\n            };\n          }\n\n          if (val.type === 'address') {\n            updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n              value: val.value.title // link:\n\n            };\n          }\n\n          if (val.type === 'phone' || val.type === 'email' || val.type === 'logo' || val.type === 'paragraph' || val.type === 'heading' || val.type === 'image') {\n            updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n              value: val.value\n            };\n          }\n        });\n      });\n    }));\n    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n  };\n\n  if (!isLoaded) {\n    return __jsx(LoadingSpinner, {\n      style: {\n        color: COLORS.secondary\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 842,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return __jsx(Container, {\n    className: isRequestSend ? classes.disabledEvent : '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 846,\n      columnNumber: 9\n    }\n  }, __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 847,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 848,\n      columnNumber: 17\n    }\n  }, __jsx(FormControl, {\n    size: 'small',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 21\n    }\n  }, __jsx(FormControlLabel, {\n    control: __jsx(Checkbox, {\n      checked: state.footerOnly,\n      onChange: handleFooterOnly,\n      name: \"footerOnly\",\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 852,\n        columnNumber: 33\n      }\n    }),\n    label: \"Footer Only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 25\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 863,\n      columnNumber: 17\n    }\n  }, __jsx(FormControl, {\n    variant: \"outlined\",\n    style: {\n      \"float\": \"right\"\n    },\n    disabled: Object.keys(state.website.header).length === 0 || state.website.pages.length === 0 || Object.keys(state.website.footer).length === 0,\n    size: 'small',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 864,\n      columnNumber: 21\n    }\n  }, __jsx(Select, {\n    value: selectedLanguage,\n    onChange: handleLanguageChange,\n    label: \"Language\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 872,\n      columnNumber: 25\n    }\n  }, languages.length > 0 && languages.map(function (lang, index) {\n    return __jsx(MenuItem, {\n      value: lang,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 880,\n        columnNumber: 41\n      }\n    }, ' ', lang.description, ' ');\n  }))))), __jsx(Box, _extends({}, defaultProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 891,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 892,\n      columnNumber: 17\n    }\n  }, Object.keys(state.website.header).length > 0 ? __jsx(React.Fragment, null, __jsx(Button, {\n    onClick: function onClick() {\n      return renderGenericDialog('edit-header');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 896,\n      columnNumber: 33\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 37\n    }\n  })), state.langCode === state.defaultLang && __jsx(IconButton, {\n    \"aria-label\": \"Delete item\",\n    color: \"primary\",\n    onClick: function onClick() {\n      setAlert(true);\n      setAlertDialogType('header');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 77\n    }\n  }, __jsx(DeleteIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    style: {\n      pointerEvents: 'none'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 911,\n      columnNumber: 33\n    }\n  }, state.langCode === state.defaultLang && __jsx(Header, {\n    headerItems: state.website.header.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 914,\n      columnNumber: 41\n    }\n  }), state.langCode !== state.defaultLang && Object.keys(state.langsFile).length > 0 && state.langsFile.header && __jsx(Header, {\n    headerItems: state === null || state === void 0 ? void 0 : (_state$langsFile = state.langsFile) === null || _state$langsFile === void 0 ? void 0 : (_state$langsFile$head = _state$langsFile.header) === null || _state$langsFile$head === void 0 ? void 0 : (_state$langsFile$head2 = _state$langsFile$head[state.langCode]) === null || _state$langsFile$head2 === void 0 ? void 0 : _state$langsFile$head2.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 920,\n      columnNumber: 41\n    }\n  }))) : __jsx(\"h3\", {\n    className: classes.centreContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    onClick: function onClick() {\n      return renderGenericDialog('header');\n    },\n    className: classes.cursorPointer,\n    style: {\n      pointerEvents: state.footerOnly ? 'none' : '',\n      opacity: state.footerOnly ? 0.5 : 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 926,\n      columnNumber: 33\n    }\n  }, \"Click to define Header\"))), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 936,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    style: {\n      minHeight: '50vh'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 938,\n      columnNumber: 17\n    }\n  }, state.website.pages.length > 0 && __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 59\n    }\n  }, state.langCode === state.defaultLang && __jsx(Button, {\n    onClick: function onClick() {\n      return editSectionDialog(state.website.pages);\n    },\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 943,\n      columnNumber: 33\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 947,\n      columnNumber: 37\n    }\n  })), state.langCode === state.defaultLang && state.website.pages && state.website.pages.length > 0 && state.website.pages[0] && state.website.pages[0].gid && __jsx(Page, {\n    gid: state.website.pages[0].gid,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 953,\n      columnNumber: 33\n    }\n  }), state.langCode !== state.defaultLang && state.website.pages && state.website.pages.length > 0 && state.website.pages[0] && state.website.pages[0].gid && state.langsFile && state.langsFile.pages && state.langsFile.pages.length > 0 && state.langsFile.pages[0] && state.langsFile.pages[0].gid && __jsx(Page, {\n    gid: state.website.pages[0].gid,\n    otherLangGID: state === null || state === void 0 ? void 0 : (_state$langsFile2 = state.langsFile) === null || _state$langsFile2 === void 0 ? void 0 : (_state$langsFile2$pag = _state$langsFile2.pages[0]) === null || _state$langsFile2$pag === void 0 ? void 0 : _state$langsFile2$pag.gid,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 959,\n      columnNumber: 33\n    }\n  })), state.website.pages.length === 0 && __jsx(\"h3\", {\n    className: classes.centreContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 966,\n      columnNumber: 61\n    }\n  }, __jsx(\"span\", {\n    onClick: function onClick() {\n      return renderGenericDialog('page');\n    },\n    className: classes.cursorPointer,\n    style: {\n      pointerEvents: state.footerOnly ? 'none' : '',\n      opacity: state.footerOnly ? 0.5 : 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 969,\n      columnNumber: 33\n    }\n  }, \"Click to define Page\")), state.website.pages.length === 0 && __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 979,\n      columnNumber: 61\n    }\n  })), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 983,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 985,\n      columnNumber: 17\n    }\n  }, Object.keys(state.website.footer).length > 0 ? __jsx(React.Fragment, null, __jsx(Button, {\n    onClick: function onClick() {\n      return renderGenericDialog('edit-footer');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 989,\n      columnNumber: 33\n    }\n  }, __jsx(BorderColorSharpIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 990,\n      columnNumber: 37\n    }\n  })), state.langCode === state.defaultLang && __jsx(IconButton, {\n    \"aria-label\": \"Delete item\",\n    color: \"primary\",\n    onClick: function onClick() {\n      setAlert(true);\n      setAlertDialogType('footer');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 993,\n      columnNumber: 77\n    }\n  }, __jsx(DeleteIcon, {\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1001,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    style: {\n      pointerEvents: 'none'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1004,\n      columnNumber: 33\n    }\n  }, state.langCode === state.defaultLang && __jsx(Footer, {\n    footerItems: state === null || state === void 0 ? void 0 : (_state$website2 = state.website) === null || _state$website2 === void 0 ? void 0 : (_state$website2$foote = _state$website2.footer) === null || _state$website2$foote === void 0 ? void 0 : _state$website2$foote.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1007,\n      columnNumber: 41\n    }\n  }), state.langCode !== state.defaultLang && __jsx(Footer, {\n    footerItems: state === null || state === void 0 ? void 0 : (_state$langsFile3 = state.langsFile) === null || _state$langsFile3 === void 0 ? void 0 : (_state$langsFile3$foo = _state$langsFile3.footer) === null || _state$langsFile3$foo === void 0 ? void 0 : (_state$langsFile3$foo2 = _state$langsFile3$foo[state.langCode]) === null || _state$langsFile3$foo2 === void 0 ? void 0 : _state$langsFile3$foo2.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1011,\n      columnNumber: 41\n    }\n  }))) : __jsx(\"h3\", {\n    className: classes.centreContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1015,\n      columnNumber: 29\n    }\n  }, __jsx(\"span\", {\n    onClick: function onClick() {\n      return renderGenericDialog('footer');\n    },\n    className: classes.cursorPointer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1016,\n      columnNumber: 33\n    }\n  }, \"Click to define Footer\")))), renderDialog, isAlert && __jsx(AlertDialog, {\n    handleDelete: handleDelete,\n    alertDialogType: alertDialogType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1027,\n      columnNumber: 28\n    }\n  }));\n};\n\n_s(WebsitePage, \"NiGcUNokMA2u7tBBXVSOx63aVpE=\", false, function () {\n  return [useStyles, useRouter];\n});\n\n_c = WebsitePage;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateState: function updateState(stateType, stateName, value) {\n      return dispatch(_updateState(stateType, stateName, value));\n    },\n    setToState: function setToState(stateType, stateName, value) {\n      return dispatch(_setToState(stateType, stateName, value));\n    },\n    pushToState: function pushToState(stateType, stateName, value) {\n      return dispatch(_pushToState(stateType, stateName, value));\n    },\n    deleteFromState: function deleteFromState(stateType, stateName, value) {\n      return dispatch(_deleteFromState(stateType, stateName, value));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WebsitePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"WebsitePage\");","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/website/Page.js"],"names":["React","useState","useEffect","useContext","Checkbox","Container","FormControlLabel","Grid","makeStyles","Box","Button","BorderColorSharpIcon","DeleteIcon","IconButton","connect","setToState","updateState","pushToState","deleteFromState","axios","Header","Footer","WebsiteGenericDialog","EditPage","Page","AlertDialog","toast","COLORS","DELETE_SUCCESS","ViewList","UseOrest","Insert","isErrorMsg","OREST_ENDPOINT","REQUEST_METHOD_CONST","useRouter","FormControl","Select","MenuItem","WebCmsGlobal","LoadingSpinner","useStyles","theme","centreContent","display","justifyContent","cursorPointer","cursor","color","langFormControl","minWidth","marginRight","spacing","marginTop","titleButton","marginLeft","borderRadius","disabledEvent","pointerEvents","opacity","defaultProps","bgcolor","border","borderColor","WebsitePage","props","state","renderDialog","setRenderDialog","website","footer","setFooter","header","setHeader","isAlert","setAlert","alertDialogType","setAlertDialogType","languages","setLanguages","selectedLanguage","setSelectedLanguage","pageLangFile","setPageLangFile","hcmItemId","setHcmItemId","isRequestSend","setRequestSend","isLoaded","setIsLoaded","classes","router","companyId","query","companyID","GENERAL_SETTINGS","token","authToken","apiUrl","OREST_URL","endpoint","HCMITEM","params","hotelrefno","Number","then","res","status","data","length","code","res1","id","retErr","error","errorMsg","position","POSITION","TOP_RIGHT","isTemplate","HCMITEMLANG","langId","itemid","langid","success","websiteLanguages","map","itemLang","lang","find","indexOf","push","selectedLang","toLowerCase","langCode","gids","pages","Promise","all","page","gid","method","POST","JSON","stringify","mids","mid","RAFILE","LIST","otherLangsGids","warn","handleGenerateTemplate","updatedPages","index","RAFILE_GET","url","SLASH","GET","headers","Authorization","getData","rafile","RAFILE_INS","description","filetype","filedata","handleInsertData","rafileIns","option","resv","response","selectedFooter","onSelectHeader","onAddPage","resetRender","onEditFooter","defaultLang","updatedlangsFile","langsFile","onEditHeader","renderGenericDialog","type","onEditPage","editSectionDialog","webPages","deleteHeader","deleteFooter","handleDelete","isDelete","handleDeleterFooterOnly","handleFooterOnly","Object","keys","footerOnly","handleLanguageChange","e","target","value","handleSetLangContent","items","handleSetDefaultHeader","i","item","itemIndex","val","title","j","handleSetDefaultFooter","rowItem","rowIndex","colItem","colIndex","secondary","minHeight","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["//react imports\nimport React, {useState, useEffect, useContext} from 'react';\n//material imports\nimport {\n    Checkbox,\n    Container,\n    FormControlLabel,\n    Grid\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport BorderColorSharpIcon from '@material-ui/icons/BorderColorSharp';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from '@material-ui/core/IconButton';\n//redux imports\nimport { connect } from 'react-redux';\nimport {setToState, updateState, pushToState, deleteFromState} from \"../../../../../state/actions\";\n\nimport axios from \"axios\";\n//custom  components imports\nimport Header from \"../../components/website/header/Header\";\nimport Footer from \"../../components/website/footer/Footer\";\nimport WebsiteGenericDialog from \"../../components/website/generic/GenericDialog\";\nimport EditPage from \"../../components/website/pages/EditPage\";\nimport Page from \"../../components/website/pages/Page\";\nimport {AlertDialog} from \"../../components/alert\";\n\nimport {toast} from \"react-toastify\";\nimport {COLORS, DELETE_SUCCESS} from \"../../constants\";\nimport {ViewList, UseOrest, Insert} from \"@webcms/orest\";\nimport {isErrorMsg, OREST_ENDPOINT, REQUEST_METHOD_CONST} from \"../../../../../model/orest/constants\";\nimport {useRouter} from \"next/router\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport WebCmsGlobal from \"../../../../webcms-global\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\n\nconst useStyles = makeStyles(theme => ({\n    centreContent: {\n        display: 'flex',\n        justifyContent: 'center'\n    },\n    cursorPointer: {\n        cursor: 'pointer',\n        color: 'silver'\n    },\n    langFormControl: {\n        minWidth: 250,\n        marginRight: theme.spacing(1),\n        marginTop: theme.spacing(2),\n        float: \"right\"\n    },\n    titleButton: {\n        marginLeft: theme.spacing(2),\n        marginTop: theme.spacing(3),\n        borderRadius: 20,\n    },\n    disabledEvent: {\n        pointerEvents: 'none',\n        opacity: 0.5\n    }\n}));\n\nconst defaultProps = {\n    bgcolor: 'background.paper',\n    border: 1,\n    borderColor: 'silver',\n};\n\nconst WebsitePage = (props) => {\n\n    const {\n        state,\n        setToState,\n        updateState\n    } = props;\n\n    const [renderDialog, setRenderDialog] = React.useState('');\n    const [footer, setFooter] = React.useState(state.website.footer);\n    const [header, setHeader] = React.useState(state.website.header);\n    const [isAlert, setAlert] = React.useState(false);\n    const [alertDialogType, setAlertDialogType] = useState('');\n    const [languages, setLanguages] = useState([]);\n    const [selectedLanguage, setSelectedLanguage] = useState('');\n    const [pageLangFile, setPageLangFile] = useState([]);\n    const [hcmItemId, setHcmItemId] = useState(null);\n    const [isRequestSend, setRequestSend] = useState(false);\n    const [isLoaded, setIsLoaded] = useState(true);\n\n    const classes = useStyles();\n\n    const router = useRouter();\n    const companyId = router.query.companyID;\n    const { GENERAL_SETTINGS, token } = useContext(WebCmsGlobal);\n    const authToken = token || router.query.authToken;\n\n    useEffect(() => {\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEM,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n                query: `code::WEBSITE-BUILDER-ITEM`,\n            },\n        }).then(res => {\n            if (res.status === 200) {\n                if (res?.data?.data?.length === 0) {\n                    Insert({ // insert hcmitemtxt for website builder\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.HCMITEM,\n                        token: authToken,\n                        data: {\n                            code: 'WEBSITE-BUILDER-ITEM',\n                            hotelrefno: Number(companyId),\n                        },\n                    }).then(res1 => {\n                        if (res1.status === 200) {\n                            setHcmItemId(res1?.data?.data?.id);\n                        } else {\n                            const retErr = isErrorMsg(res1);\n                            toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                            });\n                        }\n                    })\n                } else {\n                    setHcmItemId(res?.data?.data[0]?.id);\n                }\n            } else {\n                const retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        })\n\n        if (state?.isTemplate) {\n            // handleGenerateTemplate();\n        }\n\n    }, []);\n\n    useEffect(() => {\n        if (hcmItemId) {\n            setRequestSend(true);\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMLANG,\n                token: authToken,\n                params: {\n                    hotelrefno: Number(companyId),\n                    query: `langid::${state?.langId},itemid::${hcmItemId}`,\n                },\n            }).then(res => {\n                if (res.status === 200) {\n                    if (res?.data?.data?.length === 0) {\n                        // insert hcmitemlang for default language\n                        Insert({\n                            apiUrl: GENERAL_SETTINGS.OREST_URL,\n                            endpoint: OREST_ENDPOINT.HCMITEMLANG,\n                            token: authToken,\n                            data: {\n                                itemid: hcmItemId,\n                                hotelrefno: Number(companyId),\n                                langid: state?.langId\n                            },\n                        }).then(res1 => {\n                            if (res1.status === 200) {\n                                if (res?.data?.success && res?.data?.data) {\n                                    setRequestSend(false);\n                                }\n                            } else {\n                                const retErr = isErrorMsg(res1);\n                                toast.error(retErr.errorMsg, {\n                                    position: toast.POSITION.TOP_RIGHT\n                                });\n                            }\n                        })\n                    } else {\n                        setRequestSend(false);\n                    }\n                } else {\n                    const retErr = isErrorMsg(res);\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            })\n            //Querying hcmitemlang to populate languages for website\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.HCMITEMLANG,\n                token: authToken,\n                params: {\n                    hotelrefno: Number(companyId),\n                    query: `itemid::${hcmItemId}`,\n                },\n            }).then((res) => {\n                if (res.status === 200) {\n                    let websiteLanguages = [];\n                    if (res?.data?.data?.length > 0) {\n                        res.data.data.map(itemLang => {\n                            const lang = state?.languages?.find(lang => lang?.id === itemLang?.langid);\n                            (lang && websiteLanguages.indexOf(lang) === -1)&& websiteLanguages.push(lang);\n                            setLanguages(websiteLanguages);\n                        });\n                        const selectedLang = state?.languages?.find(lang => lang?.code?.toLowerCase() === state?.langCode);\n                        selectedLang && setSelectedLanguage(selectedLang);\n                    }\n                } else {\n                    const retErr = isErrorMsg(res);\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            });\n        }\n    }, [hcmItemId]);\n\n    useEffect(() => {\n        let gids = []\n        if (state.website.pages.length > 0) {\n            Promise.all(state.website.pages.map(page => {\n                gids.push(page.gid);\n            }))\n            UseOrest({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: 'rafile/list/get/gid',\n                token: authToken,\n                method: REQUEST_METHOD_CONST.POST,\n                data: JSON.stringify(gids),\n                params: {\n                    hotelrefno:  Number(companyId)\n                }\n            }).then(res => {\n                if (res.status === 200 && res.data && res.data.data.length > 0) {\n                    if (res?.data?.data?.length) {\n                        let mids = []\n                        Promise.all(res.data.data.map(data => {\n                            mids.push(data.mid);\n                        }))\n                        UseOrest({\n                            apiUrl: GENERAL_SETTINGS.OREST_URL,\n                            endpoint: OREST_ENDPOINT.RAFILE + '/' + OREST_ENDPOINT.LIST + '/get/masterid',\n                            token: authToken,\n                            method: REQUEST_METHOD_CONST.POST,\n                            data: mids,\n                            params: {\n                                hotelrefno:  Number(companyId)\n                            }\n                        }).then(res1 => {\n                            if (res1.status === 200) {\n                                if (res1?.data?.data?.length) {\n                                    let otherLangsGids = [];\n                                    Promise.all(res1.data.data.map(data => {\n                                        otherLangsGids.push({\n                                            gid: data.gid\n                                        });\n                                    }))\n                                    setPageLangFile(otherLangsGids);\n                                } else {\n                                    toast.warn('Page language data is not available as per selected language', {\n                                        position: toast.POSITION.TOP_RIGHT\n                                    });\n                                }\n                            } else {\n                                const retErr = isErrorMsg(res1);\n                                toast.error(retErr.errorMsg, {\n                                    position: toast.POSITION.TOP_RIGHT\n                                });\n                            }\n                        })\n                    } else {\n                        toast.warn('Page language data is not available as per selected language', {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                } else {\n                    const retErr = isErrorMsg(res);\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT\n                    });\n                }\n            })\n        }\n    }, [state.website.pages, state.langCode]);\n\n    const handleGenerateTemplate = async () => {\n        setIsLoaded(false);\n        let updatedPages = [...state?.website?.pages];\n        for (let page of updatedPages) {\n            const index = updatedPages.indexOf(page);\n            const RAFILE_GET = {\n                url:\n                    GENERAL_SETTINGS.OREST_URL +\n                    OREST_ENDPOINT.SLASH +\n                    OREST_ENDPOINT.RAFILE +\n                    OREST_ENDPOINT.SLASH +\n                    'view/list',\n                method: REQUEST_METHOD_CONST.GET,\n                headers: {\n                    Authorization: `Bearer ${authToken}`,\n                    'Content-Type': 'application/json',\n                },\n                params: {\n                    hotelrefno: Number(companyId),\n                    query: `gid::${page?.gid}`\n                },\n            }\n            const rafile = await getData(RAFILE_GET);\n            if (rafile?.length > 0) {\n                const RAFILE_INS = {\n                    url:\n                        GENERAL_SETTINGS.OREST_URL +\n                        OREST_ENDPOINT.SLASH +\n                        OREST_ENDPOINT.RAFILE +\n                        OREST_ENDPOINT.SLASH +\n                        'ins',\n                    method: REQUEST_METHOD_CONST.POST,\n                    headers: {\n                        Authorization: `Bearer ${authToken}`,\n                        'Content-Type': 'application/json',\n                    },\n                    data: {\n                        code: rafile[0]?.code,\n                        description: rafile[0]?.description,\n                        filetype: 'WEBPAGE',\n                        filedata: rafile[0]?.filedata,\n                        langid: state.langId,\n                        hotelrefno: Number(companyId),\n                    },\n                }\n                const rafileIns = await handleInsertData(RAFILE_INS);\n                updatedPages[index] = {gid: rafileIns?.gid}\n            }\n        }\n    }\n\n    const getData = (option) => {\n        return new Promise(async (resv) => {\n            return await axios(option)\n                .then(async (response) => {\n                    if (response.status === 200) {\n                        if (response?.data?.data?.length > 0)\n                            resv(response.data.data)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const handleInsertData = (option) => {\n        return new Promise(async (resv) => {\n            return await axios(option)\n                .then(async (response) => {\n                    if (response.status === 200) {\n                        if (response?.data?.data)\n                            resv(response.data.data)\n                    } else {\n                        const retErr = isErrorMsg(response);\n                        toast.error(retErr.errorMsg, {\n                            position: toast.POSITION.TOP_RIGHT\n                        });\n                    }\n                })\n                .catch((error) => {\n                    resv(error.response || { status: 0 })\n                })\n        })\n    }\n\n    const selectedFooter = (footer) => {\n        setToState('pageBuilder', ['website', 'footer'], footer);\n    }\n\n    const onSelectHeader = (header) => {\n        setToState('pageBuilder', ['website', 'header'], header);\n    }\n\n    const onAddPage = (pages) => {\n        setToState('pageBuilder', ['website', 'pages'], pages);\n    }\n\n    const resetRender = () => {\n        setRenderDialog('');\n    }\n\n    const onEditFooter = (footer) => {\n        if (state.langCode === state.defaultLang) {\n            setToState('pageBuilder', ['website', 'footer'], footer);\n        } else {\n            const updatedlangsFile = {...state.langsFile};\n            if (updatedlangsFile.footer[state.langCode]) {\n                setToState('pageBuilder', ['langsFile', 'footer', state.langCode], footer);\n            }\n        }\n    }\n\n    const onEditHeader = (header) => {\n        if (state.langCode === state.defaultLang) {\n            setToState('pageBuilder', ['website', 'header'], header);\n        } else {\n            const updatedlangsFile = {...state.langsFile};\n            if (updatedlangsFile.header[state.langCode]) {\n                setToState('pageBuilder', ['langsFile', 'header', state.langCode], header);\n            }\n        }\n    }\n\n    const renderGenericDialog = (type) => {\n        switch (type) {\n            case 'header':\n                setRenderDialog(<WebsiteGenericDialog dialogTitle=\"Select Header\" type='header' isDialogOpen={true}\n                                               selectedHeader={onSelectHeader} resetRender={resetRender}/>);\n                break;\n            case 'footer':\n                setRenderDialog(<WebsiteGenericDialog dialogTitle=\"Select Footer\" type=\"footer\" onSelectFooter={selectedFooter}\n                                               isDialogOpen={true} resetRender={resetRender}/>);\n                break;\n            case 'page':\n                setRenderDialog(<WebsiteGenericDialog dialogTitle=\"Add Page\" type=\"page\" onAddPage={onAddPage}\n                                               isDialogOpen={true} resetRender={resetRender}/>);\n                break;\n            case 'edit-header':\n                setRenderDialog(<WebsiteGenericDialog dialogTitle=\"Edit Header\" type=\"edit-header\" headerType={header}\n                                               onEditHeader={onEditHeader} isDialogOpen={true}\n                                               resetRender={resetRender}/>);\n                break;\n            case 'edit-footer':\n                setRenderDialog(<WebsiteGenericDialog dialogTitle=\"Edit Footer\" type=\"edit-footer\" footerType={footer}\n                                               onEditFooter={onEditFooter} isDialogOpen={true}\n                                               resetRender={resetRender}/>);\n                break;\n            default:\n                setRenderDialog('');\n        }\n    }\n\n    const onEditPage = (pages) => {\n        setToState('pageBuilder', ['website', 'pages'], pages);\n    }\n\n    const editSectionDialog = (webPages) => {\n        setRenderDialog(<EditPage\n                            webPages={webPages}\n                            onEditPage={onEditPage}\n                            dialogTitle=\"Edit Page\"\n                            isDialogOpen={true}\n                            resetRender={resetRender}\n        />);\n    }\n\n    const deleteHeader = () => {\n        setToState('pageBuilder', ['website', 'header'], {});\n        setToState('pageBuilder', ['langsFile', 'header'], {});\n        toast.success(DELETE_SUCCESS, {\n            position: toast.POSITION.TOP_RIGHT\n        });\n    }\n\n    const deleteFooter = () => {\n        setToState('pageBuilder', ['website', 'footer'], {});\n        setToState('pageBuilder', ['langsFile', 'footer'], {});\n        toast.success(DELETE_SUCCESS, {\n            position: toast.POSITION.TOP_RIGHT\n        });\n    }\n\n    const handleDelete = (type, isDelete) => {\n        if (isDelete) {\n            switch (type) {\n                case 'header':\n                    deleteHeader();\n                    break;\n                case 'footer':\n                    deleteFooter();\n                    break;\n                case 'footerOnly':\n                    handleDeleterFooterOnly();\n                    break;\n            }\n        }\n        setAlert(false);\n    }\n\n    const handleFooterOnly = () => {\n        if (Object.keys(state.website.header).length > 0 || state.website.length > 0) {\n            setAlert(true);\n            setAlertDialogType('footerOnly');\n        } else {\n            updateState('pageBuilder', 'footerOnly', !state.footerOnly);\n        }\n    }\n\n    const handleDeleterFooterOnly = () => {\n        updateState('pageBuilder', 'footerOnly', !state.footerOnly);\n        setToState('pageBuilder', ['website', 'header'], {});\n        setToState('pageBuilder', ['website', 'pages'], []);\n    }\n\n    const handleLanguageChange = (e) => {\n        const lang = e.target.value;\n        setRequestSend(true);\n        ViewList({\n            apiUrl: GENERAL_SETTINGS.OREST_URL,\n            endpoint: OREST_ENDPOINT.HCMITEMLANG,\n            token: authToken,\n            params: {\n                hotelrefno: Number(companyId),\n                query: `langid::${lang?.id},itemid::${hcmItemId}`,\n            },\n        }).then(res => {\n            if (res.status === 200) {\n                if (res?.data?.data?.length === 0) {\n                    // inser language into hcmitemlang\n                    Insert({\n                        apiUrl: GENERAL_SETTINGS.OREST_URL,\n                        endpoint: OREST_ENDPOINT.HCMITEMLANG,\n                        token: authToken,\n                        data: {\n                            itemid: hcmItemId,\n                            hotelrefno: Number(companyId),\n                            langid: lang?.id\n                        },\n                    }).then(res1 => {\n                        if (res1.status === 200) {\n                            if (res?.data?.success && res?.data?.data) {\n                                setRequestSend(false);\n                                handleSetLangContent(lang);\n                            }\n                        } else {\n                            const retErr = isErrorMsg(res1);\n                            toast.error(retErr.errorMsg, {\n                                position: toast.POSITION.TOP_RIGHT\n                            });\n                        }\n                    })\n                } else {\n                    setRequestSend(false);\n                    handleSetLangContent(lang);\n                }\n            } else {\n                const retErr = isErrorMsg(res);\n                toast.error(retErr.errorMsg, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        })\n\n    }\n\n    const handleSetLangContent = async (lang) => {\n        const code = lang?.code;\n        setSelectedLanguage(lang);\n        updateState('pageBuilder', 'langCode', code);\n        updateState('pageBuilder', 'langId', lang?.id);\n        const updatedlangsFile = {...state.langsFile};\n        if (code !== state.defaultLang) {\n            if (Object.keys(state.langsFile).length === 0) {\n                updatedlangsFile['header'] = {};\n                updatedlangsFile['footer'] = {};\n                updatedlangsFile['pages'] = [];\n            } else {\n                if (!state.langsFile.header) {\n                    updatedlangsFile['header'] = {};\n                }\n                if (!state.langsFile.footer) {\n                    updatedlangsFile['footer'] = {};\n                }\n                if (!state.langsFile.pages) {\n                    updatedlangsFile['pages'] = [];\n                }\n            }\n            if (!updatedlangsFile.header[code]) {\n                updatedlangsFile.header[code] = {\n                    items: []\n                }\n                handleSetDefaultHeader(updatedlangsFile, code);\n            } else {\n                if (updatedlangsFile.header[code].items.length < state.website.header.items.length) {\n                    for (let i = updatedlangsFile.header[code].items.length; i < state.website.header.items.length; i++) {\n                        updatedlangsFile.header[code].items.push({\n                            items: []\n                        });\n                        for (let item of state.website.header.items[i].items) {\n                            const itemIndex = state.website.header.items[i].items.indexOf(item);\n                            updatedlangsFile.header[code].items[i].items.push({\n                                value: []\n                            });\n                            item.value.map((val, index) => {\n                                if (val.type === 'social-link' || val.type === 'internal-link' ||\n                                    val.type === 'external-link' || val.type === 'address' ||\n                                    val.type === 'button') {\n                                    updatedlangsFile.header[code].items[i].items[itemIndex].value[index] = {\n                                        value: val.value.title\n                                    }\n                                }\n                                if (val.type === 'phone' || val.type === 'email' || val.type === 'logo') {\n                                    updatedlangsFile.header[code].items[i].items[itemIndex].value[index] = {\n                                        value: val.value\n                                    }\n                                }\n                            })\n                        }\n                    }\n                    updateState('pageBuilder', 'langsFile', updatedlangsFile);\n                }\n                if (updatedlangsFile.header[code].items.length > state.website.header.items.length) {\n                    handleSetDefaultHeader(updatedlangsFile, code);\n                }\n                if (updatedlangsFile.header[code].items.length === state.website.header.items.length) {\n                    Promise.all(state.website.header.items.map((item, index) => {\n                        if (item.items.length > updatedlangsFile.header[code].items[index].items.length) {\n                            for (let i = updatedlangsFile.header[code].items[index].items.length; i < state.website.header.items[index].items.length; i++) {\n                                updatedlangsFile.header[code].items[index].items.push({\n                                    value: []\n                                });\n                                item.items[i].value.map((val, itemIndex) => {\n                                    if (val.type === 'social-link' || val.type === 'internal-link' ||\n                                        val.type === 'external-link' || val.type === 'address' ||\n                                        val.type === 'button') {\n                                        updatedlangsFile.header[code].items[index].items[i].value[itemIndex] = {\n                                            value: val.value.title\n                                        }\n                                    }\n                                    if (val.type === 'phone' || val.type === 'email' || val.type === 'logo') {\n                                        updatedlangsFile.header[code].items[index].items[i].value[itemIndex] = {\n                                            value: val.value\n                                        }\n                                    }\n                                })\n                            }\n                        }\n                        if (item.items.length < updatedlangsFile.header[code].items[index].items.length) {\n                            for (let i = item.items.length; i < updatedlangsFile.header[code].items[index].items.length; i++) {\n                                updatedlangsFile.header[code].items[index].items.length = item.items.length;\n                            }\n                        }\n                    }))\n                }\n                Promise.all(state.website.header.items.map((item, index) => {\n                    for (let i = 0; i < item.items.length; i++) {\n                        if (item.items[i].value.length > updatedlangsFile.header[code].items[index].items[i].value.length) {\n                            for (let j = updatedlangsFile.header[code].items[index].items[i].value.length; j < item.items[i].value.length; j++ ) {\n                                if (item.items[i].value[j].type === 'social-link' ||\n                                    item.items[i].value[j].type === 'internal-link' ||\n                                    item.items[i].value[j].type === 'external-link' ||\n                                    item.items[i].value[j].type === 'address' ||\n                                    item.items[i].value[j].type === 'button') {\n                                    updatedlangsFile.header[code].items[index].items[i].value[j] = {\n                                        value: item.items[i].value[j].value.title\n                                    }\n                                }\n                                if (item.items[i].value[j].type === 'phone' || item.items[i].value[j].type === 'email' ||\n                                    item.items[i].value[j].type === 'logo') {\n                                    updatedlangsFile.header[code].items[index].items[i].value[j] = {\n                                        value: item.items[i].value[j].value\n                                    }\n                                }\n                            }\n                        }\n                        if (item.items[i].value.length < updatedlangsFile.header[code].items[index].items[i].value.length) {\n                            updatedlangsFile.header[code].items[index].items[i].value.length = item.items[i].value.length;\n                        }\n                    }\n                }))\n                updateState('pageBuilder', 'langsFile', updatedlangsFile);\n            }\n            if (!updatedlangsFile?.footer?.[code]) {\n                updatedlangsFile.footer[code] = {\n                    items: []\n                }\n                handleSetDefaultFooter(updatedlangsFile, code);\n            } else {\n                if (updatedlangsFile.footer[code].items.length < state.website.footer.items.length) {\n                    for (let i = updatedlangsFile.footer[code].items.length; i < state.website.footer.items.length; i++) {\n                        updatedlangsFile.footer[code].items.push({\n                            items: []\n                        });\n                        for (let item of state.website.footer.items[i].items) {\n                            const itemIndex = state.website.footer.items[i].items.indexOf(item);\n                            updatedlangsFile.footer[code].items[i].items.push({\n                                value: []\n                            });\n                            item.value.map((val, index) => {\n                                if (val.type === 'social-link' ||\n                                    val.type === 'link' || val.type === 'button' ||\n                                    val.type === 'address' || val.type === 'internal-link') {\n                                    updatedlangsFile.footer[code].items[i].items[itemIndex].value[index] = {\n                                        value: val.value.title\n                                    }\n                                }\n                                if (val.type === 'phone' || val.type === 'email' || val.type === 'logo' ||\n                                    val.type === 'paragraph' || val.type === 'heading' || val.type === 'image') {\n                                    updatedlangsFile.footer[code].items[i].items[itemIndex].value[index] = {\n                                        value: val.value\n                                    }\n                                }\n                            })\n                        }\n                    }\n                }\n                if (updatedlangsFile.footer[code].items.length > state.website.footer.items.length) {\n                    updatedlangsFile.footer[code].items.length = state.website.footer.items.length;\n                }\n                if (updatedlangsFile.footer[code].items.length === state.website.footer.items.length) {\n                    Promise.all(state.website.footer.items.map((item, index) => {\n                        if (item.items.length > updatedlangsFile.footer[code].items[index].items.length) {\n                            for (let i = updatedlangsFile.footer[code].items[index].items.length; i < state.website.footer.items[index].items.length; i++) {\n                                updatedlangsFile.footer[code].items[index].items.push({\n                                    value: []\n                                });\n                                item.items[i].value.map((val, itemIndex) => {\n                                    if (val.type === 'social-link' ||\n                                        val.type === 'link' || val.type === 'button' ||\n                                        val.type === 'address' || val.type === 'internal-link') {\n                                        updatedlangsFile.footer[code].items[index].items[i].value[itemIndex] = {\n                                            value: val.value.title\n                                        }\n                                    }\n                                    if (val.type === 'phone' || val.type === 'email' || val.type === 'logo' ||\n                                        val.type === 'paragraph' || val.type === 'heading' || val.type === 'image') {\n                                        updatedlangsFile.footer[code].items[index].items[i].value[itemIndex] = {\n                                            value: val.value\n                                        }\n                                    }\n                                })\n                            }\n                        }\n                        if (item.items.length < updatedlangsFile.footer[code].items[index].items.length) {\n                            updatedlangsFile.footer[code].items[index].items.length = item.items.length;\n                        }\n                    }))\n                }\n                Promise.all(state.website.footer.items.map((item, index) => {\n                    for (let i = 0; i < item.items.length; i++) {\n                        if (item.items[i].value.length > updatedlangsFile.footer[code].items[index].items[i].value.length) {\n                            for (let j = updatedlangsFile.footer[code].items[index].items[i].value.length; j < item.items[i].value.length; j++ ) {\n                                if (item.items[i].value[j].type === 'social-link' ||\n                                    item.items[i].value[j].type === 'link' ||\n                                    item.items[i].value[j].type === 'button' ||\n                                    item.items[i].value[j].type === 'address' ||\n                                    item.items[i].value[j].type === 'internal-link') {\n                                    updatedlangsFile.footer[code].items[index].items[i].value[j] = {\n                                        value: item.items[i].value[j].value.title\n                                    }\n                                }\n                                if (item.items[i].value[j].type === 'phone' || item.items[i].value[j].type === 'email' ||\n                                    item.items[i].value[j].type === 'logo' ||\n                                    item.items[i].value[j].type === 'paragraph' ||\n                                    item.items[i].value[j].type === 'heading' ||\n                                    item.items[i].value[j].type === 'image') {\n                                    updatedlangsFile.footer[code].items[index].items[i].value[j] = {\n                                        value: item.items[i].value[j].value\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }))\n            }\n            setToState('pageBuilder', ['langsFile', 'pages'], pageLangFile);\n        }\n    }\n\n    const handleSetDefaultHeader = (updatedlangsFile, code) => {\n        Promise.all(state.website.header.items.map((rowItem, rowIndex) => {\n            updatedlangsFile.header[code].items[rowIndex] = {\n                items: []\n            }\n            rowItem.items.map((colItem, colIndex) => {\n                updatedlangsFile.header[code].items[rowIndex].items[colIndex] = {\n                    value: []\n                };\n                colItem.value.map((val, i) => {\n                    if (val.type === 'social-link' ||\n                        val.type === 'internal-link' ||\n                        val.type === 'external-link' ||\n                        val.type === 'address' ||\n                        val.type === 'button') {\n                        updatedlangsFile.header[code].items[rowIndex].items[colIndex].value[i] = {\n                            value: val.value.title\n                        };\n                    }\n                    if (val.type === 'phone' || val.type === 'email' || val.type === 'logo') {\n                        updatedlangsFile.header[code].items[rowIndex].items[colIndex].value[i] = {\n                            value: val.value\n                        };\n                    }\n                })\n            });\n        }))\n        updateState('pageBuilder', 'langsFile', updatedlangsFile);\n    }\n\n    const handleSetDefaultFooter = (updatedlangsFile, code) => {\n        Promise.all(state.website.footer.items.map((rowItem, rowIndex) => {\n            updatedlangsFile.footer[code].items[rowIndex] = {\n                items: []\n            }\n            rowItem.items.map((colItem, colIndex) => {\n                updatedlangsFile.footer[code].items[rowIndex].items[colIndex] = {\n                    value: []\n                };\n                colItem.value.map((val, i) => {\n                    if (val.type === 'social-link' ||\n                        val.type === 'link' || val.type === 'button'||\n                        val.type === 'address' || val.type === 'internal-link' ) {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n                            value: val.value.title\n                        };\n                    }\n                    if (val.type === 'address') {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n                            value: val.value.title,\n                            // link:\n                        };\n                    }\n                    if (val.type === 'phone' || val.type === 'email' || val.type === 'logo'\n                        || val.type === 'paragraph' || val.type === 'heading' || val.type === 'image') {\n                        updatedlangsFile.footer[code].items[rowIndex].items[colIndex].value[i] = {\n                            value: val.value\n                        };\n                    }\n                })\n            });\n        }))\n        updateState('pageBuilder', 'langsFile', updatedlangsFile);\n    }\n\n    if (!isLoaded) {\n        return <LoadingSpinner style={{color: COLORS.secondary}} />\n    }\n\n    return (\n        <Container className={isRequestSend ? classes.disabledEvent : ''}>\n            <Grid container={true}>\n                <Grid item={true} xs={6}>\n                    <FormControl size={'small'}>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={state.footerOnly}\n                                    onChange={handleFooterOnly}\n                                    name=\"footerOnly\"\n                                    color=\"primary\"\n                                />\n                            }\n                            label=\"Footer Only\"\n                        />\n                    </FormControl>\n                </Grid>\n                <Grid item={true} xs={6}>\n                    <FormControl\n                        variant=\"outlined\"\n                        style={{float: \"right\"}}\n                        disabled={(Object.keys(state.website.header).length === 0 ||\n                            state.website.pages.length === 0 ||\n                            Object.keys(state.website.footer).length === 0)}\n                        size={'small'}\n                    >\n                        <Select\n                            value={selectedLanguage}\n                            onChange={handleLanguageChange}\n                            label=\"Language\"\n                        >\n                            {\n                                languages.length > 0 && languages.map((lang, index) => {\n                                    return (\n                                        <MenuItem value={lang} key={index}>\n                                            {' '}\n                                            {lang.description}{' '}\n                                        </MenuItem>\n                                    )\n                                })\n                            }\n                        </Select>\n                    </FormControl>\n                </Grid>\n            </Grid>\n            <Box {...defaultProps}>\n                <div>\n                    {\n                        Object.keys(state.website.header).length > 0 ?\n                            <>\n                                <Button onClick={() => renderGenericDialog('edit-header')}>\n                                    <BorderColorSharpIcon color=\"primary\" />\n                                </Button>\n                                {\n                                    state.langCode === state.defaultLang && <IconButton\n                                        aria-label=\"Delete item\"\n                                        color=\"primary\"\n                                        onClick={() => {\n                                            setAlert(true);\n                                            setAlertDialogType('header');\n                                        }}\n                                    >\n                                        <DeleteIcon color=\"primary\" />\n                                    </IconButton>\n                                }\n                                <div style={{pointerEvents: 'none'}}>\n                                    {\n                                        state.langCode === state.defaultLang &&\n                                        <Header headerItems={state.website.header.items}/>\n                                    }\n                                    {\n                                        state.langCode !== state.defaultLang &&\n                                        Object.keys(state.langsFile).length > 0 &&\n                                        state.langsFile.header &&\n                                        <Header headerItems={state?.langsFile?.header?.[state.langCode]?.items}/>\n                                    }\n                                </div>\n                            </>\n                            :\n                            <h3 className={classes.centreContent} >\n                                <span onClick={() => renderGenericDialog('header')}\n                                      className={classes.cursorPointer}\n                                      style={{pointerEvents: state.footerOnly ? 'none' : '', opacity: state.footerOnly ? 0.5 : 1}}\n                                >\n                                    Click to define Header\n                                </span>\n                            </h3>\n                    }\n                </div>\n\n                <hr />\n\n                <div style={{minHeight: '50vh'}}>\n                    {\n                        state.website.pages.length > 0 && <Container>\n                            {\n                                state.langCode === state.defaultLang &&\n                                <Button\n                                    onClick={() => editSectionDialog(state.website.pages)}\n                                    color=\"primary\"\n                                >\n                                    <BorderColorSharpIcon/>\n                                </Button>\n                            }\n                            {\n                                state.langCode === state.defaultLang && state.website.pages && state.website.pages.length > 0 &&\n                                state.website.pages[0] && state.website.pages[0].gid &&\n                                <Page gid={state.website.pages[0].gid}/>\n                            }\n                            {\n                                state.langCode !== state.defaultLang && state.website.pages && state.website.pages.length > 0 &&\n                                state.website.pages[0] && state.website.pages[0].gid && state.langsFile && state.langsFile.pages &&\n                                state.langsFile.pages.length > 0 && state.langsFile.pages[0] && state.langsFile.pages[0].gid &&\n                                <Page gid={state.website.pages[0].gid}\n                                        otherLangGID={state?.langsFile?.pages[0]?.gid}\n                                />\n                            }\n                            </Container>\n                    }\n                    {\n                        state.website.pages.length === 0 && <h3 className={classes.centreContent}\n\n                        >\n                                <span\n                                    onClick={() => renderGenericDialog('page')}\n                                    className={classes.cursorPointer}\n                                    style={{pointerEvents: state.footerOnly ? 'none' : '', opacity: state.footerOnly ? 0.5 : 1}}\n                                >\n                                    Click to define Page\n                                </span>\n                        </h3>\n                    }\n                    {\n                        state.website.pages.length === 0 && <hr />\n                    }\n                </div>\n\n                <hr />\n\n                <div>\n                    {\n                        Object.keys(state.website.footer).length > 0 ?\n                            <>\n                                <Button onClick={() => renderGenericDialog('edit-footer')}>\n                                    <BorderColorSharpIcon color=\"primary\"/>\n                                </Button>\n                                {\n                                    state.langCode === state.defaultLang && <IconButton\n                                        aria-label=\"Delete item\"\n                                        color=\"primary\"\n                                        onClick={() => {\n                                            setAlert(true);\n                                            setAlertDialogType('footer');\n                                        }}\n                                    >\n                                        <DeleteIcon color=\"primary\"/>\n                                    </IconButton>\n                                }\n                                <div style={{pointerEvents: 'none'}}>\n                                    {\n                                        state.langCode === state.defaultLang &&\n                                        <Footer footerItems={state?.website?.footer?.items}/>\n                                    }\n                                    {\n                                        state.langCode !== state.defaultLang &&\n                                        <Footer footerItems={state?.langsFile?.footer?.[state.langCode]?.items}/>\n                                    }\n                                </div>\n                            </> :\n                            <h3 className={classes.centreContent}>\n                                <span onClick={() => renderGenericDialog('footer')}\n                                      className={classes.cursorPointer}>\n                                    Click to define Footer\n                                </span>\n                            </h3>\n                    }\n                </div>\n\n            </Box>\n            {renderDialog}\n            {\n                isAlert && <AlertDialog\n                    handleDelete={handleDelete}\n                    alertDialogType={alertDialogType}\n                />\n            }\n\n        </Container>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        state: state.formReducer.pageBuilder\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n    pushToState: (stateType, stateName, value) => dispatch(pushToState(stateType, stateName, value)),\n    deleteFromState: (stateType, stateName, value) => dispatch(deleteFromState(stateType, stateName, value))\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(WebsitePage)\n"]},"metadata":{},"sourceType":"module"}