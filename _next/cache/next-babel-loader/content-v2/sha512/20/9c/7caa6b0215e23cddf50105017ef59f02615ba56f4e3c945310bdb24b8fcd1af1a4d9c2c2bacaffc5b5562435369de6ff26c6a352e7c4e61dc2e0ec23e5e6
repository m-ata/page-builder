{"ast":null,"code":"var _jsxFileName = \"/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/faq/FaqDesign.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Container, AppBar, Tab, Tabs, Typography, Box, Grid, Divider } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\nimport { connect } from 'react-redux';\nimport FAQ_Dialog from \"../../components/faq/dialog/Dialog\";\nimport { pushToState, updateState, setToState } from \"../../../../../state/actions\";\nimport { COLORS, DELETE_SUCCESS, DATA_EMPTY } from \"../../constants\";\nimport { AlertDialog } from \"../../components/alert\";\nimport { toast } from 'react-toastify';\nimport { useRouter } from \"next/router\";\nimport WebCmsGlobal from \"components/webcms-global\";\nimport { ViewList } from \"@webcms/orest\";\nimport { isErrorMsg, OREST_ENDPOINT } from \"../../../../../model/orest/constants\";\nimport clsx from \"clsx\";\nimport LanguageDropdown from \"../../components/language/LanguageDropdown\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nimport IconButton from \"@material-ui/core/IconButton\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper\n  },\n  cursorPointer: {\n    cursor: 'pointer',\n    color: 'silver',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  heading: {\n    marginLeft: 16,\n    fontWeight: 'bold',\n    marginTop: 16\n  },\n  activeTab: {\n    backgroundColor: 'white',\n    color: 'silver',\n    borderRadius: 10,\n    marginTop: 4\n  },\n  defaultTab: {\n    backgroundColor: 'silver',\n    color: 'gray',\n    borderRadius: 10,\n    marginTop: 4\n  },\n  icon: {\n    height: 20,\n    width: 20\n  },\n  disable: {\n    pointerEvents: \"none\",\n    opacity: 0.5\n  },\n  qaList: {\n    cursor: \"pointer\",\n    \"& .hiddenButton\": {\n      display: \"none\"\n    },\n    \"&:hover .hiddenButton\": {\n      display: \"inline\"\n    }\n  }\n}));\nconst defaultProps = {\n  bgcolor: 'background.paper',\n  border: 1,\n  borderColor: 'silver'\n};\nconst questionBox = {\n  bgcolor: COLORS.backButton,\n  m: 2,\n  border: 2,\n  borderColor: 'gray',\n  borderRadius: 5\n};\nconst answerBox = {\n  bgcolor: COLORS.backButton,\n  m: 2,\n  border: 2,\n  borderColor: 'gray',\n  borderRadius: 5,\n  height: 100,\n  overflow: 'auto'\n};\n\nconst a11yProps = index => {\n  return {\n    id: `${index}`,\n    'aria-controls': `${index}`\n  };\n};\n\nconst FAQDesign = props => {\n  const {\n    state,\n    pushToState,\n    updateState,\n    setToState\n  } = props; //local states\n\n  const {\n    0: localState,\n    1: setLocalState\n  } = useState({\n    isLoaded: false,\n    qa: null,\n    isAlert: false,\n    dialogType: '',\n    isDialogOpen: false,\n    alertDialogType: '',\n    questionIndex: null,\n    categoryIndex: null,\n    editValue: null,\n    langID: 0,\n    isDisable: false\n  });\n  const classes = useStyles();\n  const router = useRouter();\n  const companyId = router.query.companyID;\n  const {\n    GENERAL_SETTINGS,\n    token\n  } = useContext(WebCmsGlobal);\n  const authToken = token || router.query.authToken;\n  const {\n    isLoaded,\n    qa,\n    isAlert,\n    dialogType,\n    isDialogOpen,\n    alertDialogType,\n    questionIndex,\n    categoryIndex,\n    editValue,\n    langID,\n    isDisable\n  } = localState;\n  useEffect(() => {\n    if (router.query.filegid) {\n      setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n        isLoaded: false\n      }));\n      ViewList({\n        apiUrl: GENERAL_SETTINGS.OREST_URL,\n        endpoint: OREST_ENDPOINT.RAFILE,\n        token: authToken,\n        params: {\n          hotelrefno: Number(companyId),\n          query: `gid:${router.query.filegid}`\n        }\n      }).then(res => {\n        if (res && res.status === 200 && res.data) {\n          if (res.data.data && res.data.data.length > 0) {\n            updateState('pageBuilder', 'faq', JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8')));\n            updateState('pageBuilder', 'faqActiveTab', 'cat-0');\n            updateState('pageBuilder', 'langId', res.data.data[0].langid);\n            updateState('pageBuilder', 'langCode', res.data.data[0].langcode);\n            updateState('pageBuilder', 'langDesc', res.data.data[0].langdesc);\n            setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n              langID: res.data.data[0].langid,\n              isLoaded: true\n            }));\n          } else {\n            setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n              isDisable: true,\n              isLoaded: true\n            }));\n            toast.error(DATA_EMPTY, {\n              position: toast.POSITION.TOP_RIGHT\n            });\n          }\n        } else {\n          const retErr = isErrorMsg(res);\n          setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n            isDisable: true,\n            isLoaded: true\n          }));\n          toast.error(retErr.errorMsg, {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      });\n    } else {\n      setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n        langID: router.query.langId,\n        isLoaded: true\n      }));\n\n      if (state.faq.length === 0) {\n        const category = {\n          id: 'cat-0',\n          type: 'category',\n          text: 'New Category',\n          items: []\n        };\n        pushToState('pageBuilder', ['faq'], [category]);\n        updateState('pageBuilder', 'faqActiveTab', 'cat-0');\n      }\n    }\n  }, []);\n  useEffect(() => {\n    let updatedQA = [];\n\n    if (state.faqActiveTab !== 'add') {\n      updatedQA = state.faq.find(x => x.id === state.faqActiveTab);\n      updatedQA && updatedQA.items && setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n        qa: updatedQA.items\n      }));\n    }\n  }, [state.faq, state.faqActiveTab]);\n\n  const handleTabChange = (event, newValue) => {\n    if (newValue === 'add') {\n      handleOpenDialog('add-category');\n    } else {\n      updateState('pageBuilder', 'faqActiveTab', newValue);\n    }\n  };\n\n  const resetDialog = () => {\n    setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      dialogType: '',\n      isDialogOpen: false\n    }));\n  };\n\n  const handleAddCategory = category => {\n    pushToState('pageBuilder', ['faq'], [category]);\n    updateState('pageBuilder', 'faqActiveTab', category.id);\n  };\n\n  const handleEditCategory = category => {\n    setToState('pageBuilder', ['faq', categoryIndex], category);\n  };\n\n  const handleDeleteCategory = () => {\n    const updatedFAQ = [...state.faq];\n    updatedFAQ.splice(categoryIndex, 1);\n    Promise.all(updatedFAQ.map((faq, index) => {\n      faq.id = `cat-${index}`;\n    }));\n    updateState('pageBuilder', 'faq', updatedFAQ);\n    toast.success(DELETE_SUCCESS, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n\n    if (updatedFAQ.length > 0) {\n      updateState('pageBuilder', 'faqActiveTab', updatedFAQ[updatedFAQ.length - 1].id);\n    } else {\n      updateState('pageBuilder', 'faqActiveTab', 'add');\n      setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n        qa: null\n      }));\n    }\n  };\n\n  const handleAddQA = qa => {\n    const updatedFAQ = [...state.faq];\n    const index = updatedFAQ.indexOf(updatedFAQ.find(x => x.id === state.faqActiveTab));\n\n    if (index !== -1) {\n      updatedFAQ[index].items.push(qa);\n      updateState('pageBuilder', 'faq', updatedFAQ);\n    }\n  };\n\n  const handleEditQA = qa => {\n    const updatedFAQ = [...state.faq];\n    const index = updatedFAQ.indexOf(updatedFAQ.find(x => x.id === state.faqActiveTab));\n\n    if (index !== -1 && questionIndex !== null) {\n      setToState('pageBuilder', ['faq', index, 'items', questionIndex], qa);\n    }\n  };\n\n  const handleDeleteQA = () => {\n    const updatedFAQ = [...state.faq];\n    const index = updatedFAQ.indexOf(updatedFAQ.find(x => x.id === state.faqActiveTab));\n\n    if (index !== -1) {\n      updatedFAQ[index].items.splice(questionIndex, 1);\n      Promise.all(updatedFAQ[index].items.map((question, index) => {\n        question.id = `question-${index}`;\n      }));\n      updateState('pageBuilder', 'faq', updatedFAQ);\n      toast.success(DELETE_SUCCESS, {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    }\n  };\n\n  const handleOpenDialog = type => {\n    setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      dialogType: type,\n      isDialogOpen: true\n    }));\n  };\n\n  const handleDelete = (type, isDelete) => {\n    if (isDelete) {\n      if (type === 'qa') handleDeleteQA();\n      if (type === 'cat') handleDeleteCategory();\n    }\n\n    setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      isAlert: false\n    }));\n  };\n\n  const handleLanguageChange = lang => {\n    updateState('pageBuilder', 'langCode', lang.code);\n    updateState('pageBuilder', 'langId', lang.id);\n    updateState('pageBuilder', 'langDesc', lang.description);\n  };\n\n  return __jsx(Container, {\n    className: clsx(classes.root, {\n      [classes.disable]: isDisable\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }\n  }, !isLoaded ? __jsx(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 29\n    }\n  }) : __jsx(Typography, {\n    component: 'div',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 50\n    }\n  }, __jsx(LanguageDropdown, {\n    handleChange: handleLanguageChange,\n    langID: langID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 21\n    }\n  }), __jsx(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 21\n    }\n  }, __jsx(Tabs, {\n    value: state.faqActiveTab,\n    onChange: handleTabChange,\n    \"aria-label\": \"wrapped label tabs example\",\n    variant: \"scrollable\",\n    TabIndicatorProps: {\n      style: {\n        display: 'none'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 25\n    }\n  }, state.faq && state.faq.length > 0 && state.faq.map((value, index) => {\n    return __jsx(Tab, _extends({\n      className: state.faqActiveTab === value.id ? classes.activeTab : classes.defaultTab,\n      style: {\n        marginLeft: index === 0 ? 0 : 4\n      },\n      value: value.id,\n      label: __jsx(Container, {\n        key: value.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 52\n        }\n      }, __jsx(Grid, {\n        container: true,\n        justify: 'center',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 49\n        }\n      }, __jsx(Grid, {\n        item: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 53\n        }\n      }, __jsx(EditIcon, {\n        className: classes.icon,\n        onClick: () => {\n          setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n            categoryIndex: index,\n            editValue: value\n          }));\n          handleOpenDialog('edit-category');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 57\n        }\n      }), __jsx(DeleteIcon, {\n        className: clsx(classes.icon, {\n          [classes.disable]: state.faq.length === 1\n        }),\n        onClick: () => {\n          setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n            isAlert: true,\n            alertDialogType: 'cat',\n            categoryIndex: index\n          }));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 57\n        }\n      }))), __jsx(Grid, {\n        container: true,\n        justify: 'center',\n        style: {\n          marginTop: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 49\n        }\n      }, __jsx(Grid, {\n        item: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 108\n        }\n      }, value.text))),\n      wrapped: true\n    }, a11yProps(value.id), {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 41\n      }\n    }));\n  }), __jsx(Tab, {\n    value: 'add',\n    label: __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 40\n      }\n    }, __jsx(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 51\n      }\n    }, __jsx(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 67\n      }\n    }, __jsx(ControlPointIcon, {\n      style: {\n        height: 20,\n        width: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 78\n      }\n    }), \" Add \"))),\n    \"aria-label\": \"add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 29\n    }\n  }))), __jsx(Box, _extends({}, defaultProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 21\n    }\n  }), __jsx(Typography, {\n    component: 'div',\n    style: {\n      height: 800,\n      overflow: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 25\n    }\n  }, qa && qa.length > 0 && qa.map((value, i) => {\n    return __jsx(Typography, {\n      component: 'div',\n      key: `qa-${i}`,\n      className: classes.qaList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 41\n      }\n    }, __jsx(Typography, {\n      component: 'div',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 45\n      }\n    }, __jsx(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 49\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 53\n      }\n    }, __jsx(Typography, {\n      component: 'h6',\n      variant: 'h6',\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 57\n      }\n    }, \"Question \", i + 1)), __jsx(Grid, {\n      item: true,\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 53\n      }\n    }, __jsx(Typography, {\n      component: 'div',\n      style: {\n        float: 'right'\n      },\n      className: 'hiddenButton',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 57\n      }\n    }, __jsx(IconButton, {\n      \"aria-label\": \"Edit QA\",\n      color: \"primary\",\n      onClick: () => {\n        handleOpenDialog('edit-qa');\n        setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n          questionIndex: i,\n          editValue: value\n        }));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 61\n      }\n    }, __jsx(EditIcon, {\n      color: 'primary',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 65\n      }\n    })), __jsx(IconButton, {\n      \"aria-label\": \"Edit QA\",\n      color: \"primary\",\n      onClick: () => {\n        setLocalState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n          isAlert: true,\n          alertDialogType: 'qa',\n          questionIndex: i\n        }));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 61\n      }\n    }, __jsx(DeleteIcon, {\n      className: 'hiddenButton',\n      color: 'primary',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 65\n      }\n    }))))), __jsx(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 49\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 53\n      }\n    }, __jsx(Box, _extends({}, questionBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 57\n      }\n    }), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: value.text\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 61\n      }\n    })))), __jsx(Typography, {\n      component: 'h6',\n      variant: 'h6',\n      className: classes.heading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 49\n      }\n    }, \"Answer\"), __jsx(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 49\n      }\n    }, __jsx(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 53\n      }\n    }, __jsx(Box, _extends({}, answerBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 57\n      }\n    }), __jsx(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: value.items[0].text\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 61\n      }\n    })))), __jsx(Divider, {\n      style: {\n        marginTop: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 49\n      }\n    })));\n  }), qa && __jsx(React.Fragment, null, __jsx(Typography, {\n    component: 'h5',\n    variant: 'h5',\n    onClick: () => handleOpenDialog('add-qa'),\n    className: classes.cursorPointer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 37\n    }\n  }, \"Click to add Q&A\"), __jsx(Divider, {\n    style: {\n      marginTop: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 37\n    }\n  }))))), isDialogOpen && __jsx(FAQ_Dialog, {\n    resetDialog: resetDialog,\n    type: dialogType,\n    onAddCategory: handleAddCategory,\n    onAddQA: handleAddQA,\n    onEditQA: handleEditQA,\n    onEditCategory: handleEditCategory,\n    state: editValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 33\n    }\n  }), isAlert && __jsx(AlertDialog, {\n    alertDialogType: alertDialogType,\n    handleDelete: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 28\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    state: state.formReducer.pageBuilder\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n  pushToState: (stateType, stateName, value) => dispatch(pushToState(stateType, stateName, value)),\n  setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FAQDesign);","map":{"version":3,"sources":["/Users/mata/app-cloudweb/components/page-builder/PageBuilderSteps/steps/faq/FaqDesign.js"],"names":["React","useContext","useEffect","useState","Container","AppBar","Tab","Tabs","Typography","Box","Grid","Divider","EditIcon","DeleteIcon","makeStyles","ControlPointIcon","connect","FAQ_Dialog","pushToState","updateState","setToState","COLORS","DELETE_SUCCESS","DATA_EMPTY","AlertDialog","toast","useRouter","WebCmsGlobal","ViewList","isErrorMsg","OREST_ENDPOINT","clsx","LanguageDropdown","LoadingSpinner","IconButton","useStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","cursorPointer","cursor","color","display","justifyContent","heading","marginLeft","fontWeight","marginTop","activeTab","borderRadius","defaultTab","icon","height","width","disable","pointerEvents","opacity","qaList","defaultProps","bgcolor","border","borderColor","questionBox","backButton","m","answerBox","overflow","a11yProps","index","id","FAQDesign","props","state","localState","setLocalState","isLoaded","qa","isAlert","dialogType","isDialogOpen","alertDialogType","questionIndex","categoryIndex","editValue","langID","isDisable","classes","router","companyId","query","companyID","GENERAL_SETTINGS","token","authToken","filegid","prevState","apiUrl","OREST_URL","endpoint","RAFILE","params","hotelrefno","Number","then","res","status","data","length","JSON","parse","Buffer","from","filedata","toString","langid","langcode","langdesc","error","position","POSITION","TOP_RIGHT","retErr","errorMsg","langId","faq","category","type","text","items","updatedQA","faqActiveTab","find","x","handleTabChange","event","newValue","handleOpenDialog","resetDialog","handleAddCategory","handleEditCategory","handleDeleteCategory","updatedFAQ","splice","Promise","all","map","success","handleAddQA","indexOf","push","handleEditQA","handleDeleteQA","question","handleDelete","isDelete","handleLanguageChange","lang","code","description","style","value","i","float","__html","mapStateToProps","formReducer","pageBuilder","mapDispatchToProps","dispatch","stateType","stateName"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {Container, AppBar, Tab, Tabs, Typography, Box, Grid, Divider} from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\nimport { connect } from 'react-redux';\nimport FAQ_Dialog from \"../../components/faq/dialog/Dialog\";\nimport { pushToState, updateState, setToState } from \"../../../../../state/actions\";\nimport {COLORS, DELETE_SUCCESS, DATA_EMPTY} from \"../../constants\";\nimport {AlertDialog} from \"../../components/alert\";\nimport { toast } from 'react-toastify'\nimport {useRouter} from \"next/router\";\nimport WebCmsGlobal from \"components/webcms-global\";\nimport {ViewList} from \"@webcms/orest\";\nimport {isErrorMsg, OREST_ENDPOINT} from \"../../../../../model/orest/constants\";\nimport clsx from \"clsx\";\nimport LanguageDropdown from \"../../components/language/LanguageDropdown\";\nimport LoadingSpinner from \"../../../../LoadingSpinner\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n    },\n    cursorPointer: {\n        cursor: 'pointer',\n        color: 'silver',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    heading: {\n        marginLeft: 16,\n        fontWeight: 'bold',\n        marginTop: 16\n    },\n    activeTab: {\n        backgroundColor: 'white',\n        color: 'silver',\n        borderRadius: 10,\n        marginTop: 4,\n    },\n    defaultTab: {\n        backgroundColor: 'silver',\n        color: 'gray',\n        borderRadius: 10,\n        marginTop: 4,\n    },\n    icon: {\n        height: 20,\n        width: 20\n    },\n    disable: {\n        pointerEvents: \"none\",\n        opacity: 0.5\n    },\n    qaList: {\n        cursor: \"pointer\",\n        \"& .hiddenButton\": {\n            display: \"none\"\n        },\n        \"&:hover .hiddenButton\": {\n            display: \"inline\"\n        }\n    }\n}));\n\nconst defaultProps = {\n    bgcolor: 'background.paper',\n    border: 1,\n    borderColor: 'silver',\n}\n\nconst questionBox = {\n    bgcolor: COLORS.backButton,\n    m: 2,\n    border: 2,\n    borderColor: 'gray',\n    borderRadius: 5,\n}\n\nconst answerBox = {\n    bgcolor: COLORS.backButton,\n    m: 2,\n    border: 2,\n    borderColor: 'gray',\n    borderRadius: 5,\n    height: 100,\n    overflow: 'auto'\n}\n\nconst a11yProps = (index) => {\n    return {\n        id: `${index}`,\n        'aria-controls': `${index}`,\n    };\n}\n\nconst FAQDesign = (props) => {\n\n    const { state, pushToState, updateState, setToState } = props;\n    //local states\n    const [localState, setLocalState] = useState({\n        isLoaded: false,\n        qa: null,\n        isAlert: false,\n        dialogType: '',\n        isDialogOpen: false,\n        alertDialogType: '',\n        questionIndex: null,\n        categoryIndex: null,\n        editValue: null,\n        langID: 0,\n        isDisable: false\n    });\n\n    const classes = useStyles();\n    const router = useRouter();\n    const companyId = router.query.companyID;\n    const { GENERAL_SETTINGS, token } = useContext(WebCmsGlobal);\n    const authToken = token || router.query.authToken;\n\n    const {\n        isLoaded,\n        qa,\n        isAlert,\n        dialogType,\n        isDialogOpen,\n        alertDialogType,\n        questionIndex,\n        categoryIndex,\n        editValue,\n        langID,\n        isDisable\n    } = localState;\n\n    useEffect(() => {\n        if (router.query.filegid) {\n            setLocalState((prevState) => ({ ...prevState, isLoaded: false }));\n            ViewList({\n                apiUrl: GENERAL_SETTINGS.OREST_URL,\n                endpoint: OREST_ENDPOINT.RAFILE,\n                token: authToken,\n                params: {\n                    hotelrefno: Number(companyId),\n                    query: `gid:${router.query.filegid}`\n                },\n            }).then(res => {\n                if (res && res.status === 200 && res.data) {\n                    if (res.data.data && res.data.data.length > 0) {\n                        updateState('pageBuilder', 'faq', JSON.parse(Buffer.from(res.data.data[0].filedata, 'base64').toString('utf-8')));\n                        updateState('pageBuilder', 'faqActiveTab', 'cat-0');\n                        updateState('pageBuilder', 'langId', res.data.data[0].langid);\n                        updateState('pageBuilder', 'langCode', res.data.data[0].langcode);\n                        updateState('pageBuilder', 'langDesc', res.data.data[0].langdesc);\n                        setLocalState((prevState) => ({ ...prevState, langID: res.data.data[0].langid, isLoaded: true }));\n                    } else {\n                        setLocalState((prevState) => ({ ...prevState, isDisable: true, isLoaded: true }));\n                        toast.error(DATA_EMPTY, {\n                            position: toast.POSITION.TOP_RIGHT,\n                        });\n                    }\n                } else {\n                    const retErr = isErrorMsg(res);\n                    setLocalState((prevState) => ({ ...prevState, isDisable: true, isLoaded: true }));\n                    toast.error(retErr.errorMsg, {\n                        position: toast.POSITION.TOP_RIGHT,\n                    });\n                }\n            })\n        } else {\n            setLocalState((prevState) => ({ ...prevState, langID: router.query.langId, isLoaded: true }));\n            if (state.faq.length === 0) {\n                const category = {\n                    id: 'cat-0',\n                    type: 'category',\n                    text: 'New Category',\n                    items: []\n                }\n                pushToState('pageBuilder', ['faq'], [category]);\n                updateState('pageBuilder', 'faqActiveTab', 'cat-0');\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        let updatedQA = [];\n        if (state.faqActiveTab !== 'add') {\n            updatedQA = state.faq.find(x => x.id === state.faqActiveTab);\n            updatedQA && updatedQA.items && setLocalState((prevState) => ({ ...prevState, qa: updatedQA.items }));\n        }\n    }, [state.faq, state.faqActiveTab]);\n\n    const handleTabChange = (event, newValue) => {\n        if (newValue === 'add') {\n            handleOpenDialog('add-category');\n        } else {\n            updateState('pageBuilder', 'faqActiveTab', newValue);\n        }\n    }\n\n    const resetDialog = () => {\n        setLocalState((prevState) => ({ ...prevState, dialogType: '', isDialogOpen: false }));\n    }\n\n    const handleAddCategory = (category) => {\n        pushToState('pageBuilder', ['faq'], [category]);\n        updateState('pageBuilder', 'faqActiveTab', category.id);\n    }\n\n    const handleEditCategory = (category) => {\n        setToState('pageBuilder', ['faq', categoryIndex], category);\n    }\n\n    const handleDeleteCategory = () => {\n        const updatedFAQ = [...state.faq];\n        updatedFAQ.splice(categoryIndex, 1);\n        Promise.all(updatedFAQ.map((faq, index) => {\n            faq.id = `cat-${index}`\n        }));\n        updateState('pageBuilder', 'faq', updatedFAQ);\n        toast.success(DELETE_SUCCESS, {\n            position: toast.POSITION.TOP_RIGHT,\n        })\n        if (updatedFAQ.length > 0) {\n            updateState('pageBuilder', 'faqActiveTab', updatedFAQ[updatedFAQ.length - 1].id);\n        } else {\n            updateState('pageBuilder', 'faqActiveTab', 'add');\n            setLocalState((prevState) => ({ ...prevState, qa: null }));\n        }\n    }\n\n    const handleAddQA = (qa) => {\n        const updatedFAQ = [...state.faq];\n        const index = updatedFAQ.indexOf(updatedFAQ.find(x => x.id === state.faqActiveTab));\n        if (index !== -1) {\n            updatedFAQ[index].items.push(qa);\n            updateState('pageBuilder', 'faq', updatedFAQ);\n        }\n    }\n\n    const handleEditQA = (qa) => {\n        const updatedFAQ = [...state.faq];\n        const index = updatedFAQ.indexOf(updatedFAQ.find(x => x.id === state.faqActiveTab));\n        if (index !== -1 && questionIndex !== null) {\n            setToState('pageBuilder', ['faq', index, 'items', questionIndex], qa);\n        }\n    }\n\n    const handleDeleteQA = () => {\n        const updatedFAQ = [...state.faq];\n        const index = updatedFAQ.indexOf(updatedFAQ.find(x => x.id === state.faqActiveTab));\n        if (index !== -1) {\n            updatedFAQ[index].items.splice(questionIndex, 1);\n            Promise.all(updatedFAQ[index].items.map((question, index) => {\n                question.id = `question-${index}`\n            }));\n            updateState('pageBuilder', 'faq', updatedFAQ);\n            toast.success(DELETE_SUCCESS, {\n                position: toast.POSITION.TOP_RIGHT,\n            })\n        }\n    }\n\n    const handleOpenDialog = (type) => {\n        setLocalState((prevState) => ({ ...prevState, dialogType: type, isDialogOpen: true }));\n    }\n\n    const handleDelete = (type, isDelete) => {\n        if (isDelete) {\n            if (type === 'qa') handleDeleteQA();\n            if (type === 'cat') handleDeleteCategory();\n        }\n        setLocalState((prevState) => ({ ...prevState, isAlert: false }));\n    }\n\n    const handleLanguageChange = (lang) => {\n        updateState('pageBuilder', 'langCode', lang.code);\n        updateState('pageBuilder', 'langId', lang.id);\n        updateState('pageBuilder', 'langDesc', lang.description);\n    }\n\n    return (\n        <Container className={clsx(classes.root, {[classes.disable]: isDisable })}>\n            {\n                !isLoaded ? <LoadingSpinner /> : <Typography component={'div'}>\n                    <LanguageDropdown handleChange={handleLanguageChange} langID={langID} />\n                    <AppBar position=\"static\">\n                        <Tabs\n                            value={state.faqActiveTab}\n                            onChange={handleTabChange}\n                            aria-label=\"wrapped label tabs example\"\n                            variant=\"scrollable\"\n                            TabIndicatorProps={{style: {display: 'none'}}}\n                        >\n                            {\n                                state.faq && state.faq.length > 0 && state.faq.map((value, index) => {\n                                    return (\n                                        <Tab\n                                            className={state.faqActiveTab === value.id ? classes.activeTab : classes.defaultTab}\n                                            style={{marginLeft: index === 0 ? 0 : 4}}\n                                            value={value.id}\n                                            label={<Container key={value.id}>\n                                                <Grid container justify={'center'}>\n                                                    <Grid item>\n                                                        <EditIcon\n                                                            className={classes.icon}\n                                                            onClick={() => {\n                                                                setLocalState((prevState) => ({ ...prevState, categoryIndex: index, editValue: value }));\n                                                                handleOpenDialog('edit-category');\n                                                            }} />\n                                                        <DeleteIcon\n                                                            className={clsx(classes.icon, {[classes.disable]: state.faq.length === 1})}\n                                                            onClick={() => {\n                                                                setLocalState((prevState) => ({ ...prevState, isAlert: true, alertDialogType: 'cat', categoryIndex: index  }));\n                                                            }} />\n                                                    </Grid>\n                                                </Grid>\n                                                <Grid container justify={'center'} style={{marginTop: 8}} ><Grid item>{value.text}</Grid></Grid>\n                                            </Container>}\n                                            wrapped\n                                            {...a11yProps(value.id)}\n                                            key={index}\n\n                                        />\n                                    )\n                                })\n                            }\n                            <Tab\n                                value={'add'}\n                                label={<Container><Grid container><Grid item><ControlPointIcon style={{height: 20, width: 20}} /> Add </Grid></Grid></Container>}\n                                aria-label=\"add\"\n                            />\n                        </Tabs>\n                    </AppBar>\n                    <Box {...defaultProps} >\n                        <Typography component={'div'} style={{height: 800, overflow: 'auto'}} >\n                            {\n                                qa && qa.length > 0 && qa.map((value, i) => {\n                                    return (\n                                        <Typography component={'div'} key={`qa-${i}`} className={classes.qaList}>\n                                            <Typography component={'div'}>\n                                                <Grid container>\n                                                    <Grid item xs={6}>\n                                                        <Typography component={'h6'} variant={'h6'} className={classes.heading} >\n                                                            Question {i + 1}\n                                                        </Typography>\n                                                    </Grid>\n                                                    <Grid item xs={6}>\n                                                        <Typography component={'div'} style={{float: 'right'}} className={'hiddenButton'}>\n                                                            <IconButton\n                                                                aria-label=\"Edit QA\"\n                                                                color=\"primary\"\n                                                                onClick={() => {\n                                                                    handleOpenDialog('edit-qa');\n                                                                    setLocalState((prevState) => ({ ...prevState, questionIndex: i, editValue: value }));\n                                                                }}\n                                                            >\n                                                                <EditIcon  color={'primary'} />\n                                                            </IconButton>\n                                                            <IconButton\n                                                                aria-label=\"Edit QA\"\n                                                                color=\"primary\"\n                                                                onClick={() => {\n                                                                    setLocalState((prevState) => ({ ...prevState, isAlert: true, alertDialogType: 'qa', questionIndex: i }));\n                                                                }}\n                                                            >\n                                                                <DeleteIcon className={'hiddenButton'} color={'primary'} />\n                                                            </IconButton>\n                                                        </Typography>\n                                                    </Grid>\n                                                </Grid>\n                                                <Grid container>\n                                                    <Grid item xs={12}>\n                                                        <Box {...questionBox}>\n                                                            <div dangerouslySetInnerHTML={{__html: value.text}} ></div>\n                                                        </Box>\n                                                    </Grid>\n                                                </Grid>\n                                                <Typography component={'h6'} variant={'h6'} className={classes.heading} >\n                                                    Answer\n                                                </Typography>\n                                                <Grid container>\n                                                    <Grid item xs={12}>\n                                                        <Box {...answerBox} >\n                                                            <div dangerouslySetInnerHTML={{__html: value.items[0].text}} ></div>\n                                                        </Box>\n                                                    </Grid>\n                                                </Grid>\n                                                <Divider style={{marginTop: 8}}  />\n                                            </Typography>\n                                        </Typography>\n                                    )\n                                })\n                            }\n                            {\n                                qa &&\n                                <>\n                                    <Typography component={'h5'} variant={'h5'}\n                                                onClick={() => handleOpenDialog('add-qa')}\n                                                className={classes.cursorPointer}\n                                    >\n                                        Click to add Q&A\n                                    </Typography>\n                                    <Divider style={{marginTop: 8}}/>\n                                </>\n                            }\n                        </Typography>\n                    </Box>\n                </Typography>\n            }\n            {\n                isDialogOpen && <FAQ_Dialog\n                    resetDialog={resetDialog}\n                    type={dialogType}\n                    onAddCategory={handleAddCategory}\n                    onAddQA={handleAddQA}\n                    onEditQA={handleEditQA}\n                    onEditCategory={handleEditCategory}\n                    state={editValue}\n                />\n            }\n            {\n                isAlert && <AlertDialog alertDialogType={alertDialogType} handleDelete={handleDelete}  />\n            }\n        </Container>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        state: state.formReducer.pageBuilder,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    updateState: (stateType, stateName, value) => dispatch(updateState(stateType, stateName, value)),\n    pushToState: (stateType, stateName, value) => dispatch(pushToState(stateType, stateName, value)),\n    setToState: (stateType, stateName, value) => dispatch(setToState(stateType, stateName, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FAQDesign);"]},"metadata":{},"sourceType":"module"}